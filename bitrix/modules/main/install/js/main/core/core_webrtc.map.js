{"version":3,"file":"core_webrtc.min.js","sources":["core_webrtc.js"],"names":["window","BX","webrtc","this","debug","audioMuted","videoMuted","enabled","detectedBrowser","pcConfig","oneway","lastUserMediaParams","pcConstraints","sdpConstraints","mandatory","OfferToReceiveAudio","OfferToReceiveVideo","defaultMicrophone","defaultCamera","defaultSpeaker","enableMicAutoParameters","useFallbackConstraints","configVideo","aspectRatio","configVideoGroup","configVideoMobile","configVideoAfterError","callStreamSelf","callStreamMain","callStreamUsers","pc","pcStart","connected","iceCandidates","initiator","callUserId","callChatId","callToGroup","callGroupUsers","callInit","callInitUserId","callActive","callVideo","callRequestUserMedia","needPeerConnection","createAnswerTimeout","initPeerConnectionTimeout","iceCandidateTimeout","pcConnectTimeout","init","setTurnServer","inheritWebrtc","child","prototype","Object","create","constructor","parent","navigator","mediaDevices","getUserMedia","userAgent","substr","indexOf","appVersion","attachMediaStream","element","stream","src","URL","createObjectURL","setSinkId","ready","params","turnServer","turnServerFirefox","turnServerLogin","turnServerPassword","iceServers","url","credential","username","optional","DtlsSrtpKeyAgreement","toggleAudio","changeVariable","getAudioTracks","length","i","toggleVideo","getVideoTracks","signalingReady","PULL","getPullServerStatus","log","text","desktop","arguments","JSON","stringify","message","console","startGetUserMedia","video","audio","onUserMediaSuccess","deviceId","ideal","echoCancellation","googEchoCancellation","googEchoCancellation2","googDAEchoCancellation","googAutoGainControl","googAutoGainControl2","mozAutoGainControl","googNoiseSuppression","googNoiseSuppression2","googHighpassFilter","googTypingNoiseDetection","googAudioMirroring","constraints","then","delegate","onUserMediaError","e","getTracks","forEach","track","mediaStreamTrackToString","bind","stopMediaStream","userId","clearTimeout","initPeerConnection","error","createPeerConnection","setTimeout","sendOfferToPeer","setLocalAndSend","desc","setLocalDescription","a","onRemoteStreamAdded","event","setMainVideo","onRemoteStreamRemoved","onIceCandidate","candidates","onIceConnectionStateChange","onSignalingStateChange","peerConnectionError","peerConnectionReconnect","iceConnectionState","signalingState","close","deleteEvents","hasOwnProperty","mergeConstraints","cons1","cons2","merged","name","concat","MozDontOfferDataChannel","prop","createOffer","RTCPeerConnection","onicecandidate","onIceCandidateEvent","onaddstream","onRemoteStreamAddedEvent","onremovestream","onRemoteStreamRemovedEvent","oniceconnectionstatechange","onIceConnectionStateChangeEvent","onsignalingstatechange","onSignalingStateChangeEvent","addStream","signalingPeerData","peerData","signal","parse","type","createAnswer","setRemoteDescription","RTCSessionDescription","candidate","RTCIceCandidate","sdpMLineIndex","label","addIceCandidate","push","id","sdpMid","setDefaultCamera","setDefaultMicrophone","result","key","isFunction","mediaStream","MediaStream","stop"],"mappings":"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"}