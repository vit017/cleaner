BitrixSUG=function(){};BitrixSUG.prototype.sendRequest=function(e){if(typeof e=="undefined"||typeof e.groupId=="undefined"||parseInt(e.groupId)<=0){return false}if(typeof e.action=="undefined"||!BX.util.in_array(e.action,["REQUEST","FAVORITES"])){return false}var t={};if(e.action=="FAVORITES"){t.value=typeof e.value!="undefined"?e.value:"Y"}BX.ajax({url:"/bitrix/components/bitrix/socialnetwork.user_groups/ajax.php",method:"POST",dataType:"json",data:{sessid:BX.bitrix_sessid(),site:BX.message("SITE_ID"),groupId:parseInt(e.groupId),action:e.action,params:t},onsuccess:function(t){if(typeof t.SUCCESS!="undefined"){e.callback_success(t)}else{e.callback_failure(typeof t.ERROR!="undefined"?t.ERROR:BX("SONET_C33_T_F_REQUEST_ERROR"))}},onfailure:function(t){e.callback_failure(BX("SONET_C33_T_F_REQUEST_ERROR"))}});return false};BitrixSUG.prototype.showRequestWait=function(e){BX.addClass(e,"popup-window-button-wait")};BitrixSUG.prototype.closeRequestWait=function(e){BX.removeClass(e,"popup-window-button-wait")};BitrixSUG.prototype.setFavorites=function(e,t){if(BX(e)){var o=e.cloneNode();o.style.marginLeft="-"+e.offsetWidth+"px";e.parentNode.appendChild(o);new BX.easing({duration:200,start:{opacity:100,scale:100},finish:{opacity:0,scale:300},transition:BX.easing.transitions.linear,step:function(e){o.style.transform="scale("+e.scale/100+")";o.style.opacity=e.opacity/100},complete:function(){o.parentNode.removeChild(o)}}).animate();if(!!t){BX.addClass(e,"sonet-groups-group-title-favorites-active");BX.adjust(e,{attrs:{title:BX.message("SONET_C33_T_ACT_FAVORITES_REMOVE")}})}else{BX.removeClass(e,"sonet-groups-group-title-favorites-active");BX.adjust(e,{attrs:{title:BX.message("SONET_C33_T_ACT_FAVORITES_ADD")}})}}};BitrixSUG.prototype.setRequestSent=function(e,t,o){if(BX(e)){this.closeRequestWait(e);BX.addClass(e,"sonet-groups-group-btn-sent")}if(typeof o!="undefined"&&o=="Z"&&BX(t)){BX.addClass(t,"sonet-groups-group-desc-container-active")}};BitrixSUG.prototype.showRequestSent=function(e){if(BX(e)){BX.addClass(e,"sonet-groups-group-desc-container-active")}};BitrixSUG.prototype.showError=function(e){var t=new BX.PopupWindow("ug-error"+Math.random(),window,{autoHide:true,lightShadow:false,zIndex:2,content:BX.create("DIV",{props:{className:"sonet-groups-error-text-block"},html:BX.message("SONET_C33_T_F_REQUEST_ERROR").replace("#ERROR#",e)}),closeByEsc:true,closeIcon:true});t.show()};BitrixSUG.prototype.showSortMenu=function(e){BX.PopupMenu.destroy("bx-sonet-groups-sort-menu");BX.PopupMenu.show("bx-sonet-groups-sort-menu",e.bindNode,[{text:BX.message("SONET_C33_T_F_SORT_ALPHA"),onclick:BX.proxy(function(){this.selectSortMenuItem({text:BX.message("SONET_C33_T_F_SORT_ALPHA"),key:"alpha",valueNode:e.valueNode});BX.PopupMenu.destroy("bx-sonet-groups-sort-menu")},this)},{text:BX.message("SONET_C33_T_F_SORT_DATE_REQUEST"),onclick:BX.proxy(function(){this.selectSortMenuItem({text:BX.message("SONET_C33_T_F_SORT_DATE_REQUEST"),key:"date_request",valueNode:e.valueNode});BX.PopupMenu.destroy("bx-sonet-groups-sort-menu")},this)},parseInt(e.userId)==BX.message("USER_ID")?{text:BX.message("SONET_C33_T_F_SORT_DATE_VIEW"),onclick:BX.proxy(function(){this.selectSortMenuItem({text:BX.message("SONET_C33_T_F_SORT_DATE_VIEW"),key:"date_view",valueNode:e.valueNode});BX.PopupMenu.destroy("bx-sonet-groups-sort-menu")},this)}:null,e.showMembersCountItem?{text:BX.message("SONET_C33_T_F_SORT_MEMBERS_COUNT"),onclick:BX.proxy(function(){this.selectSortMenuItem({text:BX.message("SONET_C33_T_F_SORT_MEMBERS_COUNT"),key:"members_count",valueNode:e.valueNode});BX.PopupMenu.destroy("bx-sonet-groups-sort-menu")},this)}:null,{text:BX.message("SONET_C33_T_F_SORT_DATE_ACTIVITY"),onclick:BX.proxy(function(){this.selectSortMenuItem({text:BX.message("SONET_C33_T_F_SORT_DATE_ACTIVITY"),key:"date_activity",valueNode:e.valueNode});BX.PopupMenu.destroy("bx-sonet-groups-sort-menu")},this)}],{offsetLeft:100,offsetTop:0,lightShadow:false,angle:{position:"top",offset:50}});return false};BitrixSUG.prototype.selectSortMenuItem=function(e){BX(e.valueNode).innerHTML=e.text;var t=null;switch(e.key){case"alpha":t=BX.message("filterAlphaUrl");break;case"date_request":t=BX.message("filterDateRequestUrl");break;case"date_view":t=BX.message("filterDateViewUrl");break;case"members_count":t=BX.message("filterMembersCountUrl");break;case"date_activity":t=BX.message("filterDateActivitytUrl");break;default:t=BX.message("filterAlphaUrl")}document.location.href=t};oSUG=new BitrixSUG;window.oSUG=oSUG;
//# sourceMappingURL=script.map.js