{"version":3,"file":"desktop.min.js","sources":["desktop.js"],"names":["window","BX","desktop","this","apiReady","clientVersion","disableLogin","autorun","lastSetIcon","showNotifyId","htmlWrapperHead","topmostWindow","topmostWindowTimeout","path","mainUserOptions","pathToAjax","pathToPull","tabItems","tabRedrawTimeout","syncStatus","syncPauseBlock","inited","sizeInited","minWidth","minHeight","timeoutDelayOfLogout","eventHandlers","addCustomEvent","delegate","terminate","reason","logout","bind","e","keyCode","ctrlKey","metaKey","shiftKey","BXIM","setLocalConfig","console","log","windowReload","openDeveloperTools","openLogsFolder","prototype","init","params","setWindowResizable","setWindowMinSize","Width","MessengerWindow","Height","ready","message","replace","getApiVersion","debugEnable","browser","IsMac","document","head","insertBefore","create","attrs","type","html","firstChild","addClass","body","userInfo","getUserInfo","contentMenu","content","onCustomEvent","newRevision","oldRevision","PULL","closeConfirm","location","reload","error","code","setIconStatus","login","setPrivateVar","updateState","sendErrorCode","textError","userEmail","messenger","connectionStatus","userOptions","setAjaxPath","status","settings","preventShutdown","tabId","changeTab","setTimeout","finalizeTrayMenu","onSyncStatusChanged","notSupported","setWindowSize","setWindowTitle","updateContent","props","className","children","events","click","checkUpdate","innerHTML","appendChild","getCurrentUrl","protocol","hostname","port","diskReady","callback","success","sessid","bitrix_sessid","loginSuccessCallback","BXDesktopSystem","Login","showLoginForm","Logout","skipCheck","ajax","url","method","dataType","timeout","data","IM_DESKTOP_LOGOUT","onsuccess","Shutdown","onfailure","openBrowser","enableInVersion","ExecuteCommand","NotifyNoUpdates","ShowNotifications","browse","full","GetProperty","join","version","parseInt","eventName","eventHandler","realHandler","arEventParams","i","detail","push","apply","addEventListener","removeCustomEvents","forEach","removeEventListener","windowTarget","arguments","length","objEventParams","mainWindow","opener","top","BXWindows","name","BXDesktopWindow","DispatchCustomEvent","findWindow","windowIsFocused","SetIconStatus","setIconBadge","count","important","isActiveWindow","SetIconBadge","setIconTooltip","iconTitle","enabled","SetProperty","setWindowClosable","flashIcon","voiced","FlashIcon","getWorkArea","coordinates","GetWorkArea","left","right","bottom","showNotification","notifyId","js","getHtmlPage","adjustSize","width","height","resize","offsetWidth","offsetHeight","syncPause","immediate","BXFileStorage","SyncPause","getSyncStatus","windowCommand","command","setActiveWindow","indexOf","close","trace","openTopmostWindow","bodyClass","closeTopmostWindow","jsContent","outerHTML","isDomNode","OpenDeveloperTools","OpenLogsFolder","autorunStatus","value","diskAttachStatus","BitrixDisk","clipboardSelected","element","expandToWholeWord","resultText","selectionStart","selectionEnd","tagName","substring","wordStartPosition","substr","search","wordEndPosition","getSelection","toString","range","getRangeAt","cloneContents","div","createElement","util","htmlspecialcharsback","split","text","clipboardCopy","cut","execCommand","clipboardTextArea","style","position","opacity","focus","textNew","remove","clipboardCut","clipboardPaste","clipboardDelete","clipboardUndo","clipboardRedo","clipboardReplaceText","positionStart","positionEnd","selectAll","getLocalConfig","def","result","QuerySettings","JSON","parse","stringify","StoreSettings","removeLocalConfig","filename","Log","createWindow","GetWindow","getWindowTitle","title","trim","setWindowPosition","addTrayMenuItem","AddTrayMenuItem","EndTrayMenuItem","PreventShutdown","diskReportStorageNotification","ReportStorageNotification","diskOpenFolder","OpenFolder","addSeparator","addTab","force","closeTab","setTabBadge","updateTabBadge","badge","SetTabBadge","getContextWindow","setTabContent","IsActiveTab","getActiveWindow","ActiveTab","TAB_CP","TAB_B24NET","windowId","SetActiveTabI","SetActiveTab"],"mappings":"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"}