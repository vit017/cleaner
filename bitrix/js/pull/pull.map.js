{"version":3,"file":"pull.min.js","sources":["pull.js"],"names":["window","BX","console","log","PULL","_revision","_updateStateVeryFastCount","_updateStateFastCount","_updateStateStep","_updateStateTimeout","_updateStateStatusTimeout","_updateStateSend","_pullTryAfterBxLink","_pullTryConnect","_pullPath","_pullMethod","_pullWithHeaders","_pullCapturePullEvent","_pullCapturePullEventStatus","_pullGetPullEventFunctionStatus","_pullTimeConfig","_pullTimeConfigShared","_pullTimeConst","Date","toUTCString","_pullTime","_pullTag","_pullTimeout","_pullMid","_watchTag","_watchTimeout","_channelID","_channelClearReason","_channelClear","_channelLastID","_channelStack","_WS","_wsPath","_wsSupport","_wsConnected","_wsTryReconnect","_wsError1006Count","_mobileMode","_lsSupport","_escStatus","_sendAjaxTry","_confirm","_beforeUnload","_pathToAjax","_onBeforeUnload","proxy","close","returnPrivateVar","tryConnectDelay","this","start","params","MOBILE","LOCAL_STORAGE","HEADERS","localStorage","get","WEBSOCKET","_userId","message","USER_ID","bind","tryConnect","updateState","browser","IsFirefox","event","keyCode","supportWebSocket","PATH_COMMAND","setAjaxPath","CHANNEL_ID","getModernPath","PATH_WS","METHOD","CHANNEL_DT","toString","split","parseInt","LAST_ID","SupportLocalStorage","addCustomEvent","storageSet","set","PATH","TIME_LAST_GET","TIME_LAST_GET_SHARED","error","delegate","desktop","initBeforeUnload","onCustomEvent","expireConfig","init","updateWatch","getNowDate","today","currentDate","getFullYear","getMonth","getDate","Math","round","getDateDiff","timestamp","userTzOffset","localTimestamp","incomingTimestamp","setTryAfterBxLink","result","unbind","setTimeout","setPrivateVar","clearTimeout","floor","random","getChannelID","code","withoutCache","send","ajax","url","toUpperCase","method","skipAuthCheck","dataType","lsId","lsTimeout","timeout","data","PULL_GET_CHANNEL","SITE_ID","CACHE","PULL_AJAX_CALL","sessid","bitrix_sessid","onsuccess","ERROR","REVISION","checkRevision","BITRIX_SESSID","tryConnectTimeout","text","JSON","stringify","onfailure","force","length","connectWebSocket","connectPull","wsPath","replace","location","hostname","_wsServer","WebSocket","e","onopen","onclose","reason","parse","neverConnect","sendConnectRequest","wasClean","http_status","onmessage","messageCount","dataArray","match","i","substring","parseJSON","id","channel","time","executeMessages","MESSAGE","SERVER_TIME","SERVER_TIME_WEB","tag","mid","onerror","headersForRequest","name","value","pullPath","_ajax","skipBxHeader","headers","PULL_UPDATE_STATE","CHANNEL_LAST_ID","TAG","MID","TIME","setUpdateStateStep","status","expires","getResponseHeader","lastMessageId","extendWatch","clearWatch","arWatchTag","hasOwnProperty","push","pathname","PULL_UPDATE_WATCH","WATCH","RESULT","pull","module_id","toLowerCase","command","updateChannelID","CHANNEL_DIE","PREV_CHANNEL_ID","tryConnectSet","setUpdateStateStepCount","debug","step","veryFastCount","fastCount","key","indexOf","channelID","lastId","sendAjaxTry","pullTryConnect","getPullServerStatus","capturePullEvent","getPullEventFunction","getDebugInfo","textWT","clearChannelId","isWebSoketConnected","IsChrome","IsOpera","IsSafari","navigator","userAgent","substr","appVersion","DetectIeVersion","IsAndroid","PATH_MOD","IsIE","getRevision","getDebugInfoArray","connected","websocket","path","revision","openConfirm","v","eval","va","ve","buttons","modal","destroy","PopupWindowButton","className","events","click","popupWindow","PreventDefault","PopupWindow","zIndex","autoHide","closeByEsc","overlay","onPopupClose","onPopupDestroy","content","create","props","html","show","popupContainer","preventDefault","contentContainer","element","closeConfirm","stopPropagation","cancelBubble"],"mappings":"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"}