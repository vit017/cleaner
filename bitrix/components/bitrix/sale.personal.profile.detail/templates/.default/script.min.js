BX.namespace("BX.Sale.PersonalProfileComponent");(function(){BX.Sale.PersonalProfileComponent.PersonalProfileDetail={init:function(){var e=document.getElementsByClassName("sale-personal-profile-detail-property-file");Array.prototype.forEach.call(e,function(e){var l=e.getElementsByClassName("profile-property-input-delete-file")[0];var a=e.getElementsByClassName("sale-personal-profile-detail-input-file")[0];var i=e.getElementsByClassName("sale-personal-profile-detail-load-file-info")[0];var s=e.getElementsByClassName("sale-personal-profile-detail-load-file-cancel")[0];BX.bindDelegate(e,"click",{"class":"profile-property-check-file"},BX.proxy(function(e){if(l.value!=""){idList=l.value.split(";");if(idList.indexOf(e.target.value)===-1){l.value=l.value+";"+e.target.value}else{idList.splice(idList.indexOf(e.target.value),1);l.value=idList.join(";")}}else{l.value=e.target.value}},this));BX.bind(a,"change",BX.delegate(function(e){if(e.target.files.length>1){i.innerHTML=BX.message("SPPD_FILE_COUNT")+e.target.files.length;s.classList.remove("sale-personal-profile-hide")}else if(e.target.files.length==1){fileName=e.target.files[0].name;if(fileName.length>40){i.innerHTML=fileName.substr(0,9)+"..."+fileName.substr(-9)}else{i.innerHTML=e.target.files[0].name}s.classList.remove("sale-personal-profile-hide")}else{s.classList.add("sale-personal-profile-hide");i.innerHTML=BX.message("SPPD_FILE_NOT_SELECTED")}},this));BX.bind(s,"click",BX.delegate(function(){s.classList.add("sale-personal-profile-hide");i.innerHTML=BX.message("SPPD_FILE_NOT_SELECTED");a.value="";a.files=[]},this))})}}})();
//# sourceMappingURL=script.map.js