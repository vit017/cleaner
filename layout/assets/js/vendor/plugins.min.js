!function(a,b,c,d){function e(b,c){if(this.element=b,this.options=a.extend(!0,{},h,c),this.options.events.length&&(this.options.events=this.options.multiDayEvents?this.addMultiDayMomentObjectsToEvents(this.options.events):this.addMomentObjectToEvents(this.options.events)),this.month=this.options.startWithMonth?moment(this.options.startWithMonth).startOf("month"):moment().startOf("month"),this.options.constraints){if(this.options.constraints.startDate){var d=moment(this.options.constraints.startDate);this.month.isBefore(d,"month")&&(this.month.set("month",d.month()),this.month.set("year",d.year()))}if(this.options.constraints.endDate){var e=moment(this.options.constraints.endDate);this.month.isAfter(e,"month")&&this.month.set("month",e.month()).set("year",e.year())}}this._defaults=h,this._name=g,this.init()}var f="<div class='clndr-controls'><div class='clndr-control-button'><span class='clndr-previous-button'>previous</span></div><div class='month'><%= month %> <%= year %></div><div class='clndr-control-button rightalign'><span class='clndr-next-button'>next</span></div></div><table class='clndr-table' border='0' cellspacing='0' cellpadding='0'><thead><tr class='header-days'><% for(var i = 0; i < daysOfTheWeek.length; i++) { %><td class='header-day'><%= daysOfTheWeek[i] %></td><% } %></tr></thead><tbody><% for(var i = 0; i < numberOfRows; i++){ %><tr><% for(var j = 0; j < 7; j++){ %><% var d = j + i * 7; %><td class='<%= days[d].classes %>'><div class='day-contents'><%= days[d].day %></div></td><% } %></tr><% } %></tbody></table>",g="clndr",h={template:f,weekOffset:0,startWithMonth:null,clickEvents:{click:null,nextMonth:null,previousMonth:null,nextYear:null,previousYear:null,today:null,onMonthChange:null,onYearChange:null},targets:{nextButton:"clndr-next-button",previousButton:"clndr-previous-button",nextYearButton:"clndr-next-year-button",previousYearButton:"clndr-previous-year-button",todayButton:"clndr-today-button",day:"day",empty:"empty"},events:[],extras:null,dateParameter:"date",multiDayEvents:null,doneRendering:null,render:null,daysOfTheWeek:null,showAdjacentMonths:!0,adjacentDaysChangeMonth:!1,ready:null,constraints:null,forceSixRows:null};e.prototype.init=function(){if(this.daysOfTheWeek=this.options.daysOfTheWeek||[],!this.options.daysOfTheWeek){this.daysOfTheWeek=[];for(var b=0;7>b;b++)this.daysOfTheWeek.push(moment().weekday(b).format("dd").charAt(0))}if(this.options.weekOffset&&(this.daysOfTheWeek=this.shiftWeekdayLabels(this.options.weekOffset)),!a.isFunction(this.options.render)){if(this.options.render=null,"undefined"==typeof _)throw new Error("Underscore was not found. Please include underscore.js OR provide a custom render function.");this.compiledClndrTemplate=_.template(this.options.template)}a(this.element).html("<div class='clndr'></div>"),this.calendarContainer=a(".clndr",this.element),this.bindEvents(),this.render(),this.options.ready&&this.options.ready.apply(this,[])},e.prototype.shiftWeekdayLabels=function(a){for(var b=this.daysOfTheWeek,c=0;a>c;c++)b.push(b.shift());return b},e.prototype.createDaysObject=function(b){daysArray=[];var c=b.startOf("month");if(this.eventsLastMonth=[],this.eventsThisMonth=[],this.eventsNextMonth=[],this.options.events.length)if(this.options.multiDayEvents){if(this.eventsThisMonth=a(this.options.events).filter(function(){return this._clndrStartDateObject.format("YYYY-MM")<=b.format("YYYY-MM")||b.format("YYYY-MM")<=this._clndrEndDateObject.format("YYYY-MM")}).toArray(),this.options.showAdjacentMonths){var d=b.clone().subtract("months",1),e=b.clone().add("months",1);this.eventsLastMonth=a(this.options.events).filter(function(){return this._clndrStartDateObject.format("YYYY-MM")<=d.format("YYYY-MM")||d.format("YYYY-MM")<=this._clndrEndDateObject.format("YYYY-MM")}).toArray(),this.eventsNextMonth=a(this.options.events).filter(function(){return this._clndrStartDateObject.format("YYYY-MM")<=e.format("YYYY-MM")||e.format("YYYY-MM")<=this._clndrEndDateObject.format("YYYY-MM")}).toArray()}}else if(this.eventsThisMonth=a(this.options.events).filter(function(){return this._clndrDateObject.format("YYYY-MM")==b.format("YYYY-MM")}).toArray(),this.options.showAdjacentMonths){var d=b.clone().subtract("months",1),e=b.clone().add("months",1);this.eventsLastMonth=a(this.options.events).filter(function(){return this._clndrDateObject.format("YYYY-MM")==d.format("YYYY-MM")}).toArray(),this.eventsNextMonth=a(this.options.events).filter(function(){return this._clndrDateObject.format("YYYY-MM")==e.format("YYYY-MM")}).toArray()}var f=c.weekday()-this.options.weekOffset;if(0>f&&(f+=7),this.options.showAdjacentMonths)for(var g=0;f>g;g++){var h=moment([b.year(),b.month(),g-f+1]);daysArray.push(this.createDayObject(h,this.eventsLastMonth))}else for(var g=0;f>g;g++)daysArray.push(this.calendarDay({classes:this.options.targets.empty+" last-month"}));for(var i=c.daysInMonth(),g=1;i>=g;g++){var h=moment([b.year(),b.month(),g]);daysArray.push(this.createDayObject(h,this.eventsThisMonth))}for(var g=1;daysArray.length%7!==0;){if(this.options.showAdjacentMonths){var h=moment([b.year(),b.month(),i+g]);daysArray.push(this.createDayObject(h,this.eventsNextMonth))}else daysArray.push(this.calendarDay({classes:this.options.targets.empty+" next-month"}));g++}if(this.options.forceSixRows&&42!==daysArray.length)for(var j=moment(daysArray[daysArray.length-1].date).add("days",1);daysArray.length<42;)this.options.showAdjacentMonths?(daysArray.push(this.createDayObject(moment(j),this.eventsNextMonth)),j.add("days",1)):daysArray.push(this.calendarDay({classes:this.options.targets.empty+" next-month"}));return daysArray},e.prototype.createDayObject=function(a,b){var c=[],e=moment(),f=this,g=0,h=b.length;for(g;h>g;g++)if(f.options.multiDayEvents){var i=b[g]._clndrStartDateObject,j=b[g]._clndrEndDateObject;(a.isSame(i,"day")||a.isAfter(i,"day"))&&(a.isSame(j,"day")||a.isBefore(j,"day"))&&c.push(b[g])}else b[g]._clndrDateObject.date()==a.date()&&c.push(b[g]);var k="";return e.format("YYYY-MM-DD")==a.format("YYYY-MM-DD")&&(k+=" today"),a.isBefore(e,"day")&&(k+=" past"),c.length&&(k+=" event"),this.month.month()>a.month()?(k+=" adjacent-month",k+=this.month.year()===a.year()?" last-month":" next-month"):this.month.month()<a.month()&&(k+=" adjacent-month",k+=this.month.year()===a.year()?" next-month":" last-month"),this.options.constraints&&(this.options.constraints.startDate&&a.isBefore(moment(this.options.constraints.startDate))&&(k+=" inactive"),this.options.constraints.endDate&&a.isAfter(moment(this.options.constraints.endDate))&&(k+=" inactive")),!a.isValid()&&a.hasOwnProperty("_d")&&a._d!=d&&(a=moment(a._d)),k+=" calendar-day-"+a.format("YYYY-MM-DD"),k+=" calendar-dow-"+a.weekday(),this.calendarDay({day:a.date(),classes:this.options.targets.day+k,events:c,date:a})},e.prototype.render=function(){this.calendarContainer.children().remove();var a=this.createDaysObject(this.month),b=(this.month,{daysOfTheWeek:this.daysOfTheWeek,numberOfRows:Math.ceil(a.length/7),days:a,month:this.month.format("MMMM"),year:this.month.year(),eventsThisMonth:this.eventsThisMonth,eventsLastMonth:this.eventsLastMonth,eventsNextMonth:this.eventsNextMonth,extras:this.options.extras});if(this.calendarContainer.html(this.options.render?this.options.render.apply(this,[b]):this.compiledClndrTemplate(b)),this.options.constraints){for(target in this.options.targets)target!=this.options.targets.day&&this.element.find("."+this.options.targets[target]).toggleClass("inactive",!1);var c=null,d=null;this.options.constraints.startDate&&(c=moment(this.options.constraints.startDate)),this.options.constraints.endDate&&(d=moment(this.options.constraints.endDate)),c&&this.month.isSame(c,"month")&&this.element.find("."+this.options.targets.previousButton).toggleClass("inactive",!0),d&&this.month.isSame(d,"month")&&this.element.find("."+this.options.targets.nextButton).toggleClass("inactive",!0),c&&moment(c).subtract("years",1).isBefore(moment(this.month).subtract("years",1))&&this.element.find("."+this.options.targets.previousYearButton).toggleClass("inactive",!0),d&&moment(d).add("years",1).isAfter(moment(this.month).add("years",1))&&this.element.find("."+this.options.targets.nextYearButton).toggleClass("inactive",!0),(c&&c.isAfter(moment(),"month")||d&&d.isBefore(moment(),"month"))&&this.element.find("."+this.options.targets.today).toggleClass("inactive",!0)}this.options.doneRendering&&this.options.doneRendering.apply(this,[])},e.prototype.bindEvents=function(){var b=a(this.element),c=this;b.on("click","."+this.options.targets.day,function(b){if(c.options.clickEvents.click){var d=c.buildTargetObject(b.currentTarget,!0);c.options.clickEvents.click.apply(c,[d])}c.options.adjacentDaysChangeMonth&&(a(b.currentTarget).is(".last-month")?c.backActionWithContext(c):a(b.currentTarget).is(".next-month")&&c.forwardActionWithContext(c))}),b.on("click","."+this.options.targets.empty,function(b){if(c.options.clickEvents.click){var d=c.buildTargetObject(b.currentTarget,!1);c.options.clickEvents.click.apply(c,[d])}c.options.adjacentDaysChangeMonth&&(a(b.currentTarget).is(".last-month")?c.backActionWithContext(c):a(b.currentTarget).is(".next-month")&&c.forwardActionWithContext(c))}),b.on("click","."+this.options.targets.previousButton,{context:this},this.backAction).on("click","."+this.options.targets.nextButton,{context:this},this.forwardAction).on("click","."+this.options.targets.todayButton,{context:this},this.todayAction).on("click","."+this.options.targets.nextYearButton,{context:this},this.nextYearAction).on("click","."+this.options.targets.previousYearButton,{context:this},this.previousYearAction)},e.prototype.buildTargetObject=function(b,c){var d={element:b,events:[],date:null};if(c){var e,f=b.className.indexOf("calendar-day-");0!==f?(e=b.className.substring(f+13,f+23),d.date=moment(e)):d.date=null,this.options.events&&(d.events=a.makeArray(this.options.multiDayEvents?a(this.options.events).filter(function(){return(d.date.isSame(this._clndrStartDateObject,"day")||d.date.isAfter(this._clndrStartDateObject,"day"))&&(d.date.isSame(this._clndrEndDateObject,"day")||d.date.isBefore(this._clndrEndDateObject,"day"))}):a(this.options.events).filter(function(){return this._clndrDateObject.format("YYYY-MM-DD")==e})))}return d},e.prototype.forwardAction=function(a){var b=a.data.context;b.forwardActionWithContext(b)},e.prototype.backAction=function(a){var b=a.data.context;b.backActionWithContext(b)},e.prototype.backActionWithContext=function(a){if(!a.element.find("."+a.options.targets.previousButton).hasClass("inactive")){var b=!a.month.isSame(moment(a.month).subtract("months",1),"year");a.month.subtract("months",1),a.render(),a.options.clickEvents.previousMonth&&a.options.clickEvents.previousMonth.apply(a,[moment(a.month)]),a.options.clickEvents.onMonthChange&&a.options.clickEvents.onMonthChange.apply(a,[moment(a.month)]),b&&a.options.clickEvents.onYearChange&&a.options.clickEvents.onYearChange.apply(a,[moment(a.month)])}},e.prototype.forwardActionWithContext=function(a){if(!a.element.find("."+a.options.targets.nextButton).hasClass("inactive")){var b=!a.month.isSame(moment(a.month).add("months",1),"year");a.month.add("months",1),a.render(),a.options.clickEvents.nextMonth&&a.options.clickEvents.nextMonth.apply(a,[moment(a.month)]),a.options.clickEvents.onMonthChange&&a.options.clickEvents.onMonthChange.apply(a,[moment(a.month)]),b&&a.options.clickEvents.onYearChange&&a.options.clickEvents.onYearChange.apply(a,[moment(a.month)])}},e.prototype.todayAction=function(a){var b=a.data.context,c=!b.month.isSame(moment(),"month"),d=!b.month.isSame(moment(),"year");b.month=moment().startOf("month"),b.options.clickEvents.today&&b.options.clickEvents.today.apply(b,[moment(b.month)]),c&&(b.render(),b.month=moment(),b.options.clickEvents.onMonthChange&&b.options.clickEvents.onMonthChange.apply(b,[moment(b.month)]),d&&b.options.clickEvents.onYearChange&&b.options.clickEvents.onYearChange.apply(b,[moment(b.month)]))},e.prototype.nextYearAction=function(a){var b=a.data.context;b.element.find("."+b.options.targets.nextYearButton).hasClass("inactive")||(b.month.add("years",1),b.render(),b.options.clickEvents.nextYear&&b.options.clickEvents.nextYear.apply(b,[moment(b.month)]),b.options.clickEvents.onMonthChange&&b.options.clickEvents.onMonthChange.apply(b,[moment(b.month)]),b.options.clickEvents.onYearChange&&b.options.clickEvents.onYearChange.apply(b,[moment(b.month)]))},e.prototype.previousYearAction=function(a){var b=a.data.context;b.element.find("."+b.options.targets.previousYear).hasClass("inactive")||(b.month.subtract("years",1),b.render(),b.options.clickEvents.previousYear&&b.options.clickEvents.previousYear.apply(b,[moment(b.month)]),b.options.clickEvents.onMonthChange&&b.options.clickEvents.onMonthChange.apply(b,[moment(b.month)]),b.options.clickEvents.onYearChange&&b.options.clickEvents.onYearChange.apply(b,[moment(b.month)]))},e.prototype.forward=function(a){return this.month.add("months",1),this.render(),a&&a.withCallbacks&&(this.options.clickEvents.onMonthChange&&this.options.clickEvents.onMonthChange.apply(this,[moment(this.month)]),0===this.month.month()&&this.options.clickEvents.onYearChange&&this.options.clickEvents.onYearChange.apply(this,[moment(this.month)])),this},e.prototype.back=function(a){return this.month.subtract("months",1),this.render(),a&&a.withCallbacks&&(this.options.clickEvents.onMonthChange&&this.options.clickEvents.onMonthChange.apply(this,[moment(this.month)]),11===this.month.month()&&this.options.clickEvents.onYearChange&&this.options.clickEvents.onYearChange.apply(this,[moment(this.month)])),this},e.prototype.next=function(a){return this.forward(a),this},e.prototype.previous=function(a){return this.back(a),this},e.prototype.setMonth=function(a,b){return this.month.month(a),this.render(),b&&b.withCallbacks&&this.options.clickEvents.onMonthChange&&this.options.clickEvents.onMonthChange.apply(this,[moment(this.month)]),this},e.prototype.nextYear=function(a){return this.month.add("year",1),this.render(),a&&a.withCallbacks&&this.options.clickEvents.onYearChange&&this.options.clickEvents.onYearChange.apply(this,[moment(this.month)]),this},e.prototype.previousYear=function(a){return this.month.subtract("year",1),this.render(),a&&a.withCallbacks&&this.options.clickEvents.onYearChange&&this.options.clickEvents.onYearChange.apply(this,[moment(this.month)]),this},e.prototype.setYear=function(a,b){return this.month.year(a),this.render(),b&&b.withCallbacks&&this.options.clickEvents.onYearChange&&this.options.clickEvents.onYearChange.apply(this,[moment(this.month)]),this},e.prototype.setEvents=function(a){return this.options.events=this.options.multiDayEvents?this.addMultiDayMomentObjectsToEvents(a):this.addMomentObjectToEvents(a),this.render(),this},e.prototype.addEvents=function(b){return this.options.events=this.options.multiDayEvents?a.merge(this.options.events,this.addMultiDayMomentObjectsToEvents(b)):a.merge(this.options.events,this.addMomentObjectToEvents(b)),this.render(),this},e.prototype.addMomentObjectToEvents=function(a){var b=this,c=0,d=a.length;for(c;d>c;c++)a[c]._clndrDateObject=moment(a[c][b.options.dateParameter]);return a},e.prototype.addMultiDayMomentObjectsToEvents=function(a){var b=this,c=0,d=a.length;for(c;d>c;c++)a[c]._clndrStartDateObject=moment(a[c][b.options.multiDayEvents.startDate]),a[c]._clndrEndDateObject=moment(a[c][b.options.multiDayEvents.endDate]);return a},e.prototype.calendarDay=function(b){var c={day:"",classes:this.options.targets.empty,events:[],date:null};return a.extend({},c,b)},a.fn.clndr=function(a){if(1===this.length){if(!this.data("plugin_clndr")){var b=new e(this,a);return this.data("plugin_clndr",b),b}}else if(this.length>1)throw new Error("CLNDR does not support multiple elements yet. Make sure your clndr selector returns only one element.")}}(jQuery,window,document),function(a){function b(b,c){this.$element=a(b),this.settings=a.extend({},d,c),this.init()}var c="countInput",d={maxValue:10};b.prototype={init:function(){var b=this,c=(this.settings,this.$element);c.on("click",".count-input__btn",function(d){d.preventDefault();var e=a(this);if(!e.prop("disabled")&&!e.hasClass("count-input__btn_state_disabled")){var f=c.find(".count-input__value"),g=parseInt(f.val());e.hasClass("count-input__btn_type_minus")?g-=1:g+=1,f.val(g),b.checkValue(g)}}),this.checkValue()},checkValue:function(a){function b(a,b){return b%=100,b>=20&&(b%=10),1==b?a[0]:b>1&&5>b?a[1]:a[2]}function c(a){var b=!1,c=!0;2>a?(b=!0,c=!1):a>d.maxValue-1?(b=!1,c=!0):a>1&&a<d.maxValue&&(b=!1,c=!1),b?e.find(".count-input__btn_type_minus").addClass("count-input__btn_state_disabled"):e.find(".count-input__btn_type_minus").removeClass("count-input__btn_state_disabled"),c?e.find(".count-input__btn_type_plus").addClass("count-input__btn_state_disabled"):e.find(".count-input__btn_type_plus").removeClass("count-input__btn_state_disabled")}var d=this.settings,e=this.$element,f=e.find(".count-input__content-value"),g=e.find(".count-input__content-text"),h=g.data("word-forms").split("/");a?c(a):(a=parseInt(e.find(".count-input__value").val()),c(a)),f.text(a),e.find(".count-input__content-text").text(b(h,a))}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document),function(a){function b(b,c){this.$element=a(b),this.settings=a.extend({},d,c),this.init()}var c="floatlabel",d={labelClass:"",typeMatches:/text|password|email|number|search|url/};b.prototype={init:function(){var a=this,b=this.settings,c=this.$element;if(("INPUT"==c.prop("tagName").toUpperCase()||"TEXTAREA"==c.prop("tagName").toUpperCase())&&("INPUT"!=c.prop("tagName").toUpperCase()||b.typeMatches.test(c.attr("type")))){var d=c.attr("placeholder");d&&""!==d||(d="You forgot to add placeholder attribute!"),this.$label=c.parent("label"),this.$label.data("placeholder",d),c.on("keyup blur change",function(b){a.checkValue(b)}),c.on("focus",function(){a.$label.addClass("input-txt_state_focused")}),c.on("blur",function(){a.$label.removeClass("input-txt_state_focused")}),this.checkValue()}},checkValue:function(a){if(a){var b=a.keyCode||a.which,c=9;if(b===c)return}var d=this.$element,e=d.data("float");""!==d.val()&&d.data("float","1"),""===d.val()&&d.data("float","0"),"1"===d.data("float")&&"1"!==e&&this.showLabel(),"0"===d.data("float")&&"0"!==e&&this.hideLabel()},showLabel:function(){var a=this;a.$label.addClass("input-txt_placeholder_small")},hideLabel:function(){var a=this;a.$label.removeClass("input-txt_placeholder_small")}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document),function(a){"function"==typeof define&&define.amd?define("jquery.inputmask",["jquery"],a):a(jQuery)}(function(a){if(void 0===a.fn.inputmask){var b=function(a){var b=document.createElement("input");a="on"+a;var c=a in b;return c||(b.setAttribute(a,"return;"),c="function"==typeof b[a]),c},c=function(b,d,e){return(b=e.aliases[b])?(b.alias&&c(b.alias,void 0,e),a.extend(!0,e,b),a.extend(!0,e,d),!0):!1},d=function(b,c){function d(a){function c(a,b,c,d){this.matches=[],this.isGroup=a||!1,this.isOptional=b||!1,this.isQuantifier=c||!1,this.isAlternator=d||!1,this.quantifier={min:1,max:1}}function d(a,c,d){var e=b.definitions[c],f=0==a.matches.length;if(d=void 0!=d?d:a.matches.length,e&&!g){for(var h=e.prevalidator,i=h?h.length:0,j=1;j<e.cardinality;j++){var k=i>=j?h[j-1]:[],l=k.validator,k=k.cardinality;a.matches.splice(d++,0,{fn:l?"string"==typeof l?RegExp(l):new function(){this.test=l}:/./,cardinality:k?k:1,optionality:a.isOptional,newBlockMarker:f,casing:e.casing,def:e.definitionSymbol||c,placeholder:e.placeholder,mask:c})}a.matches.splice(d++,0,{fn:e.validator?"string"==typeof e.validator?RegExp(e.validator):new function(){this.test=e.validator}:/./,cardinality:e.cardinality,optionality:a.isOptional,newBlockMarker:f,casing:e.casing,def:e.definitionSymbol||c,placeholder:e.placeholder,mask:c})}else a.matches.splice(d++,0,{fn:null,cardinality:0,optionality:a.isOptional,newBlockMarker:f,casing:null,def:c,placeholder:void 0,mask:c}),g=!1}for(var e,f=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,g=!1,h=new c,i=[],j=[];e=f.exec(a);)switch(e=e[0],e.charAt(0)){case b.optionalmarker.end:case b.groupmarker.end:e=i.pop(),0<i.length?i[i.length-1].matches.push(e):h.matches.push(e);break;case b.optionalmarker.start:i.push(new c(!1,!0));break;case b.groupmarker.start:i.push(new c(!0));break;case b.quantifiermarker.start:var k=new c(!1,!1,!0);e=e.replace(/[{}]/g,"");var l=e.split(",");if(e=isNaN(l[0])?l[0]:parseInt(l[0]),l=1==l.length?e:isNaN(l[1])?l[1]:parseInt(l[1]),("*"==l||"+"==l)&&(e="*"==l?0:1),k.quantifier={min:e,max:l},0<i.length){if(l=i[i.length-1].matches,e=l.pop(),!e.isGroup){var m=new c(!0);m.matches.push(e),e=m}l.push(e),l.push(k)}else e=h.matches.pop(),e.isGroup||(m=new c(!0),m.matches.push(e),e=m),h.matches.push(e),h.matches.push(k);break;case b.escapeChar:g=!0;break;case b.alternatormarker:k=new c(!1,!1,!1,!0),0<i.length?(l=i[i.length-1].matches,e=l.pop(),k.matches.push(e),l.push(k)):(e=h.matches.pop(),k.matches.push(e)),i.push(k);break;default:if(0<i.length){if(d(i[i.length-1],e),e=i[i.length-1],e.isAlternator){for(e=i.pop(),k=0;k<e.matches.length;k++)e.matches[k].isGroup=!1;0<i.length?i[i.length-1].matches.push(e):h.matches.push(e)}}else 0<h.matches.length&&(k=h.matches[h.matches.length-1],k.isGroup&&(k.isGroup=!1,d(k,b.groupmarker.start,0),d(k,b.groupmarker.end))),d(h,e)}if(0<i.length){if(e=i[i.length-1],e.isAlternator)for(k=0;k<e.matches.length;k++)e.matches[k].isGroup=!1;h.matches=h.matches.concat(i)}return 0<h.matches.length&&(k=h.matches[h.matches.length-1],k.isGroup&&(k.isGroup=!1,d(k,b.groupmarker.start,0),d(k,b.groupmarker.end)),j.push(h)),j}function e(c,e){if(b.numericInput&&!0!==b.multi){c=c.split("").reverse();for(var f=0;f<c.length;f++)c[f]==b.optionalmarker.start?c[f]=b.optionalmarker.end:c[f]==b.optionalmarker.end?c[f]=b.optionalmarker.start:c[f]==b.groupmarker.start?c[f]=b.groupmarker.end:c[f]==b.groupmarker.end&&(c[f]=b.groupmarker.start);c=c.join("")}return void 0!=c&&""!=c?((0<b.repeat||"*"==b.repeat||"+"==b.repeat)&&(c=b.groupmarker.start+c+b.groupmarker.end+b.quantifiermarker.start+("*"==b.repeat?0:"+"==b.repeat?1:b.repeat)+","+b.repeat+b.quantifiermarker.end),void 0==a.inputmask.masksCache[c]&&(a.inputmask.masksCache[c]={mask:c,maskToken:d(c),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:e}),a.extend(!0,{},a.inputmask.masksCache[c])):void 0}var f=[];if(a.isFunction(b.mask)&&(b.mask=b.mask.call(this,b)),a.isArray(b.mask))if(c)a.each(b.mask,function(a,b){f.push(void 0!=b.mask?e(b.mask.toString(),b):e(b.toString()))});else var g="("+b.mask.join(")|(")+")",f=e(g);else 1==b.mask.length&&0==b.greedy&&0!=b.repeat&&(b.placeholder=""),f=void 0!=b.mask.mask?e(b.mask.mask.toString(),b.mask):e(b.mask.toString());return f},e="function"==typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():10<=new Function("/*@cc_on return @_jscript_version; @*/")(),f=navigator.userAgent,g=null!==f.match(/iphone/i),h=null!==f.match(/android.*safari.*/i),i=null!==f.match(/android.*chrome.*/i),j=null!==f.match(/android.*firefox.*/i),k=/Kindle/i.test(f)||/Silk/i.test(f)||/KFTT/i.test(f)||/KFOT/i.test(f)||/KFJWA/i.test(f)||/KFJWI/i.test(f)||/KFSOWI/i.test(f)||/KFTHWA/i.test(f)||/KFTHWI/i.test(f)||/KFAPWA/i.test(f)||/KFAPWI/i.test(f),l=b("paste")?"paste":b("input")?"input":"propertychange",m=function(b,c,d){function f(a,b,e){b=b||0;var f,g,h=[],i=0;do{if(!0===a&&c.validPositions[i]){var j=c.validPositions[i];g=j.match,f=j.locator.slice(),h.push(null==g.fn?g.def:!0===e?j.input:g.placeholder||d.placeholder.charAt(i%d.placeholder.length))}else f=b>i?t(i,f,i-1)[0]:q(i,f,i-1),g=f.match,f=f.locator.slice(),h.push(null==g.fn?g.def:g.placeholder||d.placeholder.charAt(i%d.placeholder.length));i++}while((void 0==$||$>i-1)&&null!=g.fn||null==g.fn&&""!=g.def||b>=i);return h.pop(),h}function m(a){var b=c;b.buffer=void 0,b.tests={},!0!==a&&(b._buffer=void 0,b.validPositions={},b.p=-1)}function n(a){var b=-1,d=c.validPositions;void 0==a&&(a=-1);var e,f=b;for(e in d){var g=parseInt(e);(-1==a||null!=d[g].match.fn)&&(a>g&&(f=g),g>=a&&(b=g))}return a-f>1||a>b?f:b}function o(b,e,f){if(d.insertMode&&void 0!=c.validPositions[b]&&void 0==f){f=a.extend(!0,{},c.validPositions);var g,h=n();for(g=b;h>=g;g++)delete c.validPositions[g];for(c.validPositions[b]=e,e=!0,g=b;h>=g;g++){if(b=f[g],void 0!=b){var i=null==b.match.fn?g+1:B(g);e=s(i,b.match.def)?e&&!1!==y(i,b.input,!0,!0):!1}if(!e)break}if(!e)return c.validPositions=a.extend(!0,{},f),!1}else c.validPositions[b]=e;return!0}function p(a,b){var d,e=a;for(d=a;b>d;d++)delete c.validPositions[d];for(d=b;d<=n();){var f=c.validPositions[d],g=c.validPositions[e];void 0!=f&&void 0==g?(s(e,f.match.def)&&!1!==y(e,f.input,!0)&&(delete c.validPositions[d],d++),e++):d++}for(d=n();d>0&&(void 0==c.validPositions[d]||null==c.validPositions[d].match.fn);)delete c.validPositions[d],d--;m(!0)}function q(a,b,c){a=t(a,b,c);var e;for(b=0;b<a.length&&(e=a[b],!d.greedy&&(!e.match||!1!==e.match.optionality&&!1!==e.match.newBlockMarker||!0===e.match.optionalQuantifier));b++);return e}function r(a){return c.validPositions[a]?c.validPositions[a].match:t(a)[0].match}function s(a,b){for(var c=!1,d=t(a),e=0;e<d.length;e++)if(d[e].match&&d[e].match.def==b){c=!0;break}return c}function t(b,e,f){function g(c,e,f,h){function l(f,h,n){if(i==b&&void 0==f.matches)return j.push({match:f,locator:h.reverse()}),!0;if(void 0!=f.matches){if(f.isGroup&&!0!==n){if(f=l(c.matches[m+1],h))return!0}else if(f.isOptional){var o=f;(f=g(f,e,h,n))&&(f=j[j.length-1].match,(f=0==a.inArray(f,o.matches))&&(k=!0),i=b)}else if(f.isAlternator){var p,o=j.slice(),q=h.length;if(p=0<e.length?e.shift():-1,-1==p){var r=i;for(j=[],g(f.matches[0],e.slice(),[0].concat(h),n),p=j.slice(),i=r,j=[],f=g(f.matches[1],e,[1].concat(h),n),h=j.slice(),j=[],n=0;n<p.length;n++){r=p[n],o.push(r);for(var s=0;s<h.length;s++)if(r.match.mask==h[s].match.mask){h.splice(s,1),r.locator[q]=-1;break}}j=o.concat(h)}else f=l(f.matches[p],[p].concat(h),n);if(f)return!0}else if(f.isQuantifier&&!0!==n){for(o=f,d.greedy=d.greedy&&isFinite(o.quantifier.max),q=0<e.length&&!0!==n?e.shift():0;q<(isNaN(o.quantifier.max)?q+1:o.quantifier.max)&&b>=i;q++)if(p=c.matches[a.inArray(o,c.matches)-1],f=l(p,[q].concat(h),!0)){if(f=j[j.length-1].match,f.optionalQuantifier=q>o.quantifier.min-1,f=0==a.inArray(f,p.matches)){if(q>o.quantifier.min-1){k=!0,i=b;break}return!0}return!0}}else if(f=g(f,e,h,n))return!0}else i++}for(var m=0<e.length?e.shift():0;m<c.matches.length;m++)if(!0!==c.matches[m].isQuantifier){var n=l(c.matches[m],[m].concat(f),h);if(n&&i==b)return n;if(i>b)break}}var h=c.maskToken,i=e?f:0;f=e||[0];var j=[],k=!1;if(void 0==e){e=b-1;for(var l;void 0==(l=c.validPositions[e])&&e>-1;)e--;if(void 0!=l&&e>-1)i=e,f=l.locator.slice();else{for(e=b-1;void 0==(l=c.tests[e])&&e>-1;)e--;void 0!=l&&e>-1&&(i=e,f=l[0].locator.slice())}}for(e=f.shift();e<h.length&&!(g(h[e],f,[e])&&i==b||i>b);e++);return(0==j.length||k)&&j.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),c.tests[b]=j}function u(){return void 0==c._buffer&&(c._buffer=f(!1,1)),c._buffer}function v(){return void 0==c.buffer&&(c.buffer=f(!0,n(),!0)),c.buffer}function w(a,b){var e=v().slice();if(!0===a)m(),a=0,b=e.length;else for(var f=a;b>f;f++)delete c.validPositions[f],delete c.tests[f];for(f=a;b>f;f++)e[f]!=d.skipOptionalPartCharacter&&y(f,e[f],!0,!0)}function x(a,b){switch(b.casing){case"upper":a=a.toUpperCase();break;case"lower":a=a.toLowerCase()}return a}function y(b,e,f,g){function h(b,e,f,g){var h=!1;return a.each(t(b),function(i,j){var k=j.match,l=e?1:0,q="";v();for(var r=k.cardinality;r>l;r--)q+=void 0==c.validPositions[b-(r-1)]?E(b-(r-1)):c.validPositions[b-(r-1)].input;if(e&&(q+=e),h=null!=k.fn?k.fn.test(q,c,b,f,d):e!=k.def&&e!=d.skipOptionalPartCharacter||""==k.def?!1:{c:k.def,pos:b},!1!==h){if(l=void 0!=h.c?h.c:e,l=l==d.skipOptionalPartCharacter&&null===k.fn?k.def:l,q=b,void 0!=h.remove&&p(h.remove,h.remove+1),h.refreshFromBuffer){if(q=h.refreshFromBuffer,f=!0,w(!0===q?q:q.start,q.end),void 0==h.pos&&void 0==h.c)return h.pos=n(),!1;if(q=void 0!=h.pos?h.pos:b,q!=b)return h=a.extend(h,y(q,l,!0)),!1}else if(!0!==h&&void 0!=h.pos&&h.pos!=b&&(q=h.pos,w(b,q),q!=b))return h=a.extend(h,y(q,l,!0)),!1;return 1!=h&&void 0==h.pos&&void 0==h.c?!1:(i>0&&m(!0),o(q,a.extend({},j,{input:x(l,k)}),g)||(h=!1),!1)}}),h}f=!0===f;for(var i=v(),j=b-1;j>-1&&(!c.validPositions[j]||null!=c.validPositions[j].fn);j--)if((!z(j)||i[j]!=E(j))&&1<t(j).length){h(j,i[j],!0);break}if(b>=A())return!1;if(i=h(b,e,f,g),!f&&!1===i)if(!(j=c.validPositions[b])||null!=j.match.fn||j.match.def!=e&&e!=d.skipOptionalPartCharacter){if((d.insertMode||void 0==c.validPositions[B(b)])&&!z(b))for(var j=b+1,k=B(b);k>=j;j++)if(i=h(j,e,f,g),!1!==i){b=j;break}}else i={caret:B(b)};return!0===i&&(i={pos:b}),i}function z(a){return a=r(a),null!=a.fn?a.fn:!1}function A(){var a;if($=Z.prop("maxLength"),-1==$&&($=void 0),0==d.greedy){var b;b=n(),a=c.validPositions[b];var e=void 0!=a?a.locator.slice():void 0;for(b+=1;void 0==a||null!=a.match.fn||null==a.match.fn&&""!=a.match.def;b++)a=q(b,e,b-1),e=a.locator.slice();a=b}else a=v().length;return void 0==$||$>a?a:$}function B(a){var b=A();if(a>=b)return b;for(;++a<b&&!z(a)&&(!0!==d.nojumps||d.nojumpsThreshold>a););return a}function C(a){if(0>=a)return 0;for(;0<--a&&!z(a););return a}function D(a,b,c){a._valueSet(b.join("")),void 0!=c&&K(a,c)}function E(a,b){return b=b||r(a),b.placeholder||(null==b.fn?b.def:d.placeholder.charAt(a%d.placeholder.length))}function F(b,e,f,g,h){g=void 0!=g?g.slice():H(b._valueGet()).split(""),m(),e&&b._valueSet(""),a.each(g,function(d,e){if(!0===h){var g=c.p,g=-1==g?g:C(g),i=-1==g?d:B(g);-1==a.inArray(e,u().slice(g+1,i))&&T.call(b,void 0,!0,e.charCodeAt(0),!1,f,d)}else T.call(b,void 0,!0,e.charCodeAt(0),!1,f,d),f=f||d>0&&d>c.p}),e&&(e=d.onKeyPress.call(this,void 0,v(),0,d),R(b,e),D(b,v(),a(b).is(":focus")?B(n(0)):void 0))}function G(b){return a.inputmask.escapeRegex.call(this,b)}function H(a){return a.replace(RegExp("("+G(u().join(""))+")*$"),"")}function I(b){if(b.data("_inputmask")&&!b.hasClass("hasDatepicker")){var e,f=[],g=c.validPositions;for(e in g)g[e].match&&null!=g[e].match.fn&&f.push(g[e].input);return f=(_?f.reverse():f).join(""),g=(_?v().reverse():v()).join(""),a.isFunction(d.onUnMask)&&(f=d.onUnMask.call(b,g,f,d)),f}return b[0]._valueGet()}function J(a){return!_||"number"!=typeof a||d.greedy&&""==d.placeholder||(a=v().length-a),a}function K(b,c,e){if(b=b.jquery&&0<b.length?b[0]:b,"number"!=typeof c)return f=a(b).data("_inputmask"),!a(b).is(":visible")&&f&&void 0!=f.caret?(c=f.caret.begin,e=f.caret.end):b.setSelectionRange?(c=b.selectionStart,e=b.selectionEnd):document.selection&&document.selection.createRange&&(b=document.selection.createRange(),c=0-b.duplicate().moveStart("character",-1e5),e=c+b.text.length),c=J(c),e=J(e),{begin:c,end:e};c=J(c),e=J(e),e="number"==typeof e?e:c;var f=a(b).data("_inputmask")||{};f.caret={begin:c,end:e},a(b).data("_inputmask",f),a(b).is(":visible")&&(b.scrollLeft=b.scrollWidth,0==d.insertMode&&c==e&&e++,b.setSelectionRange?(b.selectionStart=c,b.selectionEnd=e):b.createTextRange&&(b=b.createTextRange(),b.collapse(!0),b.moveEnd("character",e),b.moveStart("character",c),b.select()))}function L(b){var d,e,f=v(),g=f.length,h=n(),i={},j=void 0!=c.validPositions[h]?c.validPositions[h].locator.slice():void 0;for(d=h+1;d<f.length;d++)e=q(d,j,d-1),j=e.locator.slice(),i[d]=a.extend(!0,{},e);for(d=g-1;d>h&&(e=i[d].match,(e.optionality||e.optionalQuantifier)&&f[d]==E(d,e));d--)g--;return b?{l:g,def:i[g]?i[g].match:void 0}:g}function M(a){var b=v().slice(),c=L();b.length=c,D(a,b)}function N(b){if(a.isFunction(d.isComplete))return d.isComplete.call(Z,b,d);if("*"!=d.repeat){var c=!1,e=L(!0),f=C(e.l);if(n()==f&&(void 0==e.def||e.def.newBlockMarker||e.def.optionalQuantifier))for(c=!0,e=0;f>=e;e++){var g=z(e);
if(g&&(void 0==b[e]||b[e]==E(e))||!g&&b[e]!=E(e)){c=!1;break}}return c}}function O(b){b=a._data(b).events,a.each(b,function(b,c){a.each(c,function(a,b){if("inputmask"==b.namespace&&"setvalue"!=b.type){var c=b.handler;b.handler=function(a){return this.readOnly||this.disabled?void a.preventDefault:c.apply(this,arguments)}}})})}function P(b){function c(b){if(void 0==a.valHooks[b]||1!=a.valHooks[b].inputmaskpatch){var c=a.valHooks[b]&&a.valHooks[b].get?a.valHooks[b].get:function(a){return a.value},d=a.valHooks[b]&&a.valHooks[b].set?a.valHooks[b].set:function(a,b){return a.value=b,a};a.valHooks[b]={get:function(b){var d=a(b);return d.data("_inputmask")?d.data("_inputmask").opts.autoUnmask?d.inputmask("unmaskedvalue"):(b=c(b),d=(d=d.data("_inputmask").maskset._buffer)?d.join(""):"",b!=d?b:""):c(b)},set:function(b,c){var e=a(b),f=e.data("_inputmask");return f?(f=d(b,a.isFunction(f.opts.onBeforeMask)?f.opts.onBeforeMask.call(fb,c,f.opts):c),e.triggerHandler("setvalue.inputmask")):f=d(b,c),f},inputmaskpatch:!0}}}function d(){var b=a(this),c=a(this).data("_inputmask");return c?c.opts.autoUnmask?b.inputmask("unmaskedvalue"):g.call(this)!=u().join("")?g.call(this):"":g.call(this)}function e(b){var c=a(this).data("_inputmask");c?(h.call(this,a.isFunction(c.opts.onBeforeMask)?c.opts.onBeforeMask.call(fb,b,c.opts):b),a(this).triggerHandler("setvalue.inputmask")):h.call(this,b)}function f(b){if(a(b).bind("mouseenter.inputmask",function(b){b=a(this),this._valueGet()!=v().join("")&&b.trigger("setvalue")}),b=a._data(b).events.mouseover){for(var c=b[b.length-1],d=b.length-1;d>0;d--)b[d]=b[d-1];b[0]=c}}var g,h;b._valueGet||(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(b,"value"),document.__lookupGetter__&&b.__lookupGetter__("value")?(g=b.__lookupGetter__("value"),h=b.__lookupSetter__("value"),b.__defineGetter__("value",d),b.__defineSetter__("value",e)):(g=function(){return b.value},h=function(a){b.value=a},c(b.type),f(b)),b._valueGet=function(){return _?g.call(this).split("").reverse().join(""):g.call(this)},b._valueSet=function(a){h.call(this,_?a.split("").reverse().join(""):a)})}function Q(a,b,e){(d.numericInput||_)&&(b==d.keyCode.BACKSPACE?b=d.keyCode.DELETE:b==d.keyCode.DELETE&&(b=d.keyCode.BACKSPACE),_&&(a=e.end,e.end=e.begin,e.begin=a)),b==d.keyCode.BACKSPACE&&1>=e.end-e.begin?e.begin=C(e.begin):b==d.keyCode.DELETE&&e.begin==e.end&&e.end++,p(e.begin,e.end),b=n(e.begin),c.p=b<e.begin?B(b):e.begin}function R(a,b,c){if(b&&b.refreshFromBuffer){var d=b.refreshFromBuffer;w(!0===d?d:d.start,d.end),m(!0),void 0!=c&&(D(a,v()),K(a,b.caret||c.begin,b.caret||c.end))}}function S(b){ab=!1;var e=this,f=a(e),h=b.keyCode,i=K(e);h==d.keyCode.BACKSPACE||h==d.keyCode.DELETE||g&&127==h||b.ctrlKey&&88==h?(b.preventDefault(),88==h&&(Y=v().join("")),Q(e,h,i),D(e,v(),c.p),e._valueGet()==u().join("")&&f.trigger("cleared"),d.showTooltip&&f.prop("title",c.mask)):h==d.keyCode.END||h==d.keyCode.PAGE_DOWN?setTimeout(function(){var a=B(n());d.insertMode||a!=A()||b.shiftKey||a--,K(e,b.shiftKey?i.begin:a,a)},0):h==d.keyCode.HOME&&!b.shiftKey||h==d.keyCode.PAGE_UP?K(e,0,b.shiftKey?i.begin:0):h==d.keyCode.ESCAPE||90==h&&b.ctrlKey?(F(e,!0,!1,Y.split("")),f.click()):h!=d.keyCode.INSERT||b.shiftKey||b.ctrlKey?0!=d.insertMode||b.shiftKey||(h==d.keyCode.RIGHT?setTimeout(function(){var a=K(e);K(e,a.begin)},0):h==d.keyCode.LEFT&&setTimeout(function(){var a=K(e);K(e,_?a.begin+1:a.begin-1)},0)):(d.insertMode=!d.insertMode,K(e,d.insertMode||i.begin!=A()?i.begin:i.begin-1));var f=K(e),j=d.onKeyDown.call(this,b,v(),f.begin,d);R(e,j,f),cb=-1!=a.inArray(h,d.ignorables)}function T(b,e,f,g,h,i){if(void 0==f&&ab)return!1;ab=!0;var j=a(this);if(b=b||window.event,f=e?f:b.which||b.charCode||b.keyCode,!(!0===e||b.ctrlKey&&b.altKey)&&(b.ctrlKey||b.metaKey||cb))return!0;if(f){!0!==e&&46==f&&0==b.shiftKey&&","==d.radixPoint&&(f=44);var k,l;f=String.fromCharCode(f),e?(i=h?i:n()+1,k={begin:i,end:i}):k=K(this),(i=_?1<k.begin-k.end||1==k.begin-k.end&&d.insertMode:1<k.end-k.begin||1==k.end-k.begin&&d.insertMode)&&(c.undoPositions=a.extend(!0,{},c.validPositions),Q(this,d.keyCode.DELETE,k),d.insertMode||(d.insertMode=!d.insertMode,o(k.begin,h),d.insertMode=!d.insertMode),i=!d.multi),c.writeOutBuffer=!0,k=_&&!i?k.end:k.begin;var p=y(k,f,h);if(!1!==p&&(!0!==p&&(k=void 0!=p.pos?p.pos:k,f=void 0!=p.c?p.c:f),m(!0),void 0!=p.caret?l=p.caret:(h=c.validPositions,l=void 0!=h[k+1]&&1<t(k+1,h[k].locator.slice(),k).length?k+1:B(k)),c.p=l),!1!==g){var q=this;if(setTimeout(function(){d.onKeyValidation.call(q,p,d)},0),c.writeOutBuffer&&!1!==p){var r=v();D(this,r,e?void 0:d.numericInput?C(l):l),!0!==e&&setTimeout(function(){!0===N(r)&&j.trigger("complete"),bb=!0,j.trigger("input")},0)}else i&&(c.buffer=void 0,c.validPositions=c.undoPositions)}else i&&(c.buffer=void 0,c.validPositions=c.undoPositions);d.showTooltip&&j.prop("title",c.mask),b&&1!=e&&(b.preventDefault?b.preventDefault():b.returnValue=!1,e=K(this),b=d.onKeyPress.call(this,b,v(),e.begin,d),R(this,b,e));for(var s in c.validPositions);}}function U(b){var c=a(this),e=b.keyCode,f=v(),g=K(this);b=d.onKeyUp.call(this,b,f,g.begin,d),R(this,b,g),e==d.keyCode.TAB&&d.showMaskOnFocus&&(c.hasClass("focus-inputmask")&&0==this._valueGet().length?(m(),f=v(),D(this,f),K(this,0),Y=v().join("")):(D(this,f),K(this,J(0),J(A()))))}function V(b){if(!0===bb&&"input"==b.type)return bb=!1,!0;var c=a(this),e=this._valueGet();return"propertychange"==b.type&&this._valueGet().length<=A()?!0:("paste"==b.type&&(window.clipboardData&&window.clipboardData.getData?e=window.clipboardData.getData("Text"):b.originalEvent&&b.originalEvent.clipboardData&&b.originalEvent.clipboardData.getData&&(e=b.originalEvent.clipboardData.getData("text/plain"))),b=a.isFunction(d.onBeforePaste)?d.onBeforePaste.call(this,e,d):e,F(this,!0,!1,b.split(""),!0),c.click(),!0===N(v())&&c.trigger("complete"),!1)}function W(a){if(!0===bb&&"input"==a.type)return bb=!1,!0;var b=K(this),c=this._valueGet(),c=c.replace(RegExp("("+G(u().join(""))+")*"),"");b.begin>c.length&&(K(this,c.length),b=K(this)),1!=v().length-c.length||c.charAt(b.begin)==v()[b.begin]||c.charAt(b.begin+1)==v()[b.begin]||z(b.begin)||(a.keyCode=d.keyCode.BACKSPACE,S.call(this,a)),a.preventDefault()}function X(b){if(Z=a(b),Z.is(":input")&&"number"!=Z.attr("type")){if(Z.data("_inputmask",{maskset:c,opts:d,isRTL:!1}),d.showTooltip&&Z.prop("title",c.mask),("rtl"==b.dir||d.rightAlign)&&Z.css("text-align","right"),"rtl"==b.dir||d.numericInput){b.dir="ltr",Z.removeAttr("dir");var f=Z.data("_inputmask");f.isRTL=!0,Z.data("_inputmask",f),_=!0}Z.unbind(".inputmask"),Z.removeClass("focus-inputmask"),Z.closest("form").bind("submit",function(){Y!=v().join("")&&Z.change(),d.autoUnmask&&d.removeMaskOnSubmit&&Z.inputmask("remove")}).bind("reset",function(){setTimeout(function(){Z.trigger("setvalue")},0)}),Z.bind("mouseenter.inputmask",function(){!a(this).hasClass("focus-inputmask")&&d.showMaskOnHover&&this._valueGet()!=v().join("")&&D(this,v())}).bind("blur.inputmask",function(){var b=a(this);if(b.data("_inputmask")){var c=this._valueGet(),e=v();b.removeClass("focus-inputmask"),Y!=v().join("")&&b.change(),d.clearMaskOnLostFocus&&""!=c&&(c==u().join("")?this._valueSet(""):M(this)),!1===N(e)&&(b.trigger("incomplete"),d.clearIncomplete&&(m(),d.clearMaskOnLostFocus?this._valueSet(""):(e=u().slice(),D(this,e))))}}).bind("focus.inputmask",function(){var b=a(this),c=this._valueGet();d.showMaskOnFocus&&!b.hasClass("focus-inputmask")&&(!d.showMaskOnHover||d.showMaskOnHover&&""==c)&&this._valueGet()!=v().join("")&&D(this,v(),B(n())),b.addClass("focus-inputmask"),Y=v().join("")}).bind("mouseleave.inputmask",function(){var b=a(this);d.clearMaskOnLostFocus&&(b.hasClass("focus-inputmask")||this._valueGet()==b.attr("placeholder")||(this._valueGet()==u().join("")||""==this._valueGet()?this._valueSet(""):M(this)))}).bind("click.inputmask",function(){var b=this;a(b).is(":focus")&&setTimeout(function(){var a=K(b);if(a.begin==a.end){var a=_?J(a.begin):a.begin,c=n(a),c=B(c);c>a?z(a)?K(b,a):K(b,B(a)):K(b,c)}},0)}).bind("dblclick.inputmask",function(){var a=this;setTimeout(function(){K(a,0,B(n()))},0)}).bind(l+".inputmask dragdrop.inputmask drop.inputmask",V).bind("setvalue.inputmask",function(){F(this,!0),Y=v().join("")}).bind("complete.inputmask",d.oncomplete).bind("incomplete.inputmask",d.onincomplete).bind("cleared.inputmask",d.oncleared),Z.bind("keydown.inputmask",S).bind("keypress.inputmask",T).bind("keyup.inputmask",U),(h||j||i||k)&&("input"==l&&Z.unbind(l+".inputmask"),Z.bind("input.inputmask",W)),e&&Z.bind("input.inputmask",V),P(b),f=a.isFunction(d.onBeforeMask)?d.onBeforeMask.call(b,b._valueGet(),d):b._valueGet(),F(b,!0,!1,f.split(""),!0),Y=v().join("");var g;try{g=document.activeElement}catch(o){}!1===N(v())&&d.clearIncomplete&&m(),d.clearMaskOnLostFocus?v().join("")==u().join("")?b._valueSet(""):M(b):D(b,v()),g===b&&(Z.addClass("focus-inputmask"),K(b,B(n()))),O(b)}}var Y,Z,$,_=!1,ab=!1,bb=!1,cb=!1;if(void 0!=b)switch(b.action){case"isComplete":return Z=a(b.el),c=Z.data("_inputmask").maskset,d=Z.data("_inputmask").opts,N(b.buffer);case"unmaskedvalue":return Z=b.$input,c=Z.data("_inputmask").maskset,d=Z.data("_inputmask").opts,_=b.$input.data("_inputmask").isRTL,I(b.$input);case"mask":Y=v().join(""),X(b.el);break;case"format":Z=a({}),Z.data("_inputmask",{maskset:c,opts:d,isRTL:d.numericInput}),d.numericInput&&(_=!0);var db=b.value.split("");return F(Z,!1,!1,_?db.reverse():db,!0),d.onKeyPress.call(this,void 0,v(),0,d),_?v().reverse().join(""):v().join("");case"isValid":Z=a({}),Z.data("_inputmask",{maskset:c,opts:d,isRTL:d.numericInput}),d.numericInput&&(_=!0),db=b.value.split(""),F(Z,!1,!0,_?db.reverse():db);var db=v(),eb=L();return db.length=eb,N(db)&&b.value==db.join("");case"getemptymask":return Z=a(b.el),c=Z.data("_inputmask").maskset,d=Z.data("_inputmask").opts,u();case"remove":var fb=b.el;Z=a(fb),c=Z.data("_inputmask").maskset,d=Z.data("_inputmask").opts,fb._valueSet(I(Z)),Z.unbind(".inputmask"),Z.removeClass("focus-inputmask"),Z.removeData("_inputmask"),Object.getOwnPropertyDescriptor&&(db=Object.getOwnPropertyDescriptor(fb,"value")),db&&db.get?fb._valueGet&&Object.defineProperty(fb,"value",{get:fb._valueGet,set:fb._valueSet}):document.__lookupGetter__&&fb.__lookupGetter__("value")&&fb._valueGet&&(fb.__defineGetter__("value",fb._valueGet),fb.__defineSetter__("value",fb._valueSet));try{delete fb._valueGet,delete fb._valueSet}catch(gb){fb._valueGet=void 0,fb._valueSet=void 0}}};a.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:a.noop,onincomplete:a.noop,oncleared:a.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!0,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyUp:a.noop,onKeyPress:a.noop,onKeyDown:a.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:a.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,radixPoint:"",nojumps:!1,nojumpsThreshold:0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁё]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0},masksCache:{},escapeRegex:function(a){return a.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")},format:function(b,e){var f=a.extend(!0,{},a.inputmask.defaults,e);return c(f.alias,e,f),m({action:"format",value:b},d(f),f)},isValid:function(b,e){var f=a.extend(!0,{},a.inputmask.defaults,e);return c(f.alias,e,f),m({action:"isValid",value:b},d(f),f)}},a.fn.inputmask=function(b,e,f,g,h){function i(b,c){var d,e=a(b);for(d in c){var f=e.data("inputmask-"+d.toLowerCase());void 0!=f&&(c[d]=f)}return c}f=f||m,g=g||"_inputmask";var j,k=a.extend(!0,{},a.inputmask.defaults,e);if("string"==typeof b)switch(b){case"mask":return c(k.alias,e,k),j=d(k,f!==m),0==j.length?this:this.each(function(){f({action:"mask",el:this},a.extend(!0,{},j),i(this,k))});case"unmaskedvalue":return b=a(this),b.data(g)?f({action:"unmaskedvalue",$input:b}):b.val();case"remove":return this.each(function(){a(this).data(g)&&f({action:"remove",el:this})});case"getemptymask":return this.data(g)?f({action:"getemptymask",el:this}):"";case"hasMaskedValue":return this.data(g)?!this.data(g).opts.autoUnmask:!1;case"isComplete":return this.data(g)?f({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case"getmetadata":if(this.data(g))return j=this.data(g).maskset,j.metadata;break;case"_detectScope":return c(k.alias,e,k),void 0==h||c(h,e,k)||-1!=a.inArray(h,"mask unmaskedvalue remove getemptymask hasMaskedValue isComplete getmetadata _detectScope".split(" "))||(k.mask=h),a.isFunction(k.mask)&&(k.mask=k.mask.call(this,k)),a.isArray(k.mask);default:return c(k.alias,e,k),c(b,e,k)||(k.mask=b),j=d(k,f!==m),void 0==j?this:this.each(function(){f({action:"mask",el:this},a.extend(!0,{},j),i(this,k))})}else{if("object"==typeof b)return k=a.extend(!0,{},a.inputmask.defaults,b),c(k.alias,b,k),j=d(k,f!==m),void 0==j?this:this.each(function(){f({action:"mask",el:this},a.extend(!0,{},j),i(this,k))});if(void 0==b)return this.each(function(){var b=a(this).attr("data-inputmask");if(b&&""!=b)try{var b=b.replace(RegExp("'","g"),'"'),d=a.parseJSON("{"+b+"}");a.extend(!0,d,e),k=a.extend(!0,{},a.inputmask.defaults,d),c(k.alias,d,k),k.alias=void 0,a(this).inputmask("mask",k,f)}catch(g){}})}}}}),function(){function a(a,b){for(var c=-1,d=b.length,e=Array(d);++c<d;)e[c]=a[b[c]];return e}function b(a,b){if(a!==b){if(a>b||"undefined"==typeof a)return 1;if(b>a||"undefined"==typeof b)return-1}return 0}function c(a,b,c){for(var d=(c||0)-1,e=a?a.length:0;++d<e;)if(a[d]===b)return d;return-1}function d(a,b){return a.has(b)?0:-1}function e(a){return a.charCodeAt(0)}function f(a,b){for(var c=-1,d=a.length;++c<d&&!(b.indexOf(a.charAt(c))<0););return c}function g(a,b){for(var c=a.length;c--&&!(b.indexOf(a.charAt(c))<0););return c}function h(a,c){return b(a.criteria,c.criteria)||a.index-c.index}function i(a,c){for(var d=-1,e=a.criteria,f=c.criteria,g=e.length;++d<g;){var h=b(e[d],f[d]);if(h)return h}return a.index-c.index}function j(a){return function(b){for(var c=-1,d=null!=b&&String(b).replace(P,k).match(U),e=d?d.length:0,f="";++c<e;)f=a(f,d[c],c,d);return f}}function k(a){return lb[a]}function l(a){return jb[a]}function m(a){return"\\"+nb[a]}function n(a){for(var b=-1,c=a.length;++b<c;){var d=a.charCodeAt(b);if(!(160>=d&&d>=9&&13>=d||32==d||160==d||5760==d||6158==d||d>=8192&&(8202>=d||8232==d||8233==d||8239==d||8287==d||12288==d||65279==d)))break}return b}function o(a){for(var b=a.length;b--;){var c=a.charCodeAt(b);if(!(160>=c&&c>=9&&13>=c||32==c||160==c||5760==c||6158==c||c>=8192&&(8202>=c||8232==c||8233==c||8239==c||8287==c||12288==c||65279==c)))break}return b}function p(a){return kb[a]}function q(k){function P(a){return a&&"object"==typeof a&&!Ff(a)&&We.call(a,"__wrapped__")?a:new U(a)}function U(a,b){this.__chain__=!!b,this.__wrapped__=a}function jb(a,b){for(var c=-1,d=a?a.length:0;++c<d&&b(a[c],c,a)!==!1;);return a}function kb(a,b){for(var c=a?a.length:0;c--&&b(a[c],c,a)!==!1;);return a}function lb(a,b){for(var c=-1,d=a?a.length>>>0:0,e=ze(d);++c<d;)e[c]=b(a[c],c,a);return e}function mb(a,b){return"undefined"==typeof a?b:a}function nb(a,b,c,d){return We.call(d,c)&&"undefined"!=typeof a?a:b}function pb(a,b,c){if(!a)return a;for(var d=-1,e=Hf(b),f=e.length;++d<f;){var g=e[d];a[g]=c?c(a[g],b[g],g,a,b):b[g]}return a}function qb(a){function b(){if(e){for(var a=arguments.length,g=ze(a);a--;)g[a]=arguments[a];g=Qb(e,f,g)}if(this instanceof b){var h=sb(c.prototype),i=c.apply(h,g||arguments);return Kd(i)?i:h}return c.apply(d,g||arguments)}var c=a[0],d=a[3],e=a[4],f=a[6];return rf(b,a),b}function rb(a,b,c,d,e){var f=c?c(a):r;if("undefined"!=typeof f)return f;var g=Kd(a);if(!g)return a;var h=Pe.call(a);if(!gb[h])return a;var i=of[h];switch(h){case $:case _:return new i(+a);case cb:case fb:return new i(a);case eb:return f=i(a.source,M.exec(a)),f.lastIndex=a.lastIndex,f}var j=Ff(a);if(b){d||(d=[]),e||(e=[]);for(var k=d.length;k--;)if(d[k]==a)return e[k];f=j?i(a.length):{}}else f=j?oc(a):pb({},a);return j&&(We.call(a,"index")&&(f.index=a.index),We.call(a,"input")&&(f.input=a.input)),b?(d.push(a),e.push(f),(j?jb:Eb)(a,function(a,g){var h=c?c(a,g):r;f[g]="undefined"==typeof h?rb(a,b,null,d,e):h}),f):f}function sb(a){return Kd(a)?df(a):{}}function ub(a,b,c){if("function"!=typeof a)return oe;if("undefined"==typeof b||!("prototype"in a))return a;var d=a[z];if("undefined"==typeof d&&(pf.funcNames&&(d=!a.name),d=d||!pf.funcDecomp,!d)){var e=Ue.call(a);pf.funcNames||(d=!N.test(e)),d||(d=S.test(e),rf(a,d))}if(d===!1||d!==!0&&d[1]&s)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return $c(a,b)}function vb(a){function b(){for(var a=arguments.length,p=a,q=ze(a);p--;)q[p]=arguments[p];if(g&&(q=Qb(g,i,q)),h&&(q=Rb(h,j,q)),m){var r=Wb(q);if(a-=r.length,e>a){d|=w,d&=~x,n||(d&=~(s|t));var u=jf(e-a,0);return vb([c,d,u,f,q,null,r])}}var v=k?f:this;if(l&&(c=v[o]),this instanceof b){v=sb(c.prototype);var y=c.apply(v,q);return Kd(y)?y:v}return c.apply(v,q)}var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=d&s,l=d&t,m=d&u,n=d&v,o=c;return rf(b,a),b}function wb(a,b){var e=a?a.length:0;if(!e)return[];var f=-1,g=Xb(),h=g===c,i=h&&qf&&b&&b.length>=200,j=h&&!i,k=[],l=b?b.length:0;i&&(g=d,b=qf(b));a:for(;++f<e;){var m=a[f];if(j){for(var n=l;n--;)if(b[n]===m)continue a;k.push(m)}else g(b,m)<0&&k.push(m)}return k}function xb(a,b){var c=-1,d=a,e=a?a.length:0;if("number"==typeof e&&e>-1&&Oe>=e)for(;++c<e&&b(d[c],c,a)!==!1;);else Eb(a,b);return a}function yb(a,b){var c=a,d=a?a.length:0;if("number"==typeof d&&d>-1&&Oe>=d)for(;d--&&b(c[d],d,a)!==!1;);else Fb(a,b);return a}function zb(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function Ab(a,b,c,d){for(var e=(d||0)-1,f=a?a.length:0,g=[];++e<f;){var h=a[e];if(h&&"object"==typeof h&&"number"==typeof h.length&&(Ff(h)||Bd(h))){b||(h=Ab(h,b,c));var i=-1,j=h.length,k=g.length;for(g.length+=j;++i<j;)g[k++]=h[i]}else c||g.push(h)}return g}function Bb(a,b,c){for(var d=-1,e=c(a),f=e.length;++d<f;){var g=e[d];if(b(a[g],g,a)===!1)break}return a}function Cb(a,b,c){for(var d=c(a),e=d.length;e--;){var f=d[e];if(b(a[f],f,a)===!1)break}return a}function Db(a,b){return Bb(a,b,Rd)}function Eb(a,b){return Bb(a,b,Hf)}function Fb(a,b){return Cb(a,b,Hf)}function Gb(a,b){for(var c=-1,d=b(a),e=d.length,f=[];++c<e;){var g=d[c];Jd(a[g])&&f.push(g)}return f.sort()}function Hb(a,b,c,d,e,f){var g=c?c(a,b):r;if("undefined"!=typeof g)return!!g;if(a===b)return 0!==a||1/a==1/b;var h=typeof a,i=typeof b;if(a===a&&(null==a||null==b||"function"!=h&&"object"!=h&&"function"!=i&&"object"!=i))return!1;var j=Pe.call(a),k=Pe.call(b),l=j==Y,m=k==Y;if(l&&(j=db),m&&(k=db),j!=k)return!1;switch(j){case $:case _:return+a==+b;case cb:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case eb:case fb:return a==He(b)}var n=j==Z;if(!n){if(j!=db)return!1;var o=We.call(a,"__wrapped__"),p=We.call(b,"__wrapped__");if(o||p)return Hb(o?a.__wrapped__:a,p?b.__wrapped__:b,c,d,e,f);var q=!l&&We.call(a,"constructor"),s=!m&&We.call(b,"constructor");if(q!=s)return!1;if(!q){var t=l?Fe:a.constructor,u=m?Fe:b.constructor;if(t!=u&&!(Jd(t)&&t instanceof t&&Jd(u)&&u instanceof u)&&"constructor"in a&&"constructor"in b)return!1}}e||(e=[]),f||(f=[]);for(var v=e.length;v--;)if(e[v]==a)return f[v]==b;var w=0;if(g=!0,e.push(a),f.push(b),n){if(v=a.length,w=b.length,g=w==v,g||d)for(;w--;){var x=v,y=b[w];if(d)for(;x--&&!(g=Hb(a[x],y,c,d,e,f)););else g=c?c(a,b,key):r,g="undefined"==typeof g?Hb(a[w],y,c,d,e,f):!!g;if(!g)break}}else Db(b,function(b,h,i){return We.call(i,h)?(g=!1,w++,We.call(a,h)&&(g=c?c(a,i,h):r,g="undefined"==typeof g?Hb(a[h],b,c,d,e,f):!!g),g):void 0}),g&&!d&&Db(a,function(a,b,c){return We.call(c,b)?g=--w>-1:void 0});return e.pop(),f.pop(),g}function Ib(a,b,c){var d=-1,e="function"==typeof b,f=a&&a.length,g=ze(0>f?0:f>>>0);return xb(a,function(a){var f=e?b:null!=a&&a[b];g[++d]=f?f.apply(a,c):r}),g}function Jb(a,b,c,d,e){return a?((Ff(b)?jb:Eb)(b,function(b,f,g){var h=b&&Ff(b),i=b&&Gf(b),j=a[f];if(!h&&!i)return l=c?c(j,b,f,a,g):r,"undefined"==typeof l&&(l=b),"undefined"!=typeof l&&(j=l),void(a[f]=j);d||(d=[]),e||(e=[]);for(var k=d.length;k--;)if(d[k]==b)return void(a[f]=e[k]);var l=c?c(j,b,f,a,g):r,m="undefined"!=typeof l;j=m?l:h?Ff(j)?j:[]:Gf(j)?j:{},d.push(b),e.push(j),m||Jb(j,b,c,d,e),a[f]=j}),a):a}function Kb(a,b){var c={};if("function"==typeof b)return Db(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c;for(var d=-1,e=b,f=e.length;++d<f;){var g=e[d];g in a&&(c[g]=a[g])}return c}function Lb(c,d){var e=d.length,f=a(c,d);for(d.sort(b);e--;){var g=parseFloat(d[e]);if(g!=h&&g>-1&&g%1==0){var h=g;_e.call(c,g,1)}}return f}function Mb(a,b){return a+Te(nf()*(b-a+1))}function Nb(a,b,e){var f=a?a.length:0;if(!f)return[];var g=-1,h=Xb(),i=!b&&h===c,j=i&&qf&&f>=200,k=i&&!j,l=[];if(j){var m=qf();h=d}else m=e&&!b?[]:l;a:for(;++g<f;){var n=a[g],o=e?e(n,g,a):n;if(k){for(var p=m.length;p--;)if(m[p]===o)continue a;e&&m.push(o),l.push(n)}else b?g&&m===o||(m=o,l.push(n)):h(m,o)<0&&((e||j)&&m.push(o),l.push(n))}return l}function Ob(a,b){for(var c=-1,d=b(a),e=d.length,f=ze(e);++c<e;)f[c]=a[d[c]];return f}function Pb(a,b,c,d){d=d?"\n/*\n//# sourceURL="+d+"\n*/":"";try{var e=Ce(b,"return "+a+d).apply(r,c);e.source=a}catch(f){throw f.source=a,f}return e}function Qb(a,b,c){for(var d=b.length,e=-1,f=jf(c.length-d,0),g=-1,h=a.length,i=ze(f+h);++g<h;)i[g]=a[g];for(;++e<d;)i[b[e]]=c[e];for(;f--;)i[g++]=c[e++];return i}function Rb(a,b,c){for(var d=-1,e=b.length,f=-1,g=jf(c.length-e,0),h=-1,i=a.length,j=ze(g+i);++f<g;)j[f]=c[f];for(var k=f;++h<i;)j[k+h]=a[h];for(;++d<e;)j[k+b[d]]=c[f++];return j}function Sb(a,b){return function(c,d,e){var f=b?b():{};d=P.createCallback(d,e,3);var g=-1,h=c?c.length:0;if("number"==typeof h&&h>-1&&Oe>=h)for(;++g<h;){var i=c[g];a(f,i,d(i,g,c),c)}else xb(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function Tb(a){return function(b){var c=arguments,d=c.length;if(!b||2>d)return b;var e=typeof c[2];if("number"!=e&&"string"!=e||!c[3]||c[3][c[2]]!==c[1]||(d=2),d>3&&"function"==typeof c[d-2])var f=ub(c[--d-1],c[d--],2);else d>2&&"function"==typeof c[d-1]&&(f=c[--d]);for(var g=0;++g<d;)a(b,c[g],f);return b}}function Ub(a,b,c){var d=a.length;if(b=+b,d>=b||!ff(b))return"";var e=b-d;return c=null==c?" ":He(c),ee(c,Re(e/c.length)).slice(0,e)}function Vb(a,b,c,d,e,f){var g=b&s,h=b&t,i=b&w,j=b&x;if(!h&&!Jd(a))throw new Ie(A);i&&!e.length&&(b&=~w,i=e=!1),j&&!f.length&&(b&=~x,j=f=!1);var k=!h&&a[z];if(k&&k!==!0){k=oc(k),k[4]&&(k[4]=oc(k[4])),k[5]&&(k[5]=oc(k[5])),"number"==typeof c&&(k[2]=c);var l=k[1]&s;return g&&!l&&(k[3]=d),!g&&l&&(b|=v),i&&(k[4]?Xe.apply(k[4],e):k[4]=e),j&&(k[5]?af.apply(k[5],f):k[5]=f),k[1]|=b,Vb.apply(null,k)}if(i)var m=Wb(e);if(j)var n=Wb(f);return null==c&&(c=h?0:a.length),c=jf(c,0),k=[a,b,c,d,e,f,m,n],b==s||b==(s|w)?qb(k):vb(k)}function Wb(a){for(var b=-1,c=a.length,d=[];++b<c;)a[b]===P&&d.push(b);return d}function Xb(){var a=P.indexOf||fc;return a===fc?c:a}function Yb(a){return"function"==typeof a&&Qe.test(Ue.call(a))}function Zb(a){var b,c;return a&&Pe.call(a)==db&&(We.call(a,"constructor")||(b=a.constructor,!Jd(b)||b instanceof b))?(Db(a,function(a,b){c=b}),"undefined"==typeof c||We.call(a,c)):!1}function $b(a){for(var b,c=-1,d=Rd(a),e=d.length,f=e&&a.length,g=f-1,h=[],i="number"==typeof f&&f>0&&(Ff(a)||pf.nonEnumArgs&&Bd(a));++c<e;){var j=d[c];(i&&(b=+j,b>-1&&g>=b&&b%1==0)||We.call(a,j))&&h.push(j)}return h}function _b(a){for(var b=-1,c=a?a.length:0,d=0,e=[];++b<c;){var f=a[b];f&&(e[d++]=f)}return e}function ac(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Ff(c)||Bd(c))break}return wb(arguments[a],Ab(arguments,!0,!0,++a))}function bc(a,b,c){var d=-1,e=a?a.length:0;for(b=P.createCallback(b,c,3);++d<e;)if(b(a[d],d,a))return d;return-1}function cc(a,b,c){var d=a?a.length:0;for(b=P.createCallback(b,c,3);d--;)if(b(a[d],d,a))return d;return-1}function dc(a,b,c){if("number"!=typeof b&&null!=b){var d=-1,e=a?a.length:0,f=0;for(b=P.createCallback(b,c,3);++d<e&&b(a[d],d,a);)f++}else if(f=b,null==f||c)return a?a[0]:r;return oc(a,0,0>f?0:f)}function ec(a,b,c,d){var e=a?a.length:0;if(!e)return[];var f=typeof b;return"boolean"!=f&&null!=b&&(d=c,c=b,b=!1,"number"!=f&&"string"!=f||!d||d[c]!==a||(c=null)),null!=c&&(a=Lc(a,c,d)),Ab(a,b)}function fc(a,b,d){var e=a?a.length:0;if("number"==typeof d)d=0>d?jf(e+d,0):d||0;else if(d){var f=pc(a,b);return e&&a[f]===b?f:-1}return c(a,b,d)}function gc(a,b,c){var d=a?a.length:0;if("number"!=typeof b&&null!=b){var e=d,f=0;for(b=P.createCallback(b,c,3);e--&&b(a[e],e,a);)f++}else f=null==b||c?1:b;return f=d-(f||0),oc(a,0,0>f?0:f)}function hc(){for(var a=[],b=-1,e=arguments.length,f=[],g=Xb(),h=qf&&g===c;++b<e;){var i=arguments[b];(Ff(i)||Bd(i))&&(a.push(i),f.push(h&&i.length>=120&&qf(b&&i)))}e=a.length;var j=a[0],k=-1,l=j?j.length:0,m=[],n=f[0];a:for(;++k<l;)if(i=j[k],(n?d(n,i):g(m,i))<0){for(b=e;--b;){var o=f[b];if((o?d(o,i):g(a[b],i))<0)continue a}n&&n.push(i),m.push(i)}return m}function ic(a,b,c){var d=a?a.length:0;if("number"!=typeof b&&null!=b){var e=d,f=0;for(b=P.createCallback(b,c,3);e--&&b(a[e],e,a);)f++}else if(f=b,null==f||c)return a?a[d-1]:r;return f=d-(f||0),oc(a,0>f?0:f)}function jc(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?jf(d+c,0):kf(c||0,d-1))+1);d--;)if(a[d]===b)return d;return-1}function kc(a){for(var b=0,c=arguments.length,d=a?a.length:0;++b<c;)for(var e=-1,f=arguments[b];++e<d;)a[e]===f&&(_e.call(a,e--,1),d--);return a}function lc(a){return Lb(a,Ab(arguments,!0,!1,1))}function mc(a,b,c){var d=-1,e=a?a.length:0,f=[];for(b=P.createCallback(b,c,3);++d<e;){var g=a[d];b(g,d,a)&&(f.push(g),_e.call(a,d--,1),e--)}return f}function nc(a,b,c){if("number"!=typeof b&&null!=b){var d=-1,e=a?a.length:0,f=0;for(b=P.createCallback(b,c,3);++d<e&&b(a[d],d,a);)f++}else f=null==b||c?1:0>b?0:b;return oc(a,f)}function oc(a,b,c){var d=-1,e=a?a.length:0;b=null==b?0:+b||0,0>b?b=jf(e+b,0):b>e&&(b=e),c="undefined"==typeof c?e:+c||0,0>c?c=jf(e+c,0):c>e&&(c=e),e=b>c?0:c-b;for(var f=ze(e);++d<e;)f[d]=a[b+d];return f}function pc(a,b,c,d){var e=0,f=a?a.length:e;for(c=c?P.createCallback(c,d,1):oe,b=c(b);f>e;){var g=e+f>>>1;c(a[g])<b?e=g+1:f=g}return e}function qc(){return Nb(Ab(arguments,!0,!0))}function rc(a,b,c,d){var e=a?a.length:0;if(!e)return[];var f=typeof b;return"boolean"!=f&&null!=b&&(d=c,c=b,b=!1,"number"!=f&&"string"!=f||!d||d[c]!==a||(c=null)),null!=c&&(c=P.createCallback(c,d,3)),Nb(a,b,c)}function sc(){return wb(arguments[0],oc(arguments,1))}function tc(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Ff(c)||Bd(c))var d=d?wb(d,c).concat(wb(c,d)):c}return d?Nb(d):[]}function uc(){for(var a=arguments.length>1?arguments:arguments[0],b=-1,c=a?Mc(Oc(a,"length")):0,d=ze(0>c?0:c);++b<c;)d[b]=Oc(a,b);return d}function vc(a,b){var c=-1,d=a?a.length:0,e={};for(b||!d||Ff(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function wc(a){return new U(a,!0)}function xc(a,b,c){return b.call(c,a),a}function yc(){return this.__chain__=!0,this}function zc(){return He(this.__wrapped__)}function Ac(){return this.__wrapped__}function Bc(b){return a(b,Ab(arguments,!0,!1,1))}function Cc(a,b,c){var d=a?a.length:0;if("number"==typeof d&&d>-1&&Oe>=d||(a=Xd(a),d=a.length),c="number"==typeof c?0>c?jf(d+c,0):c||0:0,"string"==typeof a||!Ff(a)&&Pd(a))return c>=d?!1:cf?cf.call(a,b,c):a.indexOf(b,c)>-1;var e=Xb();return e(a,b,c)>-1}function Dc(a,b,c){var d=!0;b=P.createCallback(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f&&f>-1&&Oe>=f){for(;++e<f;)if(!b(a[e],e,a))return!1}else xb(a,function(a,c,e){return d=!!b(a,c,e)});return d}function Ec(a,b,c){var d=[];b=P.createCallback(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f&&f>-1&&Oe>=f)for(;++e<f;){var g=a[e];b(g,e,a)&&d.push(g)}else xb(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function Fc(a,b,c){var d=a?a.length:0;if("number"==typeof d&&d>-1&&Oe>=d){var e=bc(a,b,c);return e>-1?a[e]:r}return b=P.createCallback(b,c,3),zb(a,b,xb)}function Gc(a,b,c){return b=P.createCallback(b,c,3),zb(a,b,yb)}function Hc(a,b){return Fc(a,pe(b))}function Ic(a,b,c){var d=a?a.length:0;return b=b&&"undefined"==typeof c?b:ub(b,c,3),"number"==typeof d&&d>-1&&Oe>=d?jb(a,b):xb(a,b)}function Jc(a,b,c){var d=a?a.length:0;return b=b&&"undefined"==typeof c?b:ub(b,c,3),"number"==typeof d&&d>-1&&Oe>=d?kb(a,b):yb(a,b)}function Kc(a,b){return Ib(a,b,oc(arguments,2))}function Lc(a,b,c){var d=a?a.length:0;if(b=P.createCallback(b,c,3),"number"==typeof d&&d>-1&&Oe>=d)return lb(a,b);var e=-1,f=[];return xb(a,function(a,c,d){f[++e]=b(a,c,d)}),f}function Mc(a,b,c){var d=-1/0,f=d,g=typeof b;if("number"!=g&&"string"!=g||!c||c[b]!==a||(b=null),null==b&&Ff(a))for(var h=-1,i=a.length;++h<i;){var j=a[h];j>f&&(f=j)}else b=null==b&&Pd(a)?e:P.createCallback(b,c,3),xb(a,function(a,c,e){var g=b(a,c,e);(g>d||g===-1/0&&g===f)&&(d=g,f=a)});return f}function Nc(a,b,c){var d=1/0,f=d,g=typeof b;if("number"!=g&&"string"!=g||!c||c[b]!==a||(b=null),null==b&&Ff(a))for(var h=-1,i=a.length;++h<i;){var j=a[h];f>j&&(f=j)}else b=null==b&&Pd(a)?e:P.createCallback(b,c,3),xb(a,function(a,c,e){var g=b(a,c,e);(d>g||1/0===g&&g===f)&&(d=g,f=a)});return f}function Oc(a,b){return Lc(a,te(b))}function Pc(a,b,c,d){var e=arguments.length<3;b=P.createCallback(b,d,4);var f=-1,g=a?a.length:0;if("number"==typeof g&&g>-1&&Oe>=g)for(e&&g&&(c=a[++f]);++f<g;)c=b(c,a[f],f,a);else xb(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function Qc(a,b,c,d){var e=arguments.length<3;return b=P.createCallback(b,d,4),yb(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)}),c}function Rc(a,b,c){return b=P.createCallback(b,c,3),Ec(a,id(b))}function Sc(a,b,c){if(a&&"number"!=typeof a.length&&(a=Xd(a)),null==b||c){var d=a?a.length:0;return d>0?a[Mb(0,d-1)]:r}var e=Tc(a);return e.length=kf(0>b?0:+b||0,e.length),e}function Tc(a){var b=-1,c=a&&a.length,d=ze(0>c?0:c>>>0);return xb(a,function(a){var c=Mb(0,++b);d[b]=d[c],d[c]=a}),d}function Uc(a){var b=a?a.length:0;return"number"==typeof b&&b>-1&&Oe>=b?b:Hf(a).length}function Vc(a,b,c){var d;b=P.createCallback(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f&&f>-1&&Oe>=f){for(;++e<f;)if(b(a[e],e,a))return!0}else xb(a,function(a,c,e){return!(d=b(a,c,e))});return!!d}function Wc(a,b,c){var d=-1,e=a&&a.length,f=b&&Ff(b),g=ze(0>e?0:e>>>0);for(f||(b=P.createCallback(b,c,3)),xb(a,function(a,c,e){if(f)for(var h=b.length,i=ze(h);h--;)i[h]=a[b[h]];else i=b(a,c,e);g[++d]={criteria:i,index:d,value:a}}),e=g.length,g.sort(f?i:h);e--;)g[e]=g[e].value;return g}function Xc(a){var b=a&&a.length;return"number"==typeof b&&b>-1&&Oe>=b?oc(a):Xd(a)}function Yc(a,b){return Ec(a,pe(b))}function Zc(a,b){if(!Jd(b))throw new Ie(A);return a=ff(a=+a)?a:0,function(){return--a<1?b.apply(this,arguments):void 0}}function $c(a,b){if(arguments.length<3)return Vb(a,s,null,b);if(a){var c=a[z]?a[z][2]:a.length,d=oc(arguments,2);c-=d.length}return Vb(a,s|w,c,b,d)}function _c(a){return ad(a,arguments.length>1?Ab(arguments,!0,!1,1):yd(a))}function ad(a,b){for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=Vb(a[e],s,null,a)}return a}function bd(a,b){return arguments.length<3?Vb(b,s|t,null,a):Vb(b,s|t|w,null,a,oc(arguments,2))}function cd(){for(var a=arguments,b=a.length,c=b;c--;)if(!Jd(a[c]))throw new Ie(A);
return function(){for(var c=b-1,d=a[c].apply(this,arguments);c--;)d=a[c].call(this,d);return d}}function dd(a,b){return"number"!=typeof b&&(b=+b||(a?a.length:0)),Vb(a,u,b)}function ed(a,b,c){var d,e,f,g,h,i,j,k=0,l=!1,m=!0;if(!Jd(a))throw new Ie(A);if(b=0>b?0:b,c===!0){var n=!0;m=!1}else Kd(c)&&(n=c.leading,l="maxWait"in c&&jf(b,+c.maxWait||0),m="trailing"in c?c.trailing:m);var o=function(){var c=b-(Mf()-g);if(0>=c||c>b){e&&Se(e);var l=j;e=i=j=r,l&&(k=Mf(),f=a.apply(h,d),i||e||(d=h=null))}else i=$e(o,c)},p=function(){i&&Se(i),e=i=j=r,(m||l!==b)&&(k=Mf(),f=a.apply(h,d),i||e||(d=h=null))};return function(){if(d=arguments,g=Mf(),h=this,j=m&&(i||!n),l===!1)var c=n&&!i;else{e||n||(k=g);var q=l-(g-k),r=0>=q||q>l;r?(e&&(e=Se(e)),k=g,f=a.apply(h,d)):e||(e=$e(p,q))}return r&&i?i=Se(i):i||b===l||(i=$e(o,b)),c&&(r=!0,f=a.apply(h,d)),!r||i||e||(d=h=null),f}}function fd(a){if(!Jd(a))throw new Ie(A);var b=oc(arguments,1);return $e(function(){a.apply(r,b)},1)}function gd(a,b){if(!Jd(a))throw new Ie(A);var c=oc(arguments,2);return $e(function(){a.apply(r,c)},b)}function hd(a,b){if(!Jd(a)||b&&!Jd(b))throw new Ie(A);var c=function(){var d=b?b.apply(this,arguments):arguments[0];if("__proto__"==d)return a.apply(this,arguments);var e=c.cache;return We.call(e,d)?e[d]:e[d]=a.apply(this,arguments)};return c.cache={},c}function id(a){if(!Jd(a))throw new Ie(A);return function(){return!a.apply(this,arguments)}}function jd(a){var b,c;if(!Jd(a))throw new Ie(A);return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function kd(a){if(a){var b=a[z]?a[z][2]:a.length,c=oc(arguments,1);b-=c.length}return Vb(a,w,b,null,c)}function ld(a){if(a){var b=a[z]?a[z][2]:a.length,c=oc(arguments,1);b-=c.length}return Vb(a,x,b,null,null,c)}function md(a,b,c){var d=!0,e=!0;if(!Jd(a))throw new Ie(A);return c===!1?d=!1:Kd(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),hb.leading=d,hb.maxWait=+b,hb.trailing=e,ed(a,b,hb)}function nd(a,b){return Vb(b,w,null,null,[a])}function od(a,b,c,d){var e=typeof b;return"boolean"!=e&&null!=b&&(d=c,c=b,b=!1,"number"!=e&&"string"!=e||!d||d[c]!==a||(c=null)),c="function"==typeof c&&ub(c,d,1),rb(a,b,c)}function pd(a,b,c){return b="function"==typeof b&&ub(b,c,1),rb(a,!0,b)}function qd(a,b){var c=sb(a);return b?pb(c,b):c}function rd(a){if(!a)return a;var b=oc(arguments);return b.push(mb),Ef.apply(null,b)}function sd(a,b,c){return b=P.createCallback(b,c,3),zb(a,b,Eb,!0)}function td(a,b,c){return b=P.createCallback(b,c,3),zb(a,b,Fb,!0)}function ud(a,b,c){return b=b&&"undefined"==typeof c?b:ub(b,c,3),Bb(a,b,Rd)}function vd(a,b,c){return b=ub(b,c,3),Cb(a,b,Rd)}function wd(a,b,c){return b=b&&"undefined"==typeof c?b:ub(b,c,3),Eb(a,b)}function xd(a,b,c){return b=ub(b,c,3),Cb(a,b,Hf)}function yd(a){return Gb(a,Rd)}function zd(a,b){return a?We.call(a,b):!1}function Ad(a,b){for(var c=-1,d=Hf(a),e=d.length,f={};++c<e;){var g=d[c],h=a[g];b?We.call(f,h)?f[h].push(g):f[h]=[g]:f[h]=g}return f}function Bd(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Pe.call(a)==Y||!1}function Cd(a){return a===!0||a===!1||a&&"object"==typeof a&&Pe.call(a)==$||!1}function Dd(a){return a&&"object"==typeof a&&Pe.call(a)==_||!1}function Ed(a){return a&&"object"==typeof a&&1===a.nodeType&&Pe.call(a).indexOf("Element")>-1||!1}function Fd(a){var b=!0;if(!a)return b;var c=a.length;return c>-1&&Oe>=c&&(Ff(a)||Pd(a)||Bd(a)||"object"==typeof a&&Jd(a.splice))?!c:(Eb(a,function(){return b=!1}),b)}function Gd(a,b,c,d){if(c="function"==typeof c&&ub(c,d,2),!c){if(a===b)return 0!==a||1/a==1/b;var e=typeof a,f=typeof b;if(a===a&&(null==a||null==b||"function"!=e&&"object"!=e&&"function"!=f&&"object"!=f))return!1}return Hb(a,b,c)}function Hd(a){return a&&"object"==typeof a&&Pe.call(a)==ab||!1}function Id(a){return ff(a)&&!gf(parseFloat(a))}function Jd(a){return"function"==typeof a}function Kd(a){var b=typeof a;return"function"==b||a&&"object"==b||!1}function Ld(a){return Nd(a)&&a!=+a}function Md(a){return null===a}function Nd(a){var b=typeof a;return"number"==b||a&&"object"==b&&Pe.call(a)==cb||!1}function Od(a){return a&&"object"==typeof a&&Pe.call(a)==eb||!1}function Pd(a){return"string"==typeof a||a&&"object"==typeof a&&Pe.call(a)==fb||!1}function Qd(a){return"undefined"==typeof a}function Rd(a){if(!Kd(a))return[];var b=a.length;b=("number"==typeof b&&b>0&&(Ff(a)||pf.nonEnumArgs&&Bd(a))&&b)>>>0;for(var c,d=a.constructor,e=-1,f=d&&a===d.prototype,g=b-1,h=ze(b),i=b>0;++e<b;)h[e]=He(e);for(var j in a)f&&"constructor"==j||i&&(c=+j,c>-1&&g>=c&&c%1==0)||h.push(j);return h}function Sd(a,b,c){var d={};return b=P.createCallback(b,c,3),Eb(a,function(a,c,e){d[c]=b(a,c,e)}),d}function Td(a,b,c){if(!Kd(a))return{};if("function"==typeof b)return Kb(a,id(P.createCallback(b,c,3)));for(var d=Ab(arguments,!0,!1,1),e=d.length;e--;)d[e]=He(d[e]);return Kb(a,wb(Rd(a),d))}function Ud(a){for(var b=-1,c=Hf(a),d=c.length,e=ze(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Vd(a,b,c){return Kd(a)?Kb(a,"function"==typeof b?P.createCallback(b,c,3):Ab(arguments,!0,!1,1)):{}}function Wd(a,b,c,d){var e=Ff(a);if(null==c)if(e)c=[];else{if(Kd(a))var f=a.constructor,g=f&&f.prototype;c=sb(g)}return b&&(b=P.createCallback(b,d,4),(e?jb:Eb)(a,function(a,d,e){return b(c,a,d,e)})),c}function Xd(a){return Ob(a,Hf)}function Yd(a){return Ob(a,Rd)}function Zd(a){return null==a?"":(a=He(a),a.charAt(0).toUpperCase()+a.slice(1))}function $d(a,b,c){a=null==a?"":He(a),b=He(b);var d=a.length;return c=("undefined"==typeof c?d:kf(0>c?0:+c||0,d))-b.length,c>=0&&a.indexOf(b,c)==c}function _d(a){return null==a?"":He(a).replace(H,l)}function ae(a){return null==a?"":He(a).replace(R,"\\$&")}function be(a,b,c){a=null==a?"":He(a),b=+b;var d=a.length;if(d>=b||!ff(b))return a;var e=(b-d)/2,f=Te(e),g=Re(e);return c=Ub("",g,c),c.slice(0,f)+a+c}function ce(a,b,c){return a=null==a?"":He(a),Ub(a,b,c)+a}function de(a,b,c){return a=null==a?"":He(a),a+Ub(a,b,c)}function ee(a,b){var c="";if(b=+b,1>b||null==a||!ff(b))return c;a=He(a);do b%2&&(c+=a),b=Te(b/2),a+=a;while(b);return c}function fe(a,b,c){return a=null==a?"":He(a),c="undefined"==typeof c?0:kf(0>c?0:+c||0,a.length),a.lastIndexOf(b,c)==c}function ge(a,b,c){var d=P.templateSettings;c=Ef({},c,d,nb),a=He(null==a?"":a);var e,f,g=Ef({},c.imports,d.imports,nb),h=Hf(g),i=Xd(g),j=0,k=c.interpolate||Q,l="__p += '",n=Ge((c.escape||Q).source+"|"+k.source+"|"+(k===K?L:Q).source+"|"+(c.evaluate||Q).source+"|$","g");a.replace(n,function(b,c,d,g,h,i){return d||(d=g),l+=a.slice(j,i).replace(T,m),c&&(e=!0,l+="' +\n__e("+c+") +\n'"),h&&(f=!0,l+="';\n"+h+";\n__p += '"),d&&(l+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),j=i+b.length,b}),l+="';\n";var o=c.variable;o||(l="with (obj) {\n"+l+"\n}\n"),l=(f?l.replace(D,""):l).replace(E,"$1").replace(F,"$1;"),l="function("+(o||"obj")+") {\n"+(o?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(e?", __e = _.escape":"")+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var p=c.sourceURL||"/lodash/template/source["+X++ +"]",q=Pb(l,h,i,p);return b?q(b):q}function he(a,b){return(a=null==a?"":He(a))?null==b?a.slice(n(a),o(a)+1):(b=He(b),a.slice(f(a,b),g(a,b)+1)):a}function ie(a,b){return(a=null==a?"":He(a))?null==b?a.slice(n(a)):(b=He(b),a.slice(f(a,b))):a}function je(a,b){return(a=null==a?"":He(a))?null==b?a.slice(0,o(a)+1):(b=He(b),a.slice(0,g(a,b)+1)):a}function ke(a,b){var c=30,d="...";if(b&&Kd(b)){var e="separator"in b?b.separator:e;c="length"in b?+b.length||0:c,d="omission"in b?He(b.omission):d}else null!=b&&(c=+b||0);if(a=null==a?"":He(a),c>=a.length)return a;var f=c-d.length;if(1>f)return d;var g=a.slice(0,f);if(null==e)return g+d;if(Od(e)){if(a.slice(f).search(e)){var h,i,j=a.slice(0,f);for(e.global||(e=Ge(e.source,(M.exec(e)||"")+"g")),e.lastIndex=0;h=e.exec(j);)i=h.index;g=g.slice(0,null==i?f:i)}}else if(a.indexOf(e,f)!=f){var k=g.lastIndexOf(e);k>-1&&(g=g.slice(0,k))}return g+d}function le(a){return null==a?"":(a=He(a),a.indexOf(";")<0?a:a.replace(G,p))}function me(a){return function(){return a}}function ne(a,b,c){var d=typeof a;return"function"==d||null==a?("undefined"==typeof b||!(a&&"prototype"in a))&&a||ub(a,b,c):"object"==d?pe(a):te(a)}function oe(a){return a}function pe(a){var b=Hf(a),c=b.length,d=b[0],e=c&&a[d];return 1!=c||e!==e||Kd(e)?function(d){var e=c;if(e&&!d)return!1;for(var f=!0;e--;){var g=b[e];if(!(f=We.call(d,g)&&Hb(d[g],a[g],null,!0)))break}return f}:function(a){if(!a||!We.call(a,d))return!1;var b=a[d];return e===b&&(0!==e||1/e==1/b)}}function qe(a,b,c){var d=!0,e=b&&Gb(b,Hf);b&&(c||e.length)||(null==c&&(c=b),b=a,a=this,e=Gb(b,Hf)),c===!1?d=!1:Kd(c)&&"chain"in c&&(d=c.chain);for(var f=-1,g=Jd(a),h=e?e.length:0;++f<h;){var i=e[f],j=a[i]=b[i];g&&(a.prototype[i]=function(b){return function(){var c=this.__chain__,e=this.__wrapped__,f=[e];Xe.apply(f,arguments);var g=b.apply(a,f);if(d||c){if(e===g&&Kd(g))return this;g=new a(g),g.__chain__=c}return g}}(j))}return a}function re(){return k._=Ne,this}function se(){}function te(a){return function(b){return null==b?r:b[a]}}function ue(a,b,c){var d=null==a,e=null==b;if(null==c&&(e&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,e=!0)),d&&e&&(b=1,e=!1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=nf();return kf(a+f*(b-a+parseFloat("1e-"+(He(f).length-1))),b)}return Mb(a,b)}function ve(a,b,c){a=+a||0,c=null==c?1:+c||0,null==b?(b=a,a=0):b=+b||0;for(var d=-1,e=jf(Re((b-a)/(c||1)),0),f=ze(e);++d<e;)f[d]=a,a+=c;return f}function we(a,b,c){var d=null==a?r:a[b];return"undefined"==typeof d?c:Jd(d)?a[b]():d}function xe(a,b,c){a=0>a?0:a>>>0,b=ub(b,c,1);for(var d=-1,e=ze(a);++d<a;)e[d]=b(d);return e}function ye(a){var b=++B;return He(null==a?"":a)+b}k=k?tb.defaults(ob.Object(),k,tb.pick(ob,W)):ob;var ze=k.Array,Ae=k.Boolean,Be=k.Date,Ce=k.Function,De=k.Math,Ee=k.Number,Fe=k.Object,Ge=k.RegExp,He=k.String,Ie=k.TypeError,Je=ze.prototype,Ke=Fe.prototype,Le=He.prototype,Me=(Me=k.window)&&Me.document,Ne=k._,Oe=De.pow(2,53)-1,Pe=Ke.toString,Qe=Ge("^"+ae(Pe).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Re=De.ceil,Se=k.clearTimeout,Te=De.floor,Ue=Ce.prototype.toString,Ve=Yb(Ve=Fe.getPrototypeOf)&&Ve,We=Ke.hasOwnProperty,Xe=Je.push,Ye=Ke.propertyIsEnumerable,Ze=Yb(Ze=k.Set)&&Ze,$e=k.setTimeout,_e=Je.splice,af=Je.unshift,bf=function(){try{var a={},b=Yb(b=Fe.defineProperty)&&b,c=b(a,a,a)&&b}catch(d){}return c}(),cf=Yb(cf=Le.contains)&&cf,df=Yb(df=Fe.create)&&df,ef=Yb(ef=ze.isArray)&&ef,ff=k.isFinite,gf=k.isNaN,hf=Yb(hf=Fe.keys)&&hf,jf=De.max,kf=De.min,lf=Yb(lf=Be.now)&&lf,mf=k.parseInt,nf=De.random,of={};of[Z]=ze,of[$]=Ae,of[_]=Be,of[bb]=Ce,of[db]=Fe,of[cb]=Ee,of[eb]=Ge,of[fb]=He,U.prototype=P.prototype;var pf=P.support={};!function(){for(var a in arguments);pf.funcDecomp=!Yb(k.WinRTError)&&S.test(q),pf.funcNames="string"==typeof Ce.name;try{pf.dom=11===Me.createDocumentFragment().nodeType}catch(b){pf.dom=!1}try{pf.nonEnumArgs=!("1"==a&&We.call(arguments,a)&&Ye.call(arguments,a))}catch(b){pf.nonEnumArgs=!0}}(0,0),P.templateSettings={escape:I,evaluate:J,interpolate:K,variable:"",imports:{_:P}},df||(sb=function(){function a(){}return function(b){if(Kd(b)){a.prototype=b;var c=new a;a.prototype=null}return c||k.Object()}}());var qf=Ze&&function(a){var b=new Ze,c=a?a.length:0;for(b.push=b.add;c--;)b.push(a[c]);return b},rf=bf?function(a,b){ib.value=b,bf(a,z,ib),ib.value=null}:se,sf=nc,tf=gc,uf=gc,vf=nc,wf=dc,xf=ic,yf=ic,zf=dc,Af=Sb(function(a,b,c){We.call(a,c)?a[c]++:a[c]=1}),Bf=Sb(function(a,b,c){We.call(a,c)?a[c].push(b):a[c]=[b]}),Cf=Sb(function(a,b,c){a[c]=b}),Df=Sb(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),Ef=Tb(pb),Ff=ef||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Pe.call(a)==Z||!1};pf.dom||(Ed=function(a){return a&&"object"==typeof a&&1===a.nodeType&&!Gf(a)||!1});var Gf=Ve?function(a){if(!a||Pe.call(a)!=db)return!1;var b=a.valueOf,c=Yb(b)&&(c=Ve(b))&&Ve(c);return c?a==c||Ve(a)==c:Zb(a)}:Zb,Hf=hf?function(a){var b=a&&a.constructor,c=a?a.length:0;return"number"==typeof c&&c>0||b&&a===b.prototype?$b(a):Kd(a)?hf(a):[]}:$b,If=Tb(Jb),Jf=j(function(a,b,c){return!c&&C.test(b)?a+b.toLowerCase():a+(b.charAt(0)[c?"toUpperCase":"toLowerCase"]()+b.slice(1))}),Kf=j(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Lf=j(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Mf=lf||function(){return(new Be).getTime()},Nf=8==mf(V+"08")?mf:function(a,b){return a=he(a),mf(a,+b||(O.test(a)?16:10))};return P.after=Zc,P.assign=Ef,P.at=Bc,P.bind=$c,P.bindAll=_c,P.bindKey=bd,P.chain=wc,P.compact=_b,P.compose=cd,P.constant=me,P.countBy=Af,P.create=qd,P.createCallback=ne,P.curry=dd,P.debounce=ed,P.defaults=rd,P.defer=fd,P.delay=gd,P.difference=ac,P.drop=sf,P.dropRight=tf,P.dropRightWhile=uf,P.dropWhile=vf,P.filter=Ec,P.flatten=ec,P.forEach=Ic,P.forEachRight=Jc,P.forIn=ud,P.forInRight=vd,P.forOwn=wd,P.forOwnRight=xd,P.functions=yd,P.groupBy=Bf,P.indexBy=Cf,P.initial=gc,P.intersection=hc,P.invert=Ad,P.invoke=Kc,P.keys=Hf,P.keysIn=Rd,P.map=Lc,P.mapValues=Sd,P.matches=pe,P.max=Mc,P.memoize=hd,P.merge=If,P.min=Nc,P.mixin=qe,P.negate=id,P.omit=Td,P.once=jd,P.pairs=Ud,P.partial=kd,P.partialRight=ld,P.partition=Df,P.pick=Vd,P.pluck=Oc,P.property=te,P.pull=kc,P.pullAt=lc,P.range=ve,P.reject=Rc,P.remove=mc,P.rest=nc,P.shuffle=Tc,P.slice=oc,P.sortBy=Wc,P.tap=xc,P.throttle=md,P.times=xe,P.toArray=Xc,P.transform=Wd,P.union=qc,P.uniq=rc,P.values=Xd,P.valuesIn=Yd,P.where=Yc,P.without=sc,P.wrap=nd,P.xor=tc,P.zip=uc,P.zipObject=vc,P.callback=ne,P.collect=Lc,P.each=Ic,P.eachRight=Jc,P.extend=Ef,P.methods=yd,P.object=vc,P.select=Ec,P.tail=nc,P.unique=rc,P.unzip=uc,qe(P,pb({},P)),P.camelCase=Jf,P.capitalize=Zd,P.clone=od,P.cloneDeep=pd,P.contains=Cc,P.endsWith=$d,P.escape=_d,P.escapeRegExp=ae,P.every=Dc,P.find=Fc,P.findIndex=bc,P.findKey=sd,P.findLast=Gc,P.findLastIndex=cc,P.findLastKey=td,P.findWhere=Hc,P.has=zd,P.identity=oe,P.indexOf=fc,P.isArguments=Bd,P.isArray=Ff,P.isBoolean=Cd,P.isDate=Dd,P.isElement=Ed,P.isEmpty=Fd,P.isEqual=Gd,P.isError=Hd,P.isFinite=Id,P.isFunction=Jd,P.isNaN=Ld,P.isNull=Md,P.isNumber=Nd,P.isObject=Kd,P.isPlainObject=Gf,P.isRegExp=Od,P.isString=Pd,P.isUndefined=Qd,P.kebabCase=Kf,P.lastIndexOf=jc,P.noConflict=re,P.noop=se,P.now=Mf,P.pad=be,P.padLeft=ce,P.padRight=de,P.parseInt=Nf,P.random=ue,P.reduce=Pc,P.reduceRight=Qc,P.repeat=ee,P.result=we,P.runInContext=q,P.size=Uc,P.some=Vc,P.sortedIndex=pc,P.snakeCase=Lf,P.startsWith=fe,P.template=ge,P.trim=he,P.trimLeft=ie,P.trimRight=je,P.truncate=ke,P.unescape=le,P.uniqueId=ye,P.all=Dc,P.any=Vc,P.detect=Fc,P.foldl=Pc,P.foldr=Qc,P.include=Cc,P.inject=Pc,qe(P,function(){var a={};return Eb(P,function(b,c){P.prototype[c]||(a[c]=b)}),a}(),!1),P.first=dc,P.last=ic,P.sample=Sc,P.take=wf,P.takeRight=xf,P.takeRightWhile=yf,P.takeWhile=zf,P.head=dc,Eb(P,function(a,b){var c="sample"!=b;P.prototype[b]||(P.prototype[b]=function(b,d){var e=this.__chain__,f=a(this.__wrapped__,b,d);return e||null!=b&&(!d||c&&"function"==typeof b)?new U(f,e):f})}),P.VERSION=y,P.prototype.chain=yc,P.prototype.toJSON=Ac,P.prototype.toString=zc,P.prototype.value=Ac,P.prototype.valueOf=Ac,jb(["join","pop","shift"],function(a){var b=Je[a];P.prototype[a]=function(){var a=this.__chain__,c=b.apply(this.__wrapped__,arguments);return a?new U(c,a):c}}),jb(["push","reverse","sort","unshift"],function(a){var b=Je[a];P.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),jb(["concat","splice"],function(a){var b=Je[a];P.prototype[a]=function(){return new U(b.apply(this.__wrapped__,arguments),this.__chain__)}}),P}var r,s=1,t=2,u=4,v=8,w=16,x=32,y="2.4.1",z="__lodash@"+y+"__",A="Expected a function",B=0,C=/^[A-Z]+$/,D=/\b__p \+= '';/g,E=/\b(__p \+=) '' \+/g,F=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,I=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,K=/<%=([\s\S]+?)%>/g,L=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,M=/\w*$/,N=/^\s*function[ \n\r\t]+\w/,O=/^0[xX]/,P=/[\xC0-\xFF]/g,Q=/($^)/,R=/[.*+?^${}()|[\]\/\\]/g,S=/\bthis\b/,T=/['\n\r\u2028\u2029\\]/g,U=/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[a-z]+|[0-9]+/g,V=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",W=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","isNaN","parseInt","setTimeout","TypeError","window","WinRTError"],X=0,Y="[object Arguments]",Z="[object Array]",$="[object Boolean]",_="[object Date]",ab="[object Error]",bb="[object Function]",cb="[object Number]",db="[object Object]",eb="[object RegExp]",fb="[object String]",gb={};gb[bb]=!1,gb[Y]=gb[Z]=gb[$]=gb[_]=gb[cb]=gb[db]=gb[eb]=gb[fb]=!0;var hb={leading:!1,maxWait:0,trailing:!1},ib={configurable:!1,enumerable:!1,value:null,writable:!1},jb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},kb={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},lb={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"AE","æ":"ae","Þ":"Th","þ":"th","ß":"ss","×":" ","÷":" "},mb={"function":!0,object:!0},nb={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ob=mb[typeof window]&&window||this,pb=mb[typeof exports]&&exports&&!exports.nodeType&&exports,qb=mb[typeof module]&&module&&!module.nodeType&&module,rb=pb&&qb&&"object"==typeof global&&global;!rb||rb.global!==rb&&rb.window!==rb&&rb.self!==rb||(ob=rb);var sb=qb&&qb.exports===pb&&pb,tb=q();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ob._=tb,define(function(){return tb})):pb&&qb?sb?(qb.exports=tb)._=tb:pb._=tb:ob._=tb}.call(this),function(a,b){"use strict";function c(a){for(var b in a)o.call(a,b)&&(a[b]=new RegExp(a[b],"i"))}function d(a,b){for(var c in a)if(o.call(a,c)&&a[c].test(b))return c;return null}function e(a,b){var c,d,e,f,g=m.props;if(o.call(g,a))for(c=g[a],e=c.length,d=0;e>d;++d)if(f=c[d].exec(b),null!==f)return f[1];return null}function f(a,b){var c=e(a,b);return c?g(c):0/0}function g(a){var b;return b=a.split(/[a-z._ \/\-]/i),1===b.length&&(a=b[0]),b.length>1&&(a=b[0]+".",b.shift(),a+=b.join("")),Number(a)}function h(a,b){return null!=a&&null!=b&&a.toLowerCase()===b.toLowerCase()}function i(a){return n.fullPattern.test(a)||n.shortPattern.test(a.substr(0,4))}function j(a,c,e){if(a.mobile===b){var f,g,h;return(f=d(m.phones,c))?(a.mobile=a.phone=f,void(a.tablet=null)):(g=d(m.tablets,c))?(a.mobile=a.tablet=g,void(a.phone=null)):void(i(c)?(h=k.isPhoneSized(e),h===b?a.mobile=a.tablet=a.phone=r:h?(a.mobile=a.phone=p,a.tablet=null):(a.mobile=a.tablet=q,a.phone=null)):a.mobile=a.tablet=a.phone=null)}}function k(a,b){this.ua=a||"",this._cache={},this.maxPhoneWidth=b||650}var l,m={phones:{iPhone:"\\biPhone.*Mobile|\\biPod",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile",Dell:"Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|\\bDroid\\b.*Build|DROIDX|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925",Samsung:"Samsung|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i",Asus:"Asus.*Galaxy|PadFone.*Mobile",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"^.*Android.*Nexus(((?:(?!Mobile))|(?:(\\s(7|10).+))).)*$",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-I9205|GT-P5200|GT-P5210|SM-T311|SM-T310|SM-T210|SM-T211|SM-P900",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFTT|KFOTE|WFJWAE)\\b",SurfaceTablet:"Windows NT [0-9.]+; ARM;",HPTablet:"HP Slate 7|HP ElitePad 900|hp-tablet|EliteBook.*Touch",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810)\\b|W3-810",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V900|LG-V909\\b",FujitsuTablet:"Android.*\\b(F-01D|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D",LenovoTablet:"IdeaTab|S2110|S6000|K3011|A3000|A1000|A2107|A2109|A1107",YarvikTablet:"Android.*(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468)",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|ZTE V9",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT211|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"bq.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant)|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",GalapadTablet:"Android.*\\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|ViewPad7|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|SmartTabII10"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+|Coast/[0-9.]+",Skyfire:"Skyfire",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile",Tizen:"Tizen",UCBrowser:"UC.*Browser|UCWEB",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:"Firefox/[VER]",Fennec:"Fennec/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]","UC Browser":"UC Browser[VER]",MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",iOS:" \\bOS\\b [VER] ",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Bot:"Googlebot|DoCoMo|YandexBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|facebookexternalhit",MobileBot:"Googlebot-Mobile|DoCoMo|YahooSeeker/M1A1-R2D2",Console:"\\b(Nintendo|Nintendo WiiU|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},n={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i},o=Object.prototype.hasOwnProperty,p="UnknownPhone",q="UnknownTablet",r="UnknownMobile";
l="isArray"in Array?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},function(){var a,b,d,e,f,g;for(a in m.props)if(o.call(m.props,a)){for(b=m.props[a],l(b)||(b=[b]),f=b.length,e=0;f>e;++e)d=b[e],g=d.indexOf("[VER]"),g>=0&&(d=d.substring(0,g)+"([\\w._\\+]+)"+d.substring(g+5)),b[e]=new RegExp(d,"i");m.props[a]=b}c(m.oss),c(m.phones),c(m.tablets),c(m.uas),c(m.utils)}(),k.prototype={constructor:k,mobile:function(){return j(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return j(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return j(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===b&&(this._cache.userAgent=d(m.uas,this.ua)),this._cache.userAgent},os:function(){return this._cache.os===b&&(this._cache.os=d(m.oss,this.ua)),this._cache.os},version:function(a){return f(a,this.ua)},versionStr:function(a){return e(a,this.ua)},is:function(a){return h(a,this.userAgent())||h(a,this.os())||h(a,this.phone())||h(a,this.tablet())||h(a,d(m.utils,this.ua))},match:function(a){return a instanceof RegExp||(a=new RegExp(a,"i")),a.test(this.ua)},isPhoneSized:function(a){return k.isPhoneSized(a||this.maxPhoneWidth)},mobileGrade:function(){var a=this,b=null!==this.mobile();return a.version("iPad")>=4.3||a.version("iPhone")>=3.1||a.version("iPod")>=3.1||a.version("Android")>2.1&&a.is("Webkit")||a.version("Windows Phone OS")>=7||a.is("BlackBerry")&&a.version("BlackBerry")>=6||a.match("Playbook.*Tablet")||a.version("webOS")>=1.4&&a.match("Palm|Pre|Pixi")||a.match("hp.*TouchPad")||a.is("Firefox")&&a.version("Firefox")>=12||a.is("Chrome")&&a.is("AndroidOS")&&a.version("Android")>=4||a.is("Skyfire")&&a.version("Skyfire")>=4.1&&a.is("AndroidOS")&&a.version("Android")>=2.3||a.is("Opera")&&a.version("Opera Mobi")>11&&a.is("AndroidOS")||a.is("MeeGoOS")||a.is("Tizen")||a.is("Dolfin")&&a.version("Bada")>=2||(a.is("UC Browser")||a.is("Dolfin"))&&a.version("Android")>=2.3||a.match("Kindle Fire")||a.is("Kindle")&&a.version("Kindle")>=3||a.is("AndroidOS")&&a.is("NookTablet")||a.version("Chrome")>=11&&!b||a.version("Safari")>=5&&!b||a.version("Firefox")>=4&&!b||a.version("MSIE")>=7&&!b||a.version("Opera")>=10&&!b?"A":a.version("iPad")<4.3||a.version("iPhone")<3.1||a.version("iPod")<3.1||a.is("Blackberry")&&a.version("BlackBerry")>=5&&a.version("BlackBerry")<6||a.version("Opera Mini")>=5&&a.version("Opera Mini")<=6.5&&(a.version("Android")>=2.3||a.is("iOS"))||a.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||a.version("Opera Mobi")>=11&&a.is("SymbianOS")?"B":(a.version("BlackBerry")<5||a.match("MSIEMobile|Windows CE.*Mobile")||a.version("Windows Mobile")<=5.2,"C")}},a(k)}(function(a,b){if("undefined"!=typeof module&&module.exports)a.isPhoneSized=function(){},module.exports=a;else{if("undefined"==typeof window)throw new Error("unknown environment");a.isPhoneSized=function(a){if(0>a)return b;var c=window.screen.width,d=window.devicePixelRatio||1,e=c/d;return a>=e},window.MobileDetect=a}}),!function(a){"use strict";var b=function(a,b){this.init(a,b)};b.prototype={constructor:b,init:function(b,c){var d=this;this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote,function(){var b=a.Event("loaded");d.$element.trigger(b)});var e="function"==typeof this.options.manager?this.options.manager.call(this):this.options.manager;e=e.appendModal?e:a(e).modalmanager().data("modalmanager"),e.appendModal(this)},toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=a.Event("show");this.isShown||(this.$element.trigger(b),b.isDefaultPrevented()||(this.escape(),this.tab(),this.options.loading&&this.loading()))},hide:function(b){return b&&b.preventDefault(),b=a.Event("hide"),this.$element.trigger(b),!this.isShown||b.isDefaultPrevented()?this.isShown=!1:(this.isShown=!1,this.escape(),this.tab(),this.isLoading&&this.loading(),a(document).off("focusin.modal"),this.$element.removeClass("in").removeClass("animated").removeClass(this.options.attentionAnimation).removeClass("modal-overflow").attr("aria-hidden",!0),void(a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()))},layout:function(){var b=this.options.height?"height":"max-height",c=this.options.height||this.options.maxHeight;if(this.options.width){this.$element.css("width",this.options.width);var d=this;this.$element.css("margin-left",function(){return/%/gi.test(d.options.width)?-(parseInt(d.options.width)/2)+"%":-(a(this).width()/2)+"px"})}else this.$element.css("width",""),this.$element.css("margin-left","");this.$element.find(".modal-body").css("overflow","").css(b,""),c&&this.$element.find(".modal-body").css("overflow","auto").css(b,c);var e=a(window).height()-10<this.$element.height();e||this.options.modalOverflow?this.$element.css("margin-top",0).addClass("modal-overflow"):this.$element.css("margin-top",0-this.$element.height()/2).removeClass("modal-overflow")},tab:function(){var b=this;this.isShown&&this.options.consumeTab?this.$element.on("keydown.tabindex.modal","[data-tabindex]",function(c){if(c.keyCode&&9==c.keyCode){var d=a(this),e=a(this);b.$element.find("[data-tabindex]:enabled:not([readonly])").each(function(b){d=b.shiftKey?d.data("tabindex")>a(this).data("tabindex")?d=a(this):e=a(this):d.data("tabindex")<a(this).data("tabindex")?d=a(this):e=a(this)}),d[0]!==a(this)[0]?d.focus():e.focus(),c.preventDefault()}}):this.isShown||this.$element.off("keydown.tabindex.modal")},escape:function(){var a=this;this.isShown&&this.options.keyboard?(this.$element.attr("tabindex")||this.$element.attr("tabindex",-1),this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()})):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(){var a=this.options.height?"height":"max-height",b=this.options.height||this.options.maxHeight;b&&this.$element.find(".modal-body").css("overflow","").css(a,""),this.$element.hide().trigger("hidden")},removeLoading:function(){this.$loading.remove(),this.$loading=null,this.isLoading=!1},loading:function(b){b=b||function(){};var c=this.$element.hasClass("fade")?"fade":"";if(this.isLoading)if(this.isLoading&&this.$loading){this.$loading.removeClass("in");var d=this;a.support.transition&&this.$element.hasClass("fade")?this.$loading.one(a.support.transition.end,function(){d.removeLoading()}):d.removeLoading()}else b&&b(this.isLoading);else{var e=a.support.transition&&c;this.$loading=a('<div class="loading-mask '+c+'">').append(this.options.spinner).appendTo(this.$element),e&&this.$loading[0].offsetWidth,this.$loading.addClass("in"),this.isLoading=!0,e?this.$loading.one(a.support.transition.end,b):b()}},focus:function(){var a=this.$element.find(this.options.focusOn);a=a.length?a:this.$element,a.focus()},attention:function(){if(this.options.attentionAnimation){this.$element.removeClass("animated").removeClass(this.options.attentionAnimation);var a=this;setTimeout(function(){a.$element.addClass("animated").addClass(a.options.attentionAnimation)},0)}this.focus()},destroy:function(){var b=a.Event("destroy");this.$element.trigger(b),b.isDefaultPrevented()||this.teardown()},teardown:function(){return this.$parent.length?(this.$parent!==this.$element.parent()&&this.$element.appendTo(this.$parent),this.$element.off(".modal"),this.$element.removeData("modal"),void this.$element.removeClass("in").attr("aria-hidden",!0)):(this.$element.remove(),void(this.$element=null))}},a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("modal"),g=a.extend({},a.fn.modal.defaults,e.data(),"object"==typeof c&&c);f||e.data("modal",f=new b(this,g)),"string"==typeof c?f[c].apply(f,[].concat(d)):g.show&&f.show()})},a.fn.modal.defaults={keyboard:!0,backdrop:!0,loading:!1,show:!0,width:null,height:null,maxHeight:null,modalOverflow:!1,consumeTab:!0,focusOn:null,replace:!1,resize:!1,attentionAnimation:"shake",manager:"body",spinner:'<div class="loading-spinner" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>',backdropTemplate:'<div class="modal-backdrop" />'},a.fn.modal.Constructor=b,a(function(){a(document).off("click.modal").on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})})})}(window.jQuery),!function(a){"use strict";function b(a){return function(b){return this===b.target?a.apply(this,arguments):void 0}}var c=function(a,b){this.init(a,b)};c.prototype={constructor:c,init:function(b,c){if(this.$element=a(b),this.options=a.extend({},a.fn.modalmanager.defaults,this.$element.data(),"object"==typeof c&&c),this.stack=[],this.backdropCount=0,this.options.resize){var d,e=this;a(window).on("resize.modal",function(){d&&clearTimeout(d),d=setTimeout(function(){for(var a=0;a<e.stack.length;a++)e.stack[a].isShown&&e.stack[a].layout()},10)})}},createModal:function(b,c){a(b).modal(a.extend({manager:this},c))},appendModal:function(c){this.stack.push(c);var d=this;c.$element.on("show.modalmanager",b(function(){var b=function(){c.isShown=!0;var b=a.support.transition&&c.$element.hasClass("fade");d.$element.toggleClass("modal-open",d.hasOpenModal()).toggleClass("page-overflow",a(window).height()<a(".page-wrapper").outerHeight()),c.$parent=c.$element.parent(),c.$container=d.createContainer(c),c.$element.appendTo(c.$container),d.backdrop(c,function(){c.$element.show(),b&&c.$element[0].offsetWidth,c.layout(),c.$element.addClass("in").attr("aria-hidden",!1);var e=function(){d.setFocus(),c.$element.trigger("shown")};b?c.$element.one(a.support.transition.end,e):e()})};c.options.replace?d.replace(b):b()})),c.$element.on("hidden.modalmanager",b(function(){if(d.backdrop(c),c.$backdrop){var b=a.support.transition&&c.$element.hasClass("fade");b&&c.$element[0].offsetWidth,a.support.transition&&c.$element.hasClass("fade")?c.$backdrop.one(a.support.transition.end,function(){d.destroyModal(c)}):d.destroyModal(c)}else d.destroyModal(c)})),c.$element.on("destroy.modalmanager",b(function(){d.removeModal(c)}))},destroyModal:function(a){a.destroy();var b=this.hasOpenModal();this.$element.toggleClass("modal-open",b),b||this.$element.removeClass("page-overflow"),this.removeContainer(a),this.setFocus()},getOpenModals:function(){for(var a=[],b=0;b<this.stack.length;b++)this.stack[b].isShown&&a.push(this.stack[b]);return a},hasOpenModal:function(){return this.getOpenModals().length>0},setFocus:function(){for(var a,b=0;b<this.stack.length;b++)this.stack[b].isShown&&(a=this.stack[b]);a&&a.focus()},removeModal:function(a){a.$element.off(".modalmanager"),a.$backdrop&&this.removeBackdrop(a),this.stack.splice(this.getIndexOfModal(a),1)},getModalAt:function(a){return this.stack[a]},getIndexOfModal:function(a){for(var b=0;b<this.stack.length;b++)if(a===this.stack[b])return b},replace:function(c){for(var d,e=0;e<this.stack.length;e++)this.stack[e].isShown&&(d=this.stack[e]);d?(this.$backdropHandle=d.$backdrop,d.$backdrop=null,c&&d.$element.one("hidden",b(a.proxy(c,this))),d.hide()):c&&c()},removeBackdrop:function(a){a.$backdrop.remove(),a.$backdrop=null},createBackdrop:function(b,c){var d;return this.$backdropHandle?(d=this.$backdropHandle,d.off(".modalmanager"),this.$backdropHandle=null,this.isLoading&&this.removeSpinner()):d=a(c).addClass(b).appendTo(this.$element),d},removeContainer:function(a){a.$container.remove(),a.$container=null},createContainer:function(c){var e;return e=a('<div class="modal-scrollable">').css("z-index",d("modal",this.getOpenModals().length)).appendTo(this.$element),c&&"static"!=c.options.backdrop?e.on("click.modal",b(function(){c.hide()})):c&&e.on("click.modal",b(function(){c.attention()})),e},backdrop:function(b,c){var e=b.$element.hasClass("fade")?"fade":"",f=b.options.backdrop&&this.backdropCount<this.options.backdropLimit;if(b.isShown&&f){var g=a.support.transition&&e&&!this.$backdropHandle;b.$backdrop=this.createBackdrop(e,b.options.backdropTemplate),b.$backdrop.css("z-index",d("backdrop",this.getOpenModals().length)),g&&b.$backdrop[0].offsetWidth,b.$backdrop.addClass("in"),this.backdropCount+=1,g?b.$backdrop.one(a.support.transition.end,c):c()}else if(!b.isShown&&b.$backdrop){b.$backdrop.removeClass("in"),this.backdropCount-=1;var h=this;a.support.transition&&b.$element.hasClass("fade")?b.$backdrop.one(a.support.transition.end,function(){h.removeBackdrop(b)}):h.removeBackdrop(b)}else c&&c()},removeSpinner:function(){this.$spinner&&this.$spinner.remove(),this.$spinner=null,this.isLoading=!1},removeLoading:function(){this.$backdropHandle&&this.$backdropHandle.remove(),this.$backdropHandle=null,this.removeSpinner()},loading:function(b){if(b=b||function(){},this.$element.toggleClass("modal-open",!this.isLoading||this.hasOpenModal()).toggleClass("page-overflow",a(window).height()<this.$element.height()),this.isLoading)if(this.isLoading&&this.$backdropHandle){this.$backdropHandle.removeClass("in");var c=this;a.support.transition?this.$backdropHandle.one(a.support.transition.end,function(){c.removeLoading()}):c.removeLoading()}else b&&b(this.isLoading);else{this.$backdropHandle=this.createBackdrop("fade",this.options.backdropTemplate),this.$backdropHandle[0].offsetWidth;var e=this.getOpenModals();this.$backdropHandle.css("z-index",d("backdrop",e.length+1)).addClass("in");var f=a(this.options.spinner).css("z-index",d("modal",e.length+1)).appendTo(this.$element).addClass("in");this.$spinner=a(this.createContainer()).append(f).on("click.modalmanager",a.proxy(this.loading,this)),this.isLoading=!0,a.support.transition?this.$backdropHandle.one(a.support.transition.end,b):b()}}};var d=function(){var b,c={};return function(d,e){if("undefined"==typeof b){var f=a('<div class="modal hide" />').appendTo("body"),g=a('<div class="modal-backdrop hide" />').appendTo("body");c.modal=+f.css("z-index"),c.backdrop=+g.css("z-index"),b=c.modal-c.backdrop,f.remove(),g.remove(),g=f=null}return c[d]+b*e}}();a.fn.modalmanager=function(b,d){return this.each(function(){var e=a(this),f=e.data("modalmanager");f||e.data("modalmanager",f=new c(this,b)),"string"==typeof b&&f[b].apply(f,[].concat(d))})},a.fn.modalmanager.defaults={backdropLimit:999,resize:!0,spinner:'<div class="loading-spinner fade" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>',backdropTemplate:'<div class="modal-backdrop" />'},a.fn.modalmanager.Constructor=c}(jQuery),function(a){function b(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function d(a,b){function c(){lb.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}var d=!0;return j(function(){return d&&(c(),d=!1),b.apply(this,arguments)},b)}function e(a,b){return function(c){return m(a.call(this,c),b)}}function f(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function g(){}function h(a){z(a),j(this,a)}function i(a){var b=s(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._bubble()}function j(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function k(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&zb.hasOwnProperty(b)&&(c[b]=a[b]);return c}function l(a){return 0>a?Math.ceil(a):Math.floor(a)}function m(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function n(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&gb(a,"Date",fb(a,"Date")+f*c),g&&eb(a,fb(a,"Month")+g*c),d&&lb.updateOffset(a,f||g)}function o(a){return"[object Array]"===Object.prototype.toString.call(a)}function p(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function q(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&u(a[d])!==u(b[d]))&&g++;return g+f}function r(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=ac[a]||bc[b]||b}return a}function s(a){var b,c,d={};for(c in a)a.hasOwnProperty(c)&&(b=r(c),b&&(d[b]=a[c]));return d}function t(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}lb[b]=function(e,f){var g,h,i=lb.fn._lang[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=lb().utc().set(d,a);return i.call(lb.fn._lang,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function u(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function v(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function w(a,b,c){return ab(lb([a,11,31+b-c]),b,c).week}function x(a){return y(a)?366:365}function y(a){return a%4===0&&a%100!==0||a%400===0}function z(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[sb]<0||a._a[sb]>11?sb:a._a[tb]<1||a._a[tb]>v(a._a[rb],a._a[sb])?tb:a._a[ub]<0||a._a[ub]>23?ub:a._a[vb]<0||a._a[vb]>59?vb:a._a[wb]<0||a._a[wb]>59?wb:a._a[xb]<0||a._a[xb]>999?xb:-1,a._pf._overflowDayOfYear&&(rb>b||b>tb)&&(b=tb),a._pf.overflow=b)}function A(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function B(a){return a?a.toLowerCase().replace("_","-"):a}function C(a,b){return b._isUTC?lb(a).zone(b._offset||0):lb(a).local()}function D(a,b){return b.abbr=a,yb[a]||(yb[a]=new g),yb[a].set(b),yb[a]}function E(a){delete yb[a]}function F(a){var b,c,d,e,f=0,g=function(a){if(!yb[a]&&Ab)try{require("./lang/"+a)}catch(b){}return yb[a]};if(!a)return lb.fn._lang;if(!o(a)){if(c=g(a))return c;a=[a]}for(;f<a.length;){for(e=B(a[f]).split("-"),b=e.length,d=B(a[f+1]),d=d?d.split("-"):null;b>0;){if(c=g(e.slice(0,b).join("-")))return c;if(d&&d.length>=b&&q(e,d,!0)>=b-1)break;b--}f++}return lb.fn._lang}function G(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function H(a){var b,c,d=a.match(Eb);for(b=0,c=d.length;c>b;b++)d[b]=fc[d[b]]?fc[d[b]]:G(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function I(a,b){return a.isValid()?(b=J(b,a.lang()),cc[b]||(cc[b]=H(b)),cc[b](a)):a.lang().invalidDate()}function J(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Fb.lastIndex=0;d>=0&&Fb.test(a);)a=a.replace(Fb,c),Fb.lastIndex=0,d-=1;return a}function K(a,b){var c,d=b._strict;switch(a){case"Q":return Qb;case"DDDD":return Sb;case"YYYY":case"GGGG":case"gggg":return d?Tb:Ib;case"Y":case"G":case"g":return Vb;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?Ub:Jb;case"S":if(d)return Qb;case"SS":if(d)return Rb;case"SSS":if(d)return Sb;case"DDD":return Hb;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Lb;case"a":case"A":return F(b._l)._meridiemParse;case"X":return Ob;case"Z":case"ZZ":return Mb;case"T":return Nb;case"SSSS":return Kb;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?Rb:Gb;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Gb;case"Do":return Pb;default:return c=new RegExp(T(S(a.replace("\\","")),"i"))}}function L(a){a=a||"";var b=a.match(Mb)||[],c=b[b.length-1]||[],d=(c+"").match($b)||["-",0,0],e=+(60*d[1])+u(d[2]);return"+"===d[0]?-e:e}function M(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[sb]=3*(u(b)-1));break;case"M":case"MM":null!=b&&(e[sb]=u(b)-1);break;case"MMM":case"MMMM":d=F(c._l).monthsParse(b),null!=d?e[sb]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[tb]=u(b));break;case"Do":null!=b&&(e[tb]=u(parseInt(b,10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=u(b));break;case"YY":e[rb]=lb.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[rb]=u(b);break;case"a":case"A":c._isPm=F(c._l).isPM(b);break;case"H":case"HH":case"h":case"hh":e[ub]=u(b);break;case"m":case"mm":e[vb]=u(b);break;case"s":case"ss":e[wb]=u(b);break;case"S":case"SS":case"SSS":case"SSSS":e[xb]=u(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=L(b);break;case"dd":case"ddd":case"dddd":d=F(c._l).weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":a=a.substr(0,1);case"gggg":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=u(b));break;case"gg":case"GG":c._w=c._w||{},c._w[a]=lb.parseTwoDigitYear(b)}}function N(a){var c,d,e,f,g,h,i,j;c=a._w,null!=c.GG||null!=c.W||null!=c.E?(g=1,h=4,d=b(c.GG,a._a[rb],ab(lb(),1,4).year),e=b(c.W,1),f=b(c.E,1)):(j=F(a._l),g=j._week.dow,h=j._week.doy,d=b(c.gg,a._a[rb],ab(lb(),g,h).year),e=b(c.w,1),null!=c.d?(f=c.d,g>f&&++e):f=null!=c.e?c.e+g:g),i=bb(d,e,f,h,g),a._a[rb]=i.year,a._dayOfYear=i.dayOfYear}function O(a){var c,d,e,f,g=[];if(!a._d){for(e=Q(a),a._w&&null==a._a[tb]&&null==a._a[sb]&&N(a),a._dayOfYear&&(f=b(a._a[rb],e[rb]),a._dayOfYear>x(f)&&(a._pf._overflowDayOfYear=!0),d=Y(f,0,a._dayOfYear),a._a[sb]=d.getUTCMonth(),a._a[tb]=d.getUTCDate()),c=0;3>c&&null==a._a[c];++c)a._a[c]=g[c]=e[c];for(;7>c;c++)a._a[c]=g[c]=null==a._a[c]?2===c?1:0:a._a[c];g[ub]+=u((a._tzm||0)/60),g[vb]+=u((a._tzm||0)%60),a._d=(a._useUTC?Y:X).apply(null,g)}}function P(a){var b;a._d||(b=s(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],O(a))}function Q(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function R(a){a._a=[],a._pf.empty=!0;var b,c,d,e,f,g=F(a._l),h=""+a._i,i=h.length,j=0;for(d=J(a._f,g).match(Eb)||[],b=0;b<d.length;b++)e=d[b],c=(h.match(K(e,a))||[])[0],c&&(f=h.substr(0,h.indexOf(c)),f.length>0&&a._pf.unusedInput.push(f),h=h.slice(h.indexOf(c)+c.length),j+=c.length),fc[e]?(c?a._pf.empty=!1:a._pf.unusedTokens.push(e),M(e,c,a)):a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=i-j,h.length>0&&a._pf.unusedInput.push(h),a._isPm&&a._a[ub]<12&&(a._a[ub]+=12),a._isPm===!1&&12===a._a[ub]&&(a._a[ub]=0),O(a),z(a)}function S(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function T(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function U(a){var b,d,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(f=0;f<a._f.length;f++)g=0,b=j({},a),b._pf=c(),b._f=a._f[f],R(b),A(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==e||e>g)&&(e=g,d=b));j(a,d||b)}function V(a){var b,c,d=a._i,e=Wb.exec(d);if(e){for(a._pf.iso=!0,b=0,c=Yb.length;c>b;b++)if(Yb[b][1].exec(d)){a._f=Yb[b][0]+(e[6]||" ");break}for(b=0,c=Zb.length;c>b;b++)if(Zb[b][1].exec(d)){a._f+=Zb[b][0];break}d.match(Mb)&&(a._f+="Z"),R(a)}else lb.createFromInputFallback(a)}function W(b){var c=b._i,d=Bb.exec(c);c===a?b._d=new Date:d?b._d=new Date(+d[1]):"string"==typeof c?V(b):o(c)?(b._a=c.slice(0),O(b)):p(c)?b._d=new Date(+c):"object"==typeof c?P(b):"number"==typeof c?b._d=new Date(c):lb.createFromInputFallback(b)}function X(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function Y(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function Z(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function $(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function _(a,b,c){var d=qb(Math.abs(a)/1e3),e=qb(d/60),f=qb(e/60),g=qb(f/24),h=qb(g/365),i=45>d&&["s",d]||1===e&&["m"]||45>e&&["mm",e]||1===f&&["h"]||22>f&&["hh",f]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",qb(g/30)]||1===h&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,i[4]=c,$.apply({},i)}function ab(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=lb(a).add("d",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function bb(a,b,c,d,e){var f,g,h=Y(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:x(a-1)+g}}function cb(b){var c=b._i,d=b._f;return null===c||d===a&&""===c?lb.invalid({nullInput:!0}):("string"==typeof c&&(b._i=c=F().preparse(c)),lb.isMoment(c)?(b=k(c),b._d=new Date(+c._d)):d?o(d)?U(b):R(b):W(b),new h(b))}function db(a,b){var c,d;if(1===b.length&&o(b[0])&&(b=b[0]),!b.length)return lb();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function eb(a,b){var c;return"string"==typeof b&&(b=a.lang().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),v(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function fb(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function gb(a,b,c){return"Month"===b?eb(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function hb(a,b){return function(c){return null!=c?(gb(this,a,c),lb.updateOffset(this,b),this):fb(this,a)}}function ib(a){lb.duration.fn[a]=function(){return this._data[a]}}function jb(a,b){lb.duration.fn["as"+a]=function(){return+this/b}}function kb(a){"undefined"==typeof ender&&(mb=pb.moment,pb.moment=a?d("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",lb):lb)}for(var lb,mb,nb,ob="2.6.0",pb="undefined"!=typeof global?global:this,qb=Math.round,rb=0,sb=1,tb=2,ub=3,vb=4,wb=5,xb=6,yb={},zb={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},Ab="undefined"!=typeof module&&module.exports,Bb=/^\/?Date\((\-?\d+)/i,Cb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Db=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Eb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Fb=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Gb=/\d\d?/,Hb=/\d{1,3}/,Ib=/\d{1,4}/,Jb=/[+\-]?\d{1,6}/,Kb=/\d+/,Lb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Mb=/Z|[\+\-]\d\d:?\d\d/gi,Nb=/T/i,Ob=/[\+\-]?\d+(\.\d{1,3})?/,Pb=/\d{1,2}/,Qb=/\d/,Rb=/\d\d/,Sb=/\d{3}/,Tb=/\d{4}/,Ub=/[+-]?\d{6}/,Vb=/[+-]?\d+/,Wb=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Xb="YYYY-MM-DDTHH:mm:ssZ",Yb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Zb=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],$b=/([\+\-]|\d\d)/gi,_b=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ac={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},bc={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},cc={},dc="DDD w W M D d".split(" "),ec="M D H h m s w W".split(" "),fc={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+m(Math.abs(a),6)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return m(this.weekYear(),4)},ggggg:function(){return m(this.weekYear(),5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return m(this.isoWeekYear(),4)},GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return u(this.milliseconds()/100)},SS:function(){return m(u(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},SSSS:function(){return m(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+m(u(a/60),2)+":"+m(u(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+m(u(a/60),2)+m(u(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},gc=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];dc.length;)nb=dc.pop(),fc[nb+"o"]=f(fc[nb],nb);for(;ec.length;)nb=ec.pop(),fc[nb+nb]=e(fc[nb],2);for(fc.DDDD=e(fc.DDD,3),j(g.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=lb.utc([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=lb([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)
}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return ab(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),lb=function(b,d,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=b,g._f=d,g._l=e,g._strict=f,g._isUTC=!1,g._pf=c(),cb(g)},lb.suppressDeprecationWarnings=!1,lb.createFromInputFallback=d("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i)}),lb.min=function(){var a=[].slice.call(arguments,0);return db("isBefore",a)},lb.max=function(){var a=[].slice.call(arguments,0);return db("isAfter",a)},lb.utc=function(b,d,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=b,g._f=d,g._strict=f,g._pf=c(),cb(g).utc()},lb.unix=function(a){return lb(1e3*a)},lb.duration=function(a,b){var c,d,e,f=a,g=null;return lb.isDuration(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(g=Cb.exec(a))?(c="-"===g[1]?-1:1,f={y:0,d:u(g[tb])*c,h:u(g[ub])*c,m:u(g[vb])*c,s:u(g[wb])*c,ms:u(g[xb])*c}):(g=Db.exec(a))&&(c="-"===g[1]?-1:1,e=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*c},f={y:e(g[2]),M:e(g[3]),d:e(g[4]),h:e(g[5]),m:e(g[6]),s:e(g[7]),w:e(g[8])}),d=new i(f),lb.isDuration(a)&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d},lb.version=ob,lb.defaultFormat=Xb,lb.momentProperties=zb,lb.updateOffset=function(){},lb.lang=function(a,b){var c;return a?(b?D(B(a),b):null===b?(E(a),a="en"):yb[a]||F(a),c=lb.duration.fn._lang=lb.fn._lang=F(a),c._abbr):lb.fn._lang._abbr},lb.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),F(a)},lb.isMoment=function(a){return a instanceof h||null!=a&&a.hasOwnProperty("_isAMomentObject")},lb.isDuration=function(a){return a instanceof i},nb=gc.length-1;nb>=0;--nb)t(gc[nb]);lb.normalizeUnits=function(a){return r(a)},lb.invalid=function(a){var b=lb.utc(0/0);return null!=a?j(b._pf,a):b._pf.userInvalidated=!0,b},lb.parseZone=function(){return lb.apply(null,arguments).parseZone()},lb.parseTwoDigitYear=function(a){return u(a)+(u(a)>68?1900:2e3)},j(lb.fn=h.prototype,{clone:function(){return lb(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=lb(this).utc();return 0<a.year()&&a.year()<=9999?I(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):I(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return A(this)},isDSTShifted:function(){return this._a?this.isValid()&&q(this._a,(this._isUTC?lb.utc(this._a):lb(this._a)).toArray())>0:!1},parsingFlags:function(){return j({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=I(this,a||lb.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c="string"==typeof a?lb.duration(+b,a):lb.duration(a,b),n(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?lb.duration(+b,a):lb.duration(a,b),n(this,c,-1),this},diff:function(a,b,c){var d,e,f=C(a,this),g=6e4*(this.zone()-f.zone());return b=r(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-lb(this).startOf("month")-(f-lb(f).startOf("month")))/d,e-=6e4*(this.zone()-lb(this).startOf("month").zone()-(f.zone()-lb(f).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:l(e)},from:function(a,b){return lb.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(lb(),a)},calendar:function(){var a=C(lb(),this).startOf("day"),b=this.diff(a,"days",!0),c=-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse";return this.format(this.lang().calendar(c,this))},isLeapYear:function(){return y(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Z(a,this.lang()),this.add({d:a-b})):b},month:hb("Month",!0),startOf:function(a){switch(a=r(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(a){return a=r(a),this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+lb(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+lb(a).startOf(b)},isSame:function(a,b){return b=b||"ms",+this.clone().startOf(b)===+C(a,this).startOf(b)},min:d("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=lb.apply(null,arguments),this>a?this:a}),max:d("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return a=lb.apply(null,arguments),a>this?this:a}),zone:function(a,b){var c=this._offset||0;return null==a?this._isUTC?c:this._d.getTimezoneOffset():("string"==typeof a&&(a=L(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,c!==a&&(!b||this._changeInProgress?n(this,lb.duration(c-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,lb.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?lb(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return v(this.year(),this.month())},dayOfYear:function(a){var b=qb((lb(this).startOf("day")-lb(this).startOf("year"))/864e5)+1;return null==a?b:this.add("d",a-b)},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=ab(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=ab(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=ab(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return w(this.year(),1,4)},weeksInYear:function(){var a=this._lang._week;return w(this.year(),a.dow,a.doy)},get:function(a){return a=r(a),this[a]()},set:function(a,b){return a=r(a),"function"==typeof this[a]&&this[a](b),this},lang:function(b){return b===a?this._lang:(this._lang=F(b),this)}}),lb.fn.millisecond=lb.fn.milliseconds=hb("Milliseconds",!1),lb.fn.second=lb.fn.seconds=hb("Seconds",!1),lb.fn.minute=lb.fn.minutes=hb("Minutes",!1),lb.fn.hour=lb.fn.hours=hb("Hours",!0),lb.fn.date=hb("Date",!0),lb.fn.dates=d("dates accessor is deprecated. Use date instead.",hb("Date",!0)),lb.fn.year=hb("FullYear",!0),lb.fn.years=d("years accessor is deprecated. Use year instead.",hb("FullYear",!0)),lb.fn.days=lb.fn.day,lb.fn.months=lb.fn.month,lb.fn.weeks=lb.fn.week,lb.fn.isoWeeks=lb.fn.isoWeek,lb.fn.quarters=lb.fn.quarter,lb.fn.toJSON=lb.fn.toISOString,j(lb.duration.fn=i.prototype,{_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,h=this._data;h.milliseconds=e%1e3,a=l(e/1e3),h.seconds=a%60,b=l(a/60),h.minutes=b%60,c=l(b/60),h.hours=c%24,f+=l(c/24),h.days=f%30,g+=l(f/30),h.months=g%12,d=l(g/12),h.years=d},weeks:function(){return l(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*u(this._months/12)},humanize:function(a){var b=+this,c=_(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=lb.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=lb.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=r(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=r(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:lb.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}});for(nb in _b)_b.hasOwnProperty(nb)&&(jb(nb,_b[nb]),ib(nb.toLowerCase()));jb("Weeks",6048e5),lb.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},lb.lang("en",{ordinal:function(a){var b=a%10,c=1===u(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),Ab?module.exports=lb:"function"==typeof define&&define.amd?(define("moment",function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(pb.moment=mb),lb}),kb(!0)):kb()}.call(this),function(a){"function"==typeof define&&define.amd?define(["moment"],a):"object"==typeof exports?module.exports=a(require("../moment")):a(window.moment)}(function(a){function b(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function c(a,c,d){var e={mm:c?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===d?c?"минута":"минуту":a+" "+b(e[d],+a)}function d(a,b){var c={nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function e(a,b){var c={nominative:"янв_фев_мар_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),accusative:"янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function f(a,b){var c={nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")},d=/\[ ?[Вв] ?(?:прошлую|следующую)? ?\] ?dddd/.test(b)?"accusative":"nominative";return c[d][a.day()]}return a.lang("ru",{months:d,monthsShort:e,weekdays:f,weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(){switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:c,mm:c,h:"час",hh:c,d:"день",dd:c,M:"месяц",MM:c,y:"год",yy:c},meridiem:function(a){return 4>a?"ночи":12>a?"утра":17>a?"дня":"вечера"},ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":return a+"-й";case"D":return a+"-го";case"w":case"W":return a+"-я";default:return a}},week:{dow:1,doy:7}})}),!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(){var a={attr:function(a,b,c){var d,e={},f=this.msieversion(),g=new RegExp("^"+b,"i");if("undefined"==typeof a||"undefined"==typeof a[0])return{};for(var h in a[0].attributes)if(d=a[0].attributes[h],"undefined"!=typeof d&&null!==d&&(!f||f>=8||d.specified)&&g.test(d.name)){if("undefined"!=typeof c&&new RegExp(c+"$","i").test(d.name))return!0;e[this.camelize(d.name.replace(b,""))]=this.deserializeValue(d.value)}return"undefined"==typeof c?e:!1},setAttr:function(a,b,c,d){a[0].setAttribute(this.dasherize(b+c),String(d))},get:function(a,b){for(var c=0,d=(b||"").split(".");this.isObject(a)||this.isArray(a);)if(a=a[d[c++]],c===d.length)return a;return void 0},hash:function(a){return String(Math.random()).substring(2,a?a+2:9)},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isObject:function(a){return a===Object(a)},deserializeValue:function(a){var b;try{return a?"true"==a||("false"==a?!1:"null"==a?null:isNaN(b=Number(a))?/^[\[\{]/.test(a)?$.parseJSON(a):a:b):a}catch(c){return a}},camelize:function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},dasherize:function(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},msieversion:function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");return b>0||navigator.userAgent.match(/Trident.*rv\:11\./)?parseInt(a.substring(b+5,a.indexOf(".",b)),10):0}},b={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(){},errorsContainer:function(){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},c=function(){};c.prototype={asyncSupport:!1,actualizeOptions:function(){return this.options=this.OptionsFactory.get(this),this},validateThroughValidator:function(a,b,c){return window.ParsleyValidator.validate.apply(window.ParsleyValidator,[a,b,c])},subscribe:function(a,b){return $.listenTo(this,a.toLowerCase(),b),this},unsubscribe:function(a){return $.unsubscribeTo(this,a.toLowerCase()),this},reset:function(){if("ParsleyForm"!==this.__class__)return $.emit("parsley:field:reset",this);for(var a=0;a<this.fields.length;a++)$.emit("parsley:field:reset",this.fields[a]);$.emit("parsley:form:reset",this)},destroy:function(){if("ParsleyForm"!==this.__class__)return this.$element.removeData("Parsley"),this.$element.removeData("ParsleyFieldMultiple"),void $.emit("parsley:field:destroy",this);for(var a=0;a<this.fields.length;a++)this.fields[a].destroy();this.$element.removeData("Parsley"),$.emit("parsley:form:destroy",this)}},function(a){var b=function(a){return this.__class__="Validator",this.__version__="0.5.8",this.options=a||{},this.bindingKey=this.options.bindingKey||"_validatorjsConstraint",this};b.prototype={constructor:b,validate:function(a,b,c){if("string"!=typeof a&&"object"!=typeof a)throw new Error("You must validate an object or a string");return"string"==typeof a||g(a)?this._validateString(a,b,c):this.isBinded(a)?this._validateBindedObject(a,b):this._validateObject(a,b,c)},bind:function(a,b){if("object"!=typeof a)throw new Error("Must bind a Constraint to an object");return a[this.bindingKey]=new c(b),this},unbind:function(a){return"undefined"==typeof a._validatorjsConstraint?this:(delete a[this.bindingKey],this)},isBinded:function(a){return"undefined"!=typeof a[this.bindingKey]},getBinded:function(a){return this.isBinded(a)?a[this.bindingKey]:null},_validateString:function(a,b,c){var f,h=[];g(b)||(b=[b]);for(var i=0;i<b.length;i++){if(!(b[i]instanceof e))throw new Error("You must give an Assert or an Asserts array to validate a string");f=b[i].check(a,c),f instanceof d&&h.push(f)}return h.length?h:!0},_validateObject:function(a,b,d){if("object"!=typeof b)throw new Error("You must give a constraint to validate an object");return b instanceof c?b.check(a,d):new c(b).check(a,d)},_validateBindedObject:function(a,b){return a[this.bindingKey].check(a,b)}},b.errorCode={must_be_a_string:"must_be_a_string",must_be_an_array:"must_be_an_array",must_be_a_number:"must_be_a_number",must_be_a_string_or_array:"must_be_a_string_or_array"};var c=function(a,b){if(this.__class__="Constraint",this.options=b||{},this.nodes={},a)try{this._bootstrap(a)}catch(c){throw new Error("Should give a valid mapping object to Constraint",c,a)}return this};c.prototype={constructor:c,check:function(a,b){var c,d={};for(var h in this.options.strict?this.nodes:a)if(this.options.strict?this.has(h,a):this.has(h))c=this._check(h,a[h],b),(g(c)&&c.length>0||!g(c)&&!f(c))&&(d[h]=c);else if(this.options.strict)try{(new e).HaveProperty(h).validate(a)}catch(i){d[h]=i}return f(d)?!0:d},add:function(a,b){if(b instanceof e||g(b)&&b[0]instanceof e)return this.nodes[a]=b,this;if("object"==typeof b&&!g(b))return this.nodes[a]=b instanceof c?b:new c(b),this;throw new Error("Should give an Assert, an Asserts array, a Constraint",b)},has:function(a,b){return b="undefined"!=typeof b?b:this.nodes,"undefined"!=typeof b[a]},get:function(a,b){return this.has(a)?this.nodes[a]:b||null},remove:function(a){var b=[];for(var c in this.nodes)c!==a&&(b[c]=this.nodes[c]);return this.nodes=b,this},_bootstrap:function(a){if(a instanceof c)return this.nodes=a.nodes;for(var b in a)this.add(b,a[b])},_check:function(a,b,d){if(this.nodes[a]instanceof e)return this._checkAsserts(b,[this.nodes[a]],d);if(g(this.nodes[a]))return this._checkAsserts(b,this.nodes[a],d);if(this.nodes[a]instanceof c)return this.nodes[a].check(b,d);throw new Error("Invalid node",this.nodes[a])},_checkAsserts:function(a,b,c){for(var d,e=[],f=0;f<b.length;f++)d=b[f].check(a,c),"undefined"!=typeof d&&!0!==d&&e.push(d);return e}};var d=function(a,b,c){if(this.__class__="Violation",!(a instanceof e))throw new Error("Should give an assertion implementing the Assert interface");this.assert=a,this.value=b,"undefined"!=typeof c&&(this.violation=c)};d.prototype={show:function(){var a={assert:this.assert.__class__,value:this.value};return this.violation&&(a.violation=this.violation),a},__toString:function(){return"undefined"!=typeof this.violation&&(this.violation='", '+this.getViolation().constraint+" expected was "+this.getViolation().expected),this.assert.__class__+' assert failed for "'+this.value+this.violation||""},getViolation:function(){var a,b;for(a in this.violation)b=this.violation[a];return{constraint:a,expected:b}}};var e=function(a){return this.__class__="Assert",this.__parentClass__=this.__class__,this.groups=[],"undefined"!=typeof a&&this.addGroup(a),this};e.prototype={construct:e,check:function(a,b){if(!(b&&!this.hasGroup(b)||!b&&this.hasGroups()))try{return this.validate(a,b)}catch(c){return c}},hasGroup:function(a){return g(a)?this.hasOneOf(a):"Any"===a?!0:this.hasGroups()?-1!==this.groups.indexOf(a):"Default"===a},hasOneOf:function(a){for(var b=0;b<a.length;b++)if(this.hasGroup(a[b]))return!0;return!1},hasGroups:function(){return this.groups.length>0},addGroup:function(a){return g(a)?this.addGroups(a):(this.hasGroup(a)||this.groups.push(a),this)},removeGroup:function(a){for(var b=[],c=0;c<this.groups.length;c++)a!==this.groups[c]&&b.push(this.groups[c]);return this.groups=b,this},addGroups:function(a){for(var b=0;b<a.length;b++)this.addGroup(a[b]);return this},HaveProperty:function(a){return this.__class__="HaveProperty",this.node=a,this.validate=function(a){if("undefined"==typeof a[this.node])throw new d(this,a,{value:this.node});return!0},this},Blank:function(){return this.__class__="Blank",this.validate=function(a){if("string"!=typeof a)throw new d(this,a,{value:b.errorCode.must_be_a_string});if(""!==a.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new d(this,a);return!0},this},Callback:function(a){if(this.__class__="Callback",this.arguments=Array.prototype.slice.call(arguments),1===this.arguments.length?this.arguments=[]:this.arguments.splice(0,1),"function"!=typeof a)throw new Error("Callback must be instanciated with a function");return this.fn=a,this.validate=function(a){var b=this.fn.apply(this,[a].concat(this.arguments));if(!0!==b)throw new d(this,a,{result:b});return!0},this},Choice:function(a){if(this.__class__="Choice",!g(a)&&"function"!=typeof a)throw new Error("Choice must be instanciated with an array or a function");return this.list=a,this.validate=function(a){for(var b="function"==typeof this.list?this.list():this.list,c=0;c<b.length;c++)if(a===b[c])return!0;throw new d(this,a,{choices:b})},this},Collection:function(a){return this.__class__="Collection",this.constraint="undefined"!=typeof a?new c(a):!1,this.validate=function(a,c){var e,h=new b,i=0,j={},k=this.groups.length?this.groups:c;if(!g(a))throw new d(this,array,{value:b.errorCode.must_be_an_array});for(var l=0;l<a.length;l++)e=this.constraint?h.validate(a[l],this.constraint,k):h.validate(a[l],k),f(e)||(j[i]=e),i++;return f(j)?!0:j},this},Count:function(a){return this.__class__="Count",this.count=a,this.validate=function(a){if(!g(a))throw new d(this,a,{value:b.errorCode.must_be_an_array});var c="function"==typeof this.count?this.count(a):this.count;if(isNaN(Number(c)))throw new Error("Count must be a valid interger",c);if(c!==a.length)throw new d(this,a,{count:c});return!0},this},Email:function(){return this.__class__="Email",this.validate=function(a){var c=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;if("string"!=typeof a)throw new d(this,a,{value:b.errorCode.must_be_a_string});if(!c.test(a))throw new d(this,a);return!0},this},Eql:function(a){if(this.__class__="Eql","undefined"==typeof a)throw new Error("Equal must be instanciated with an Array or an Object");return this.eql=a,this.validate=function(a){var b="function"==typeof this.eql?this.eql(a):this.eql;if(!h.eql(b,a))throw new d(this,a,{eql:b});return!0},this},EqualTo:function(a){if(this.__class__="EqualTo","undefined"==typeof a)throw new Error("EqualTo must be instanciated with a value or a function");return this.reference=a,this.validate=function(a){var b="function"==typeof this.reference?this.reference(a):this.reference;if(b!==a)throw new d(this,a,{value:b});return!0},this},GreaterThan:function(a){if(this.__class__="GreaterThan","undefined"==typeof a)throw new Error("Should give a threshold value");return this.threshold=a,this.validate=function(a){if(""===a||isNaN(Number(a)))throw new d(this,a,{value:b.errorCode.must_be_a_number});if(this.threshold>=a)throw new d(this,a,{threshold:this.threshold});return!0},this},GreaterThanOrEqual:function(a){if(this.__class__="GreaterThanOrEqual","undefined"==typeof a)throw new Error("Should give a threshold value");return this.threshold=a,this.validate=function(a){if(""===a||isNaN(Number(a)))throw new d(this,a,{value:b.errorCode.must_be_a_number});if(this.threshold>a)throw new d(this,a,{threshold:this.threshold});return!0},this},InstanceOf:function(a){if(this.__class__="InstanceOf","undefined"==typeof a)throw new Error("InstanceOf must be instanciated with a value");return this.classRef=a,this.validate=function(a){if(!0!=a instanceof this.classRef)throw new d(this,a,{classRef:this.classRef});return!0},this},IPv4:function(){return this.__class__="IPv4",this.validate=function(a){var c=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;if("string"!=typeof a)throw new d(this,a,{value:b.errorCode.must_be_a_string});if(!c.test(a))throw new d(this,a);return!0},this},Length:function(a){if(this.__class__="Length",!a.min&&!a.max)throw new Error("Lenth assert must be instanciated with a { min: x, max: y } object");return this.min=a.min,this.max=a.max,this.validate=function(a){if("string"!=typeof a&&!g(a))throw new d(this,a,{value:b.errorCode.must_be_a_string_or_array});if("undefined"!=typeof this.min&&this.min===this.max&&a.length!==this.min)throw new d(this,a,{min:this.min,max:this.max});if("undefined"!=typeof this.max&&a.length>this.max)throw new d(this,a,{max:this.max});if("undefined"!=typeof this.min&&a.length<this.min)throw new d(this,a,{min:this.min});return!0},this},LessThan:function(a){if(this.__class__="LessThan","undefined"==typeof a)throw new Error("Should give a threshold value");return this.threshold=a,this.validate=function(a){if(""===a||isNaN(Number(a)))throw new d(this,a,{value:b.errorCode.must_be_a_number});if(this.threshold<=a)throw new d(this,a,{threshold:this.threshold});return!0},this},LessThanOrEqual:function(a){if(this.__class__="LessThanOrEqual","undefined"==typeof a)throw new Error("Should give a threshold value");return this.threshold=a,this.validate=function(a){if(""===a||isNaN(Number(a)))throw new d(this,a,{value:b.errorCode.must_be_a_number});if(this.threshold<a)throw new d(this,a,{threshold:this.threshold});return!0},this},Mac:function(){return this.__class__="Mac",this.validate=function(a){var c=/^(?:[0-9A-F]{2}:){5}[0-9A-F]{2}$/i;if("string"!=typeof a)throw new d(this,a,{value:b.errorCode.must_be_a_string});if(!c.test(a))throw new d(this,a);return!0},this},NotNull:function(){return this.__class__="NotNull",this.validate=function(a){if(null===a||"undefined"==typeof a)throw new d(this,a);return!0},this},NotBlank:function(){return this.__class__="NotBlank",this.validate=function(a){if("string"!=typeof a)throw new d(this,a,{value:b.errorCode.must_be_a_string});if(""===a.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new d(this,a);return!0},this},Null:function(){return this.__class__="Null",this.validate=function(a){if(null!==a)throw new d(this,a);return!0},this},Range:function(a,b){if(this.__class__="Range","undefined"==typeof a||"undefined"==typeof b)throw new Error("Range assert expects min and max values");return this.min=a,this.max=b,this.validate=function(a){try{return"string"==typeof a&&isNaN(Number(a))||g(a)?(new e).Length({min:this.min,max:this.max}).validate(a):(new e).GreaterThanOrEqual(this.min).validate(a)&&(new e).LessThanOrEqual(this.max).validate(a),!0}catch(b){throw new d(this,a,b.violation)}return!0},this},Regexp:function(a,c){if(this.__class__="Regexp","undefined"==typeof a)throw new Error("You must give a regexp");return this.regexp=a,this.flag=c||"",this.validate=function(a){if("string"!=typeof a)throw new d(this,a,{value:b.errorCode.must_be_a_string});if(!new RegExp(this.regexp,this.flag).test(a))throw new d(this,a,{regexp:this.regexp,flag:this.flag});return!0},this},Required:function(){return this.__class__="Required",this.validate=function(a){if("undefined"==typeof a)throw new d(this,a);try{"string"==typeof a?(new e).NotNull().validate(a)&&(new e).NotBlank().validate(a):!0===g(a)&&(new e).Length({min:1}).validate(a)}catch(b){throw new d(this,a)}return!0},this},Unique:function(a){return this.__class__="Unique","object"==typeof a&&(this.key=a.key),this.validate=function(a){var c,e=[];if(!g(a))throw new d(this,a,{value:b.errorCode.must_be_an_array});for(var f=0;f<a.length;f++)if(c="object"==typeof a[f]?a[f][this.key]:a[f],"undefined"!=typeof c){if(-1!==e.indexOf(c))throw new d(this,a,{value:c});e.push(c)}return!0},this}},a.Assert=e,a.Validator=b,a.Violation=d,a.Constraint=c,Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>1&&(d=Number(arguments[1]),d!=d?d=0:0!==d&&1/0!=d&&d!=-1/0&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1});var f=function(a){for(var b in a)return!1;return!0},g=function(a){return"[object Array]"===Object.prototype.toString.call(a)},h={eql:function(a,b){if(a===b)return!0;if("undefined"!=typeof Buffer&&Buffer.isBuffer(a)&&Buffer.isBuffer(b)){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}return a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():"object"!=typeof a&&"object"!=typeof b?a==b:this.objEquiv(a,b)},isUndefinedOrNull:function(a){return null===a||"undefined"==typeof a},isArguments:function(a){return"[object Arguments]"==Object.prototype.toString.call(a)},keys:function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},objEquiv:function(a,b){if(this.isUndefinedOrNull(a)||this.isUndefinedOrNull(b))return!1;if(a.prototype!==b.prototype)return!1;if(this.isArguments(a))return this.isArguments(b)?eql(pSlice.call(a),pSlice.call(b)):!1;try{var c,d,e=this.keys(a),f=this.keys(b);if(e.length!==f.length)return!1;for(e.sort(),f.sort(),d=e.length-1;d>=0;d--)if(e[d]!=f[d])return!1;for(d=e.length-1;d>=0;d--)if(c=e[d],!this.eql(a[c],b[c]))return!1;return!0}catch(g){return!1}}};"function"==typeof define&&define.amd&&define("validator",[],function(){return a})}("undefined"==typeof exports?this["undefined"!=typeof validatorjs_ns?validatorjs_ns:"Validator"]={}:exports);var d=function(a,b){this.__class__="ParsleyValidator",this.Validator=Validator,this.locale="en",this.init(a||{},b||{})};d.prototype={init:function(a,b){this.catalog=b;for(var c in a)this.addValidator(c,a[c].fn,a[c].priority,a[c].requirementsTransformer);$.emit("parsley:validator:init")},setLocale:function(a){if("undefined"==typeof this.catalog[a])throw new Error(a+" is not available in the catalog");return this.locale=a,this},addCatalog:function(a,b,c){return"object"==typeof b&&(this.catalog[a]=b),!0===c?this.setLocale(a):this
},addMessage:function(a,b,c){return void 0===typeof this.catalog[a]&&(this.catalog[a]={}),this.catalog[a][b.toLowerCase()]=c,this},validate:function(){return(new this.Validator.Validator).validate.apply(new Validator.Validator,arguments)},addValidator:function(a,b,c,d){return this.validators[a.toLowerCase()]=function(a){return $.extend((new Validator.Assert).Callback(b,a),{priority:c,requirementsTransformer:d})},this},updateValidator:function(a,b,c,d){return this.addValidator(a,b,c,d)},removeValidator:function(a){return delete this.validators[a],this},getErrorMessage:function(a){var b;return b="type"===a.name?this.catalog[this.locale][a.name][a.requirements]:this.formatMessage(this.catalog[this.locale][a.name],a.requirements),""!==b?b:this.catalog[this.locale].defaultMessage},formatMessage:function(a,b){if("object"==typeof b){for(var c in b)a=this.formatMessage(a,b[c]);return a}return"string"==typeof a?a.replace(new RegExp("%s","i"),b):""},validators:{notblank:function(){return $.extend((new Validator.Assert).NotBlank(),{priority:2})},required:function(){return $.extend((new Validator.Assert).Required(),{priority:512})},type:function(a){var b;switch(a){case"email":b=(new Validator.Assert).Email();break;case"range":case"number":b=(new Validator.Assert).Regexp("^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$");break;case"integer":b=(new Validator.Assert).Regexp("^-?\\d+$");break;case"digits":b=(new Validator.Assert).Regexp("^\\d+$");break;case"alphanum":b=(new Validator.Assert).Regexp("^\\w+$","i");break;case"url":b=(new Validator.Assert).Regexp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");break;default:throw new Error("validator type `"+a+"` is not supported")}return $.extend(b,{priority:256})},pattern:function(a){var b="";return/^\/.*\/(?:[gimy]*)$/.test(a)&&(b=a.replace(/.*\/([gimy]*)$/,"$1"),a=a.replace(new RegExp("^/(.*?)/"+b+"$"),"$1")),$.extend((new Validator.Assert).Regexp(a,b),{priority:64})},minlength:function(a){return $.extend((new Validator.Assert).Length({min:a}),{priority:30,requirementsTransformer:function(){return"string"!=typeof a||isNaN(a)?a:parseInt(a,10)}})},maxlength:function(a){return $.extend((new Validator.Assert).Length({max:a}),{priority:30,requirementsTransformer:function(){return"string"!=typeof a||isNaN(a)?a:parseInt(a,10)}})},length:function(a){return $.extend((new Validator.Assert).Length({min:a[0],max:a[1]}),{priority:32})},mincheck:function(a){return this.minlength(a)},maxcheck:function(a){return this.maxlength(a)},check:function(a){return this.length(a)},min:function(a){return $.extend((new Validator.Assert).GreaterThanOrEqual(a),{priority:30,requirementsTransformer:function(){return"string"!=typeof a||isNaN(a)?a:parseInt(a,10)}})},max:function(a){return $.extend((new Validator.Assert).LessThanOrEqual(a),{priority:30,requirementsTransformer:function(){return"string"!=typeof a||isNaN(a)?a:parseInt(a,10)}})},range:function(a){return $.extend((new Validator.Assert).Range(a[0],a[1]),{priority:32,requirementsTransformer:function(){for(var b=0;b<a.length;b++)a[b]="string"!=typeof a[b]||isNaN(a[b])?a[b]:parseInt(a[b],10);return a}})},equalto:function(a){return $.extend((new Validator.Assert).EqualTo(a),{priority:256,requirementsTransformer:function(){return $(a).length?$(a).val():a}})}}};var e=function(){this.__class__="ParsleyUI"};e.prototype={listen:function(){return $.listen("parsley:form:init",this,this.setupForm),$.listen("parsley:field:init",this,this.setupField),$.listen("parsley:field:validated",this,this.reflow),$.listen("parsley:form:validated",this,this.focus),$.listen("parsley:field:reset",this,this.reset),$.listen("parsley:form:destroy",this,this.destroy),$.listen("parsley:field:destroy",this,this.destroy),this},reflow:function(a){if("undefined"!=typeof a._ui&&!1!==a._ui.active){var b=this._diff(a.validationResult,a._ui.lastValidationResult);a._ui.lastValidationResult=a.validationResult,a._ui.validatedOnce=!0,this.manageStatusClass(a),this.manageErrorsMessages(a,b),this.actualizeTriggers(a),(b.kept.length||b.added.length)&&"undefined"==typeof a._ui.failedOnce&&this.manageFailingFieldTrigger(a)}},getErrorsMessages:function(a){if(!0===a.validationResult)return[];for(var b=[],c=0;c<a.validationResult.length;c++)b.push(this._getErrorMessage(a,a.validationResult[c].assert));return b},manageStatusClass:function(a){!0===a.validationResult?this._successClass(a):a.validationResult.length>0?this._errorClass(a):this._resetClass(a)},manageErrorsMessages:function(a,b){if("undefined"==typeof a.options.errorsMessagesDisabled){if("undefined"!=typeof a.options.errorMessage)return b.added.length||b.kept.length?(0===a._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&a._ui.$errorsWrapper.append($(a.options.errorTemplate).addClass("parsley-custom-error-message")),a._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(a.options.errorMessage)):a._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var c=0;c<b.removed.length;c++)this.removeError(a,b.removed[c].assert.name,!0);for(c=0;c<b.added.length;c++)this.addError(a,b.added[c].assert.name,void 0,b.added[c].assert,!0);for(c=0;c<b.kept.length;c++)this.updateError(a,b.kept[c].assert.name,void 0,b.kept[c].assert,!0)}},addError:function(a,b,c,d,e){a._ui.$errorsWrapper.addClass("filled").append($(a.options.errorTemplate).addClass("parsley-"+b).html(c||this._getErrorMessage(a,d))),!0!==e&&this._errorClass(a)},updateError:function(a,b,c,d,e){a._ui.$errorsWrapper.addClass("filled").find(".parsley-"+b).html(c||this._getErrorMessage(a,d)),!0!==e&&this._errorClass(a)},removeError:function(a,b,c){a._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+b).remove(),!0!==c&&this.manageStatusClass(a)},focus:function(a){if(!0===a.validationResult||"none"===a.options.focus)return a._focusedField=null;a._focusedField=null;for(var b=0;b<a.fields.length;b++)if(!0!==a.fields[b].validationResult&&a.fields[b].validationResult.length>0&&"undefined"==typeof a.fields[b].options.noFocus){if("first"===a.options.focus)return a._focusedField=a.fields[b].$element,a._focusedField.focus();a._focusedField=a.fields[b].$element}return null===a._focusedField?null:a._focusedField.focus()},_getErrorMessage:function(a,b){var c=b.name+"Message";return"undefined"!=typeof a.options[c]?window.ParsleyValidator.formatMessage(a.options[c],b.requirements):window.ParsleyValidator.getErrorMessage(b)},_diff:function(a,b,c){for(var d=[],e=[],f=0;f<a.length;f++){for(var g=!1,h=0;h<b.length;h++)if(a[f].assert.name===b[h].assert.name){g=!0;break}g?e.push(a[f]):d.push(a[f])}return{kept:e,added:d,removed:c?[]:this._diff(b,a,!0).added}},setupForm:function(a){a.$element.on("submit.Parsley",!1,$.proxy(a.onSubmitValidate,a)),!1!==a.options.uiEnabled&&a.$element.attr("novalidate","")},setupField:function(a){var b={active:!1};!1!==a.options.uiEnabled&&(b.active=!0,a.$element.attr(a.options.namespace+"id",a.__id__),b.$errorClassHandler=this._manageClassHandler(a),b.errorsWrapperId="parsley-id-"+("undefined"!=typeof a.options.multiple?"multiple-"+a.options.multiple:a.__id__),b.$errorsWrapper=$(a.options.errorsWrapper).attr("id",b.errorsWrapperId),b.lastValidationResult=[],b.validatedOnce=!1,b.validationInformationVisible=!1,a._ui=b,this._insertErrorWrapper(a),this.actualizeTriggers(a))},_manageClassHandler:function(a){if("string"==typeof a.options.classHandler&&$(a.options.classHandler).length)return $(a.options.classHandler);var b=a.options.classHandler(a);return"undefined"!=typeof b&&b.length?b:"undefined"==typeof a.options.multiple||a.$element.is("select")?a.$element:a.$element.parent()},_insertErrorWrapper:function(a){var b;if("string"==typeof a.options.errorsContainer){if($(a.options.errorsContainer).length)return $(a.options.errorsContainer).append(a._ui.$errorsWrapper);window.console&&window.console.warn&&window.console.warn("The errors container `"+a.options.errorsContainer+"` does not exist in DOM")}else"function"==typeof a.options.errorsContainer&&(b=a.options.errorsContainer(a));return"undefined"!=typeof b&&b.length?b.append(a._ui.$errorsWrapper):"undefined"==typeof a.options.multiple?a.$element.after(a._ui.$errorsWrapper):a.$element.parent().after(a._ui.$errorsWrapper)},actualizeTriggers:function(a){var b=this;if(a.options.multiple?$("["+a.options.namespace+'multiple="'+a.options.multiple+'"]').each(function(){$(this).off(".Parsley")}):a.$element.off(".Parsley"),!1!==a.options.trigger){var c=a.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");""!==c&&(a.options.multiple?$("["+a.options.namespace+'multiple="'+a.options.multiple+'"]').each(function(){$(this).on(c.split(" ").join(".Parsley ")+".Parsley",!1,$.proxy("function"==typeof a.eventValidate?a.eventValidate:b.eventValidate,a))}):a.$element.on(c.split(" ").join(".Parsley ")+".Parsley",!1,$.proxy("function"==typeof a.eventValidate?a.eventValidate:this.eventValidate,a)))}},eventValidate:function(a){new RegExp("key").test(a.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.validate())},manageFailingFieldTrigger:function(a){return a._ui.failedOnce=!0,a.options.multiple&&$("["+a.options.namespace+'multiple="'+a.options.multiple+'"]').each(function(){return new RegExp("change","i").test($(this).parsley().options.trigger||"")?void 0:$(this).on("change.ParsleyFailedOnce",!1,$.proxy(a.validate,a))}),a.$element.is("select")&&!new RegExp("change","i").test(a.options.trigger||"")?a.$element.on("change.ParsleyFailedOnce",!1,$.proxy(a.validate,a)):new RegExp("keyup","i").test(a.options.trigger||"")?void 0:a.$element.on("keyup.ParsleyFailedOnce",!1,$.proxy(a.validate,a))},reset:function(a){a.$element.off(".Parsley"),a.$element.off(".ParsleyFailedOnce"),"undefined"!=typeof a._ui&&"ParsleyForm"!==a.__class__&&(a._ui.$errorsWrapper.children().each(function(){$(this).remove()}),this._resetClass(a),a._ui.validatedOnce=!1,a._ui.lastValidationResult=[],a._ui.validationInformationVisible=!1)},destroy:function(a){this.reset(a),"ParsleyForm"!==a.__class__&&("undefined"!=typeof a._ui&&a._ui.$errorsWrapper.remove(),delete a._ui)},_successClass:function(a){a._ui.validationInformationVisible=!0,a._ui.$errorClassHandler.removeClass(a.options.errorClass).addClass(a.options.successClass)},_errorClass:function(a){a._ui.validationInformationVisible=!0,a._ui.$errorClassHandler.removeClass(a.options.successClass).addClass(a.options.errorClass)},_resetClass:function(a){a._ui.$errorClassHandler.removeClass(a.options.successClass).removeClass(a.options.errorClass)}};var f=function(b,c,d,e){this.__class__="OptionsFactory",this.__id__=a.hash(4),this.formOptions=null,this.fieldOptions=null,this.staticOptions=$.extend(!0,{},b,c,d,{namespace:e})};f.prototype={get:function(a){if("undefined"==typeof a.__class__)throw new Error("Parsley Instance expected");switch(a.__class__){case"Parsley":return this.staticOptions;case"ParsleyForm":return this.getFormOptions(a);case"ParsleyField":case"ParsleyFieldMultiple":return this.getFieldOptions(a);default:throw new Error("Instance "+a.__class__+" is not supported")}},getFormOptions:function(b){return this.formOptions=a.attr(b.$element,this.staticOptions.namespace),$.extend({},this.staticOptions,this.formOptions)},getFieldOptions:function(b){return this.fieldOptions=a.attr(b.$element,this.staticOptions.namespace),null===this.formOptions&&"undefined"!=typeof b.parent&&(this.formOptions=this.getFormOptions(b.parent)),$.extend({},this.staticOptions,this.formOptions,this.fieldOptions)}};var g=function(b,c){if(this.__class__="ParsleyForm",this.__id__=a.hash(4),"OptionsFactory"!==a.get(c,"__class__"))throw new Error("You must give an OptionsFactory instance");this.OptionsFactory=c,this.$element=$(b),this.validationResult=null,this.options=this.OptionsFactory.get(this)};g.prototype={onSubmitValidate:function(a){return this.validate(void 0,void 0,a),!1===this.validationResult&&a instanceof $.Event&&(a.stopImmediatePropagation(),a.preventDefault()),this},validate:function(a,b,c){this.submitEvent=c,this.validationResult=!0;var d=[];this._refreshFields(),$.emit("parsley:form:validate",this);for(var e=0;e<this.fields.length;e++)a&&a!==this.fields[e].options.group||(d=this.fields[e].validate(b),!0!==d&&d.length>0&&this.validationResult&&(this.validationResult=!1));return $.emit("parsley:form:validated",this),this.validationResult},isValid:function(a,b){this._refreshFields();for(var c=0;c<this.fields.length;c++)if((!a||a===this.fields[c].options.group)&&!1===this.fields[c].isValid(b))return!1;return!0},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var a=this;return this.fields=[],this.fieldsMappedById={},this.$element.find(this.options.inputs).each(function(){var b=new window.Parsley(this,{},a);"ParsleyField"!==b.__class__&&"ParsleyFieldMultiple"!==b.__class__||b.$element.is(b.options.excluded)||"undefined"==typeof a.fieldsMappedById[b.__class__+"-"+b.__id__]&&(a.fieldsMappedById[b.__class__+"-"+b.__id__]=b,a.fields.push(b))}),this}};var h=function(b,c,d,e,f){if(!new RegExp("ParsleyField").test(a.get(b,"__class__")))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");if("function"!=typeof window.ParsleyValidator.validators[c]&&"Assert"!==window.ParsleyValidator.validators[c](d).__parentClass__)throw new Error("Valid validator expected");var g=function(b,c){return"undefined"!=typeof b.options[c+"Priority"]?b.options[c+"Priority"]:a.get(window.ParsleyValidator.validators[c](d),"priority")||2};return e=e||g(b,c),"function"==typeof window.ParsleyValidator.validators[c](d).requirementsTransformer&&(d=window.ParsleyValidator.validators[c](d).requirementsTransformer()),$.extend(window.ParsleyValidator.validators[c](d),{name:c,requirements:d,priority:e,groups:[e],isDomConstraint:f||a.attr(b.$element,b.options.namespace,c)})},i=function(b,c,d){this.__class__="ParsleyField",this.__id__=a.hash(4),this.$element=$(b),"undefined"!=typeof d?(this.parent=d,this.OptionsFactory=this.parent.OptionsFactory,this.options=this.OptionsFactory.get(this)):(this.OptionsFactory=c,this.options=this.OptionsFactory.get(this)),this.constraints=[],this.constraintsByName={},this.validationResult=[],this._bindConstraints()};i.prototype={validate:function(a){return this.value=this.getValue(),$.emit("parsley:field:validate",this),$.emit("parsley:field:"+(this.isValid(a,this.value)?"success":"error"),this),$.emit("parsley:field:validated",this),this.validationResult},isValid:function(a,b){this.refreshConstraints();var c=this._getConstraintsSortedPriorities();if(b=b||this.getValue(),0===b.length&&!this._isRequired()&&"undefined"==typeof this.options.validateIfEmpty&&!0!==a)return this.validationResult=[];if(!1===this.options.priorityEnabled)return!0===(this.validationResult=this.validateThroughValidator(b,this.constraints,"Any"));for(var d=0;d<c.length;d++)if(!0!==(this.validationResult=this.validateThroughValidator(b,this.constraints,c[d])))return!1;return!0},getValue:function(){var a;return a="undefined"!=typeof this.options.value?this.options.value:this.$element.val(),"undefined"==typeof a||null===a?"":!0===this.options.trimValue?a.replace(/^\s+|\s+$/g,""):a},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(a,b,c,d){if(a=a.toLowerCase(),"function"==typeof window.ParsleyValidator.validators[a]){var e=new h(this,a,b,c,d);"undefined"!==this.constraintsByName[e.name]&&this.removeConstraint(e.name),this.constraints.push(e),this.constraintsByName[e.name]=e}return this},removeConstraint:function(a){for(var b=0;b<this.constraints.length;b++)if(a===this.constraints[b].name){this.constraints.splice(b,1);break}return this},updateConstraint:function(a,b,c){return this.removeConstraint(a).addConstraint(a,b,c)},_bindConstraints:function(){for(var a=[],b=0;b<this.constraints.length;b++)!1===this.constraints[b].isDomConstraint&&a.push(this.constraints[b]);this.constraints=a;for(var c in this.options)this.addConstraint(c,this.options[c]);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&this.addConstraint("required",!0,void 0,!0),"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),void 0,!0),"undefined"!=typeof this.$element.attr("min")&&"undefined"!=typeof this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],void 0,!0):"undefined"!=typeof this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),void 0,!0):"undefined"!=typeof this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),void 0,!0);var a=this.$element.attr("type");return"undefined"==typeof a?this:"number"===a?this.addConstraint("type","integer",void 0,!0):new RegExp(a,"i").test("email url range")?this.addConstraint("type",a,void 0,!0):this},_isRequired:function(){return"undefined"==typeof this.constraintsByName.required?!1:!1!==this.constraintsByName.required.requirements},_getConstraintsSortedPriorities:function(){for(var a=[],b=0;b<this.constraints.length;b++)-1===a.indexOf(this.constraints[b].priority)&&a.push(this.constraints[b].priority);return a.sort(function(a,b){return b-a}),a}};var j=function(){this.__class__="ParsleyFieldMultiple"};j.prototype={addElement:function(a){return this.$elements.push(a),this},refreshConstraints:function(){var a;if(this.constraints=[],this.$element.is("select"))return this.actualizeOptions()._bindConstraints(),this;for(var b=0;b<this.$elements.length;b++)if($("html").has(this.$elements[b]).length){a=this.$elements[b].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var c=0;c<a.length;c++)this.addConstraint(a[c].name,a[c].requirements,a[c].priority,a[c].isDomConstraint)}else this.$elements.splice(b,1);return this},getValue:function(){if("undefined"!=typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return $("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').val()||"";if(this.$element.is("input[type=checkbox]")){var a=[];return $("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').each(function(){a.push($(this).val())}),a.length?a:[]}return this.$element.is("select")&&null===this.$element.val()?[]:this.$element.val()},_init:function(a){return this.$elements=[this.$element],this.options.multiple=a,this}};var k=$({}),l={};$.listen=function(a){if("undefined"==typeof l[a]&&(l[a]=[]),"function"==typeof arguments[1])return l[a].push({fn:arguments[1]});if("object"==typeof arguments[1]&&"function"==typeof arguments[2])return l[a].push({fn:arguments[2],ctxt:arguments[1]});throw new Error("Wrong parameters")},$.listenTo=function(a,b,c){if("undefined"==typeof l[b]&&(l[b]=[]),!(a instanceof i||a instanceof g))throw new Error("Must give Parsley instance");if("string"!=typeof b||"function"!=typeof c)throw new Error("Wrong parameters");l[b].push({instance:a,fn:c})},$.unsubscribe=function(a,b){if("undefined"!=typeof l[a]){if("string"!=typeof a||"function"!=typeof b)throw new Error("Wrong arguments");for(var c=0;c<l[a].length;c++)if(l[a][c].fn===b)return l[a].splice(c,1)}},$.unsubscribeTo=function(a,b){if("undefined"!=typeof l[b]){if(!(a instanceof i||a instanceof g))throw new Error("Must give Parsley instance");for(var c=0;c<l[b].length;c++)if("undefined"!=typeof l[b][c].instance&&l[b][c].instance.__id__===a.__id__)return l[b].splice(c,1)}},$.unsubscribeAll=function(a){"undefined"!=typeof l[a]&&delete l[a]},$.emit=function(a,b){if("undefined"!=typeof l[a])for(var c=0;c<l[a].length;c++)if("undefined"!=typeof l[a][c].instance){if(b instanceof i||b instanceof g)if(l[a][c].instance.__id__!==b.__id__){if(l[a][c].instance instanceof g&&b instanceof i)for(var d=0;d<l[a][c].instance.fields.length;d++)if(l[a][c].instance.fields[d].__id__===b.__id__){l[a][c].fn.apply(k,Array.prototype.slice.call(arguments,1));continue}}else l[a][c].fn.apply(k,Array.prototype.slice.call(arguments,1))}else l[a][c].fn.apply("undefined"!=typeof l[a][c].ctxt?l[a][c].ctxt:k,Array.prototype.slice.call(arguments,1))},$.subscribed=function(){return l},window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{},window.ParsleyConfig.i18n.en=$.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or less.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or less.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),"undefined"!=typeof window.ParsleyValidator&&window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,!0);var m=function(b,c,d){if(this.__class__="Parsley",this.__version__="2.0.2",this.__id__=a.hash(4),"undefined"==typeof b)throw new Error("You must give an element");if("undefined"!=typeof d&&"ParsleyForm"!==d.__class__)throw new Error("Parent instance must be a ParsleyForm instance");return this.init($(b),c,d)};m.prototype={init:function(c,d,e){if(!c.length)throw new Error("You must bind Parsley on an existing element.");if(this.$element=c,this.$element.data("Parsley")){var g=this.$element.data("Parsley");return"undefined"!=typeof e&&(g.parent=e),g}return this.OptionsFactory=new f(b,a.get(window,"ParsleyConfig")||{},d,this.getNamespace(d)),this.options=this.OptionsFactory.get(this),this.$element.is("form")||a.attr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.$element.is(this.options.inputs)&&!this.$element.is(this.options.excluded)?this.isMultiple()?this.handleMultiple(e):this.bind("parsleyField",e):this},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")&&"undefined"==typeof this.options.multiple||this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple")},handleMultiple:function(b){var c,d,e,f=this;if(this.options=$.extend(this.options,b?b.OptionsFactory.get(b):{},a.attr(this.$element,this.options.namespace)),this.options.multiple?d=this.options.multiple:"undefined"!=typeof this.$element.attr("name")&&this.$element.attr("name").length?d=c=this.$element.attr("name"):"undefined"!=typeof this.$element.attr("id")&&this.$element.attr("id").length&&(d=this.$element.attr("id")),this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple"))return this.bind("parsleyFieldMultiple",b,d||this.__id__);if("undefined"==typeof d)return window.console&&window.console.warn&&window.console.warn("To be binded by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;if(d=d.replace(/(:|\.|\[|\]|\$)/g,""),"undefined"!=typeof c&&$('input[name="'+c+'"]').each(function(){$(this).is("input[type=radio], input[type=checkbox]")&&$(this).attr(f.options.namespace+"multiple",d)}),$("["+this.options.namespace+"multiple="+d+"]").length)for(var g=0;g<$("["+this.options.namespace+"multiple="+d+"]").length;g++)if("undefined"!=typeof $($("["+this.options.namespace+"multiple="+d+"]").get(g)).data("Parsley")){e=$($("["+this.options.namespace+"multiple="+d+"]").get(g)).data("Parsley"),this.$element.data("ParsleyFieldMultiple")||(e.addElement(this.$element),this.$element.attr(this.options.namespace+"id",e.__id__));break}return this.bind("parsleyField",b,d,!0),e||this.bind("parsleyFieldMultiple",b,d)},getNamespace:function(c){return"undefined"!=typeof this.$element.data("parsleyNamespace")?this.$element.data("parsleyNamespace"):"undefined"!=typeof a.get(c,"namespace")?c.namespace:"undefined"!=typeof a.get(window,"ParsleyConfig.namespace")?window.ParsleyConfig.namespace:b.namespace},bind:function(b,d,e,f){var h;switch(b){case"parsleyForm":h=$.extend(new g(this.$element,this.OptionsFactory),new c,window.ParsleyExtend)._bindFields();break;case"parsleyField":h=$.extend(new i(this.$element,this.OptionsFactory,d),new c,window.ParsleyExtend);break;case"parsleyFieldMultiple":h=$.extend(new i(this.$element,this.OptionsFactory,d),new c,new j,window.ParsleyExtend)._init(e);break;default:throw new Error(b+"is not a supported Parsley type")}return"undefined"!=typeof e&&a.setAttr(this.$element,this.options.namespace,"multiple",e),"undefined"!=typeof f?(this.$element.data("ParsleyFieldMultiple",h),h):(new RegExp("ParsleyF","i").test(h.__class__)&&(this.$element.data("Parsley",h),$.emit("parsley:"+("parsleyForm"===b?"form":"field")+":init",h)),h)}},$.fn.parsley=$.fn.psly=function(a){if(this.length>1){var b=[];return this.each(function(){b.push($(this).parsley(a))}),b}return $(this).length?new m(this,a):void(window.console&&window.console.warn&&window.console.warn("You must bind Parsley on an existing element."))},window.ParsleyUI="function"==typeof a.get(window,"ParsleyConfig.ParsleyUI")?(new window.ParsleyConfig.ParsleyUI).listen():(new e).listen(),"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),"undefined"==typeof window.ParsleyConfig&&(window.ParsleyConfig={}),window.Parsley=window.psly=m,window.ParsleyUtils=a,window.ParsleyValidator=new d(window.ParsleyConfig.validators,window.ParsleyConfig.i18n),!1!==a.get(window,"ParsleyConfig.autoBind")&&$(document).ready(function(){$("[data-parsley-validate]").length&&$("[data-parsley-validate]").parsley()})}),function(a){function b(b,c){this.$element=a(b),this.settings=a.extend({},d,c),this.init()}var c="ratingInput",d={maxValue:10};b.prototype={init:function(){var b=this,c=(this.settings,this.$element);c.on("click",".rating-input__item",function(d){d.preventDefault();var e=a(this),f=(c.find(".count-input__value"),e.index()+1),g=e.data("id");b.setValue(f,g)}),this.setValue()},setValue:function(a,b){var c=this.$element,d=c.find(".rating-input__value"),e=c.find(".rating-input__txt");a?(d.val(b),e.text(a)):(a=parseInt(d.val()),e.text(a)),c.find(".rating-input__item").removeClass("rating-input__item_active"),c.find(".rating-input__item").slice(0,a).addClass("rating-input__item_active")}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document),function(a,b){"function"==typeof define&&define.amd?define("sifter",b):"object"==typeof exports?module.exports=b():a.Sifter=b()}(this,function(){var a=function(a,b){this.items=a,this.settings=b||{diacritics:!0}};a.prototype.tokenize=function(a){if(a=d(String(a||"").toLowerCase()),!a||!a.length)return[];var b,c,f,h,i=[],j=a.split(/ +/);for(b=0,c=j.length;c>b;b++){if(f=e(j[b]),this.settings.diacritics)for(h in g)g.hasOwnProperty(h)&&(f=f.replace(new RegExp(h,"g"),g[h]));i.push({string:j[b],regex:new RegExp(f,"i")})}return i},a.prototype.iterator=function(a,b){var c;c=f(a)?Array.prototype.forEach||function(a){for(var b=0,c=this.length;c>b;b++)a(this[b],b,this)}:function(a){for(var b in this)this.hasOwnProperty(b)&&a(this[b],b,this)},c.apply(a,[b])},a.prototype.getScoreFunction=function(a,b){var c,d,e,f;c=this,a=c.prepareSearch(a,b),e=a.tokens,d=a.options.fields,f=e.length;var g=function(a,b){var c,d;return a?(a=String(a||""),d=a.search(b.regex),-1===d?0:(c=b.string.length/a.length,0===d&&(c+=.5),c)):0},h=function(){var a=d.length;return a?1===a?function(a,b){return g(b[d[0]],a)}:function(b,c){for(var e=0,f=0;a>e;e++)f+=g(c[d[e]],b);return f/a}:function(){return 0}}();return f?1===f?function(a){return h(e[0],a)}:"and"===a.options.conjunction?function(a){for(var b,c=0,d=0;f>c;c++){if(b=h(e[c],a),0>=b)return 0;d+=b}return d/f}:function(a){for(var b=0,c=0;f>b;b++)c+=h(e[b],a);return c/f}:function(){return 0}},a.prototype.getSortFunction=function(a,c){var d,e,f,g,h,i,j,k,l,m,n;if(f=this,a=f.prepareSearch(a,c),n=!a.query&&c.sort_empty||c.sort,l=function(a,b){return"$score"===a?b.score:f.items[b.id][a]},h=[],n)for(d=0,e=n.length;e>d;d++)(a.query||"$score"!==n[d].field)&&h.push(n[d]);if(a.query){for(m=!0,d=0,e=h.length;e>d;d++)if("$score"===h[d].field){m=!1;break}m&&h.unshift({field:"$score",direction:"desc"})}else for(d=0,e=h.length;e>d;d++)if("$score"===h[d].field){h.splice(d,1);break}for(k=[],d=0,e=h.length;e>d;d++)k.push("desc"===h[d].direction?-1:1);return i=h.length,i?1===i?(g=h[0].field,j=k[0],function(a,c){return j*b(l(g,a),l(g,c))}):function(a,c){var d,e,f;for(d=0;i>d;d++)if(f=h[d].field,e=k[d]*b(l(f,a),l(f,c)))return e;return 0}:null},a.prototype.prepareSearch=function(a,b){if("object"==typeof a)return a;b=c({},b);var d=b.fields,e=b.sort,g=b.sort_empty;return d&&!f(d)&&(b.fields=[d]),e&&!f(e)&&(b.sort=[e]),g&&!f(g)&&(b.sort_empty=[g]),{options:b,query:String(a||"").toLowerCase(),tokens:this.tokenize(a),total:0,items:[]}},a.prototype.search=function(a,b){var c,d,e,f,g=this;return d=this.prepareSearch(a,b),b=d.options,a=d.query,f=b.score||g.getScoreFunction(d),a.length?g.iterator(g.items,function(a,e){c=f(a),(b.filter===!1||c>0)&&d.items.push({score:c,id:e})}):g.iterator(g.items,function(a,b){d.items.push({score:1,id:b})}),e=g.getSortFunction(d,b),e&&d.items.sort(e),d.total=d.items.length,"number"==typeof b.limit&&(d.items=d.items.slice(0,b.limit)),d};var b=function(a,b){return"number"==typeof a&&"number"==typeof b?a>b?1:b>a?-1:0:(a=String(a||"").toLowerCase(),b=String(b||"").toLowerCase(),a>b?1:b>a?-1:0)},c=function(a){var b,c,d,e;for(b=1,c=arguments.length;c>b;b++)if(e=arguments[b])for(d in e)e.hasOwnProperty(d)&&(a[d]=e[d]);return a},d=function(a){return(a+"").replace(/^\s+|\s+$|/g,"")},e=function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},f=Array.isArray||$&&$.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},g={a:"[aÀÁÂÃÄÅàáâãäå]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚ]",i:"[iÌÍÎÏìíîï]",n:"[nÑñňŇ]",o:"[oÒÓÔÕÕÖØòóôõöø]",r:"[rřŘ]",s:"[sŠš]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮ]",y:"[yŸÿýÝ]",z:"[zŽž]"};return a}),function(a,b){"function"==typeof define&&define.amd?define("microplugin",b):"object"==typeof exports?module.exports=b():a.MicroPlugin=b()}(this,function(){var a={};a.mixin=function(a){a.plugins={},a.prototype.initializePlugins=function(a){var c,d,e,f=this,g=[];if(f.plugins={names:[],settings:{},requested:{},loaded:{}},b.isArray(a))for(c=0,d=a.length;d>c;c++)"string"==typeof a[c]?g.push(a[c]):(f.plugins.settings[a[c].name]=a[c].options,g.push(a[c].name));else if(a)for(e in a)a.hasOwnProperty(e)&&(f.plugins.settings[e]=a[e],g.push(e));for(;g.length;)f.require(g.shift())},a.prototype.loadPlugin=function(b){var c=this,d=c.plugins,e=a.plugins[b];if(!a.plugins.hasOwnProperty(b))throw new Error('Unable to find "'+b+'" plugin');d.requested[b]=!0,d.loaded[b]=e.fn.apply(c,[c.plugins.settings[b]||{}]),d.names.push(b)},a.prototype.require=function(a){var b=this,c=b.plugins;if(!b.plugins.loaded.hasOwnProperty(a)){if(c.requested[a])throw new Error('Plugin has circular dependency ("'+a+'")');b.loadPlugin(a)}return c.loaded[a]},a.define=function(b,c){a.plugins[b]={name:b,fn:c}}};var b={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}};return a}),function(a,b){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],b):"object"==typeof exports?module.exports=b(require("jquery"),require("sifter"),require("microplugin")):a.Selectize=b(a.jQuery,a.Sifter,a.MicroPlugin)
}(this,function(a,b,c){"use strict";var d=function(a,b){if("string"!=typeof b||b.length){var c="string"==typeof b?new RegExp(b,"i"):b,d=function(a){var b=0;if(3===a.nodeType){var e=a.data.search(c);if(e>=0&&a.data.length>0){var f=a.data.match(c),g=document.createElement("span");g.className="highlight";var h=a.splitText(e),i=(h.splitText(f[0].length),h.cloneNode(!0));g.appendChild(i),h.parentNode.replaceChild(g,h),b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(var j=0;j<a.childNodes.length;++j)j+=d(a.childNodes[j]);return b};return a.each(function(){d(this)})}},e=function(){};e.prototype={on:function(a,b){this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)},off:function(a,b){var c=arguments.length;return 0===c?delete this._events:1===c?delete this._events[a]:(this._events=this._events||{},void(a in this._events!=!1&&this._events[a].splice(this._events[a].indexOf(b),1)))},trigger:function(a){if(this._events=this._events||{},a in this._events!=!1)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}},e.mixin=function(a){for(var b=["on","off","trigger"],c=0;c<b.length;c++)a.prototype[b[c]]=e.prototype[b[c]]};var f=/Mac/.test(navigator.userAgent),g=65,h=13,i=27,j=37,k=38,l=80,m=39,n=40,o=78,p=8,q=46,r=16,s=f?91:17,t=f?18:17,u=9,v=1,w=2,x=function(a){return"undefined"!=typeof a},y=function(a){return"undefined"==typeof a||null===a?"":"boolean"==typeof a?a?"1":"0":a+""},z=function(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},A=function(a){return(a+"").replace(/\$/g,"$$$$")},B={};B.before=function(a,b,c){var d=a[b];a[b]=function(){return c.apply(a,arguments),d.apply(a,arguments)}},B.after=function(a,b,c){var d=a[b];a[b]=function(){var b=d.apply(a,arguments);return c.apply(a,arguments),b}};var C=function(b,c){if(!a.isArray(c))return c;var d,e,f={};for(d=0,e=c.length;e>d;d++)c[d].hasOwnProperty(b)&&(f[c[d][b]]=c[d]);return f},D=function(a){var b=!1;return function(){b||(b=!0,a.apply(this,arguments))}},E=function(a,b){var c;return function(){var d=this,e=arguments;window.clearTimeout(c),c=window.setTimeout(function(){a.apply(d,e)},b)}},F=function(a,b,c){var d,e=a.trigger,f={};a.trigger=function(){var c=arguments[0];return-1===b.indexOf(c)?e.apply(a,arguments):void(f[c]=arguments)},c.apply(a,[]),a.trigger=e;for(d in f)f.hasOwnProperty(d)&&e.apply(a,f[d])},G=function(a,b,c,d){a.on(b,c,function(b){for(var c=b.target;c&&c.parentNode!==a[0];)c=c.parentNode;return b.currentTarget=c,d.apply(this,[b])})},H=function(a){var b={};if("selectionStart"in a)b.start=a.selectionStart,b.length=a.selectionEnd-b.start;else if(document.selection){a.focus();var c=document.selection.createRange(),d=document.selection.createRange().text.length;c.moveStart("character",-a.value.length),b.start=c.text.length-d,b.length=d}return b},I=function(a,b,c){var d,e,f={};if(c)for(d=0,e=c.length;e>d;d++)f[c[d]]=a.css(c[d]);else f=a.css();b.css(f)},J=function(b,c){if(!b)return 0;var d=a("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(b).appendTo("body");I(c,d,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var e=d.width();return d.remove(),e},K=function(a){var b=null,c=function(c,d){var e,f,g,h,i,j,k,l;c=c||window.event||{},d=d||{},c.metaKey||c.altKey||(d.force||a.data("grow")!==!1)&&(e=a.val(),c.type&&"keydown"===c.type.toLowerCase()&&(f=c.keyCode,g=f>=97&&122>=f||f>=65&&90>=f||f>=48&&57>=f||32===f,f===q||f===p?(l=H(a[0]),l.length?e=e.substring(0,l.start)+e.substring(l.start+l.length):f===p&&l.start?e=e.substring(0,l.start-1)+e.substring(l.start+1):f===q&&"undefined"!=typeof l.start&&(e=e.substring(0,l.start)+e.substring(l.start+1))):g&&(j=c.shiftKey,k=String.fromCharCode(c.keyCode),k=j?k.toUpperCase():k.toLowerCase(),e+=k)),h=a.attr("placeholder"),!e&&h&&(e=h),i=J(e,a)+4,i!==b&&(b=i,a.width(i),a.triggerHandler("resize")))};a.on("keydown keyup update blur",c),c()},L=function(c,d){var e,f,g=this;f=c[0],f.selectize=g,e=window.getComputedStyle?window.getComputedStyle(f,null).getPropertyValue("direction"):f.currentStyle&&f.currentStyle.direction,e=e||c.parents("[dir]:first").attr("dir")||"",a.extend(g,{settings:d,$input:c,tagType:"select"===f.tagName.toLowerCase()?v:w,rtl:/rtl/i.test(e),eventNS:".selectize"+ ++L.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:c.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===d.loadThrottle?g.onSearchChange:E(g.onSearchChange,d.loadThrottle)}),g.sifter=new b(this.options,{diacritics:d.diacritics}),a.extend(g.options,C(d.valueField,d.options)),delete g.settings.options,a.extend(g.optgroups,C(d.optgroupValueField,d.optgroups)),delete g.settings.optgroups,g.settings.mode=g.settings.mode||(1===g.settings.maxItems?"single":"multi"),"boolean"!=typeof g.settings.hideSelected&&(g.settings.hideSelected="multi"===g.settings.mode),g.settings.create&&(g.canCreate=function(a){var b=g.settings.createFilter;return!(!a.length||"function"==typeof b&&!b.apply(g,[a])||"string"==typeof b&&!new RegExp(b).test(a)||b instanceof RegExp&&!b.test(a))}),g.initializePlugins(g.settings.plugins),g.setupCallbacks(),g.setupTemplates(),g.setup()};return e.mixin(L),c.mixin(L),a.extend(L.prototype,{setup:function(){var b,c,d,e,g,h,i,j,k,l,m=this,n=m.settings,o=m.eventNS,p=a(window),q=a(document),u=m.$input;i=m.settings.mode,j=u.attr("tabindex")||"",k=u.attr("class")||"",b=a("<div>").addClass(n.wrapperClass).addClass(k).addClass(i),c=a("<div>").addClass(n.inputClass).addClass("items").appendTo(b),d=a('<input type="text" autocomplete="off" />').appendTo(c).attr("tabindex",j),h=a(n.dropdownParent||b),e=a("<div>").addClass(n.dropdownClass).addClass(k).addClass(i).hide().appendTo(h),g=a("<div>").addClass(n.dropdownContentClass).appendTo(e),b.css({width:u[0].style.width}),m.plugins.names.length&&(l="plugin-"+m.plugins.names.join(" plugin-"),b.addClass(l),e.addClass(l)),(null===n.maxItems||n.maxItems>1)&&m.tagType===v&&u.attr("multiple","multiple"),m.settings.placeholder&&d.attr("placeholder",n.placeholder),u.attr("autocorrect")&&d.attr("autocorrect",u.attr("autocorrect")),u.attr("autocapitalize")&&d.attr("autocapitalize",u.attr("autocapitalize")),m.$wrapper=b,m.$control=c,m.$control_input=d,m.$dropdown=e,m.$dropdown_content=g,e.on("mouseenter","[data-selectable]",function(){return m.onOptionHover.apply(m,arguments)}),e.on("mousedown","[data-selectable]",function(){return m.onOptionSelect.apply(m,arguments)}),G(c,"mousedown","*:not(input)",function(){return m.onItemSelect.apply(m,arguments)}),K(d),c.on({mousedown:function(){return m.onMouseDown.apply(m,arguments)},click:function(){return m.onClick.apply(m,arguments)}}),d.on({mousedown:function(a){a.stopPropagation()},keydown:function(){return m.onKeyDown.apply(m,arguments)},keyup:function(){return m.onKeyUp.apply(m,arguments)},keypress:function(){return m.onKeyPress.apply(m,arguments)},resize:function(){m.positionDropdown.apply(m,[])},blur:function(){return m.onBlur.apply(m,arguments)},focus:function(){return m.ignoreBlur=!1,m.onFocus.apply(m,arguments)},paste:function(){return m.onPaste.apply(m,arguments)}}),q.on("keydown"+o,function(a){m.isCmdDown=a[f?"metaKey":"ctrlKey"],m.isCtrlDown=a[f?"altKey":"ctrlKey"],m.isShiftDown=a.shiftKey}),q.on("keyup"+o,function(a){a.keyCode===t&&(m.isCtrlDown=!1),a.keyCode===r&&(m.isShiftDown=!1),a.keyCode===s&&(m.isCmdDown=!1)}),q.on("mousedown"+o,function(a){if(m.isFocused){if(a.target===m.$dropdown[0]||a.target.parentNode===m.$dropdown[0])return!1;m.$control.has(a.target).length||a.target===m.$control[0]||m.blur()}}),p.on(["scroll"+o,"resize"+o].join(" "),function(){m.isOpen&&m.positionDropdown.apply(m,arguments)}),p.on("mousemove"+o,function(){m.ignoreHover=!1}),this.revertSettings={$children:u.children().detach(),tabindex:u.attr("tabindex")},u.attr("tabindex",-1).hide().after(m.$wrapper),a.isArray(n.items)&&(m.setValue(n.items),delete n.items),u[0].validity&&u.on("invalid"+o,function(a){a.preventDefault(),m.isInvalid=!0,m.refreshState()}),m.updateOriginalInput(),m.refreshItems(),m.refreshState(),m.updatePlaceholder(),m.isSetup=!0,u.is(":disabled")&&m.disable(),m.on("change",this.onChange),u.data("selectize",m),u.addClass("selectized"),m.trigger("initialize"),n.preload===!0&&m.onSearchChange("")},setupTemplates:function(){var b=this,c=b.settings.labelField,d=b.settings.optgroupLabelField,e={optgroup:function(a){return'<div class="optgroup">'+a.html+"</div>"},optgroup_header:function(a,b){return'<div class="optgroup-header">'+b(a[d])+"</div>"},option:function(a,b){return'<div class="option">'+b(a[c])+"</div>"},item:function(a,b){return'<div class="item">'+b(a[c])+"</div>"},option_create:function(a,b){return'<div class="create">Add <strong>'+b(a.input)+"</strong>&hellip;</div>"}};b.settings.render=a.extend({},e,b.settings.render)},setupCallbacks:function(){var a,b,c={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType"};for(a in c)c.hasOwnProperty(a)&&(b=this.settings[c[a]],b&&this.on(a,b))},onClick:function(a){var b=this;b.isFocused||(b.focus(),a.preventDefault())},onMouseDown:function(b){{var c=this,d=b.isDefaultPrevented();a(b.target)}if(c.isFocused){if(b.target!==c.$control_input[0])return"single"===c.settings.mode?c.isOpen?c.close():c.open():d||c.setActiveItem(null),!1}else d||window.setTimeout(function(){c.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(a){var b=this;(b.isFull()||b.isInputHidden||b.isLocked)&&a.preventDefault()},onKeyPress:function(a){if(this.isLocked)return a&&a.preventDefault();var b=String.fromCharCode(a.keyCode||a.which);return this.settings.create&&b===this.settings.delimiter?(this.createItem(),a.preventDefault(),!1):void 0},onKeyDown:function(a){var b=(a.target===this.$control_input[0],this);if(b.isLocked)return void(a.keyCode!==u&&a.preventDefault());switch(a.keyCode){case g:if(b.isCmdDown)return void b.selectAll();break;case i:return void b.close();case o:if(!a.ctrlKey||a.altKey)break;case n:if(!b.isOpen&&b.hasOptions)b.open();else if(b.$activeOption){b.ignoreHover=!0;var c=b.getAdjacentOption(b.$activeOption,1);c.length&&b.setActiveOption(c,!0,!0)}return void a.preventDefault();case l:if(!a.ctrlKey||a.altKey)break;case k:if(b.$activeOption){b.ignoreHover=!0;var d=b.getAdjacentOption(b.$activeOption,-1);d.length&&b.setActiveOption(d,!0,!0)}return void a.preventDefault();case h:return b.isOpen&&b.$activeOption&&b.onOptionSelect({currentTarget:b.$activeOption}),void a.preventDefault();case j:return void b.advanceSelection(-1,a);case m:return void b.advanceSelection(1,a);case u:return b.settings.selectOnTab&&b.isOpen&&b.$activeOption&&(b.onOptionSelect({currentTarget:b.$activeOption}),a.preventDefault()),void(b.settings.create&&b.createItem()&&a.preventDefault());case p:case q:return void b.deleteSelection(a)}return!b.isFull()&&!b.isInputHidden||(f?a.metaKey:a.ctrlKey)?void 0:void a.preventDefault()},onKeyUp:function(a){var b=this;if(b.isLocked)return a&&a.preventDefault();var c=b.$control_input.val()||"";b.lastValue!==c&&(b.lastValue=c,b.onSearchChange(c),b.refreshOptions(),b.trigger("type",c))},onSearchChange:function(a){var b=this,c=b.settings.load;c&&(b.loadedSearches.hasOwnProperty(a)||(b.loadedSearches[a]=!0,b.load(function(d){c.apply(b,[a,d])})))},onFocus:function(a){var b=this;return b.isFocused=!0,b.isDisabled?(b.blur(),a&&a.preventDefault(),!1):void(b.ignoreFocus||("focus"===b.settings.preload&&b.onSearchChange(""),b.$activeItems.length||(b.showInput(),b.setActiveItem(null),b.refreshOptions(!!b.settings.openOnFocus)),b.refreshState()))},onBlur:function(a){var b=this;if(b.isFocused=!1,!b.ignoreFocus){if(!b.ignoreBlur&&document.activeElement===b.$dropdown_content[0])return b.ignoreBlur=!0,void b.onFocus(a);b.settings.create&&b.settings.createOnBlur&&b.createItem(!1),b.close(),b.setTextboxValue(""),b.setActiveItem(null),b.setActiveOption(null),b.setCaret(b.items.length),b.refreshState()}},onOptionHover:function(a){this.ignoreHover||this.setActiveOption(a.currentTarget,!1)},onOptionSelect:function(b){var c,d,e=this;b.preventDefault&&(b.preventDefault(),b.stopPropagation()),d=a(b.currentTarget),d.hasClass("create")?e.createItem():(c=d.attr("data-value"),c&&(e.lastQuery=null,e.setTextboxValue(""),e.addItem(c),!e.settings.hideSelected&&b.type&&/mouse/.test(b.type)&&e.setActiveOption(e.getOption(c))))},onItemSelect:function(a){var b=this;b.isLocked||"multi"===b.settings.mode&&(a.preventDefault(),b.setActiveItem(a.currentTarget,a))},load:function(a){var b=this,c=b.$wrapper.addClass("loading");b.loading++,a.apply(b,[function(a){b.loading=Math.max(b.loading-1,0),a&&a.length&&(b.addOption(a),b.refreshOptions(b.isFocused&&!b.isInputHidden)),b.loading||c.removeClass("loading"),b.trigger("load",a)}])},setTextboxValue:function(a){var b=this.$control_input,c=b.val()!==a;c&&(b.val(a).triggerHandler("update"),this.lastValue=a)},getValue:function(){return this.tagType===v&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(a){F(this,["change"],function(){this.clear(),this.addItems(a)})},setActiveItem:function(b,c){var d,e,f,g,h,i,j,k,l=this;if("single"!==l.settings.mode){if(b=a(b),!b.length)return a(l.$activeItems).removeClass("active"),l.$activeItems=[],void(l.isFocused&&l.showInput());if(d=c&&c.type.toLowerCase(),"mousedown"===d&&l.isShiftDown&&l.$activeItems.length){for(k=l.$control.children(".active:last"),g=Array.prototype.indexOf.apply(l.$control[0].childNodes,[k[0]]),h=Array.prototype.indexOf.apply(l.$control[0].childNodes,[b[0]]),g>h&&(j=g,g=h,h=j),e=g;h>=e;e++)i=l.$control[0].childNodes[e],-1===l.$activeItems.indexOf(i)&&(a(i).addClass("active"),l.$activeItems.push(i));c.preventDefault()}else"mousedown"===d&&l.isCtrlDown||"keydown"===d&&this.isShiftDown?b.hasClass("active")?(f=l.$activeItems.indexOf(b[0]),l.$activeItems.splice(f,1),b.removeClass("active")):l.$activeItems.push(b.addClass("active")[0]):(a(l.$activeItems).removeClass("active"),l.$activeItems=[b.addClass("active")[0]]);l.hideInput(),this.isFocused||l.focus()}},setActiveOption:function(b,c,d){var e,f,g,h,i,j=this;j.$activeOption&&j.$activeOption.removeClass("active"),j.$activeOption=null,b=a(b),b.length&&(j.$activeOption=b.addClass("active"),(c||!x(c))&&(e=j.$dropdown_content.height(),f=j.$activeOption.outerHeight(!0),c=j.$dropdown_content.scrollTop()||0,g=j.$activeOption.offset().top-j.$dropdown_content.offset().top+c,h=g,i=g-e+f,g+f>e+c?j.$dropdown_content.stop().animate({scrollTop:i},d?j.settings.scrollDuration:0):c>g&&j.$dropdown_content.stop().animate({scrollTop:h},d?j.settings.scrollDuration:0)))},selectAll:function(){var a=this;"single"!==a.settings.mode&&(a.$activeItems=Array.prototype.slice.apply(a.$control.children(":not(input)").addClass("active")),a.$activeItems.length&&(a.hideInput(),a.close()),a.focus())},hideInput:function(){var a=this;a.setTextboxValue(""),a.$control_input.css({opacity:0,position:"absolute",left:a.rtl?1e4:-1e4}),a.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var a=this;a.isDisabled||(a.ignoreFocus=!0,a.$control_input[0].focus(),window.setTimeout(function(){a.ignoreFocus=!1,a.onFocus()},0))},blur:function(){this.$control_input.trigger("blur")},getScoreFunction:function(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())},getSearchOptions:function(){var a=this.settings,b=a.sortField;return"string"==typeof b&&(b={field:b}),{fields:a.searchField,conjunction:a.searchConjunction,sort:b}},search:function(b){var c,d,e,f=this,g=f.settings,h=this.getSearchOptions();if(g.score&&(e=f.settings.score.apply(this,[b]),"function"!=typeof e))throw new Error('Selectize "score" setting must be a function that returns a function');if(b!==f.lastQuery?(f.lastQuery=b,d=f.sifter.search(b,a.extend(h,{score:e})),f.currentResults=d):d=a.extend(!0,{},f.currentResults),g.hideSelected)for(c=d.items.length-1;c>=0;c--)-1!==f.items.indexOf(y(d.items[c].id))&&d.items.splice(c,1);return d},refreshOptions:function(b){var c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;"undefined"==typeof b&&(b=!0);var t=this,u=t.$control_input.val(),v=t.search(u),w=t.$dropdown_content,x=t.$activeOption&&y(t.$activeOption.attr("data-value"));if(g=v.items.length,"number"==typeof t.settings.maxOptions&&(g=Math.min(g,t.settings.maxOptions)),h={},t.settings.optgroupOrder)for(i=t.settings.optgroupOrder,c=0;c<i.length;c++)h[i[c]]=[];else i=[];for(c=0;g>c;c++)for(j=t.options[v.items[c].id],k=t.render("option",j),l=j[t.settings.optgroupField]||"",m=a.isArray(l)?l:[l],e=0,f=m&&m.length;f>e;e++)l=m[e],t.optgroups.hasOwnProperty(l)||(l=""),h.hasOwnProperty(l)||(h[l]=[],i.push(l)),h[l].push(k);for(n=[],c=0,g=i.length;g>c;c++)l=i[c],t.optgroups.hasOwnProperty(l)&&h[l].length?(o=t.render("optgroup_header",t.optgroups[l])||"",o+=h[l].join(""),n.push(t.render("optgroup",a.extend({},t.optgroups[l],{html:o})))):n.push(h[l].join(""));if(w.html(n.join("")),t.settings.highlight&&v.query.length&&v.tokens.length)for(c=0,g=v.tokens.length;g>c;c++)d(w,v.tokens[c].regex);if(!t.settings.hideSelected)for(c=0,g=t.items.length;g>c;c++)t.getOption(t.items[c]).addClass("selected");p=t.settings.create&&t.canCreate(v.query),p&&(w.prepend(t.render("option_create",{input:u})),s=a(w[0].childNodes[0])),t.hasOptions=v.items.length>0||p,t.hasOptions?(v.items.length>0?(r=x&&t.getOption(x),r&&r.length?q=r:"single"===t.settings.mode&&t.items.length&&(q=t.getOption(t.items[0])),q&&q.length||(q=s&&!t.settings.addPrecedence?t.getAdjacentOption(s,1):w.find("[data-selectable]:first"))):q=s,t.setActiveOption(q),b&&!t.isOpen&&t.open()):(t.setActiveOption(null),b&&t.isOpen&&t.close())},addOption:function(b){var c,d,e,f=this;if(a.isArray(b))for(c=0,d=b.length;d>c;c++)f.addOption(b[c]);else e=y(b[f.settings.valueField]),e&&!f.options.hasOwnProperty(e)&&(f.userOptions[e]=!0,f.options[e]=b,f.lastQuery=null,f.trigger("option_add",e,b))},addOptionGroup:function(a,b){this.optgroups[a]=b,this.trigger("optgroup_add",a,b)},updateOption:function(b,c){var d,e,f,g,h,i,j=this;if(b=y(b),f=y(c[j.settings.valueField]),j.options.hasOwnProperty(b)){if(!f)throw new Error("Value must be set in option data");f!==b&&(delete j.options[b],g=j.items.indexOf(b),-1!==g&&j.items.splice(g,1,f)),j.options[f]=c,h=j.renderCache.item,i=j.renderCache.option,h&&(delete h[b],delete h[f]),i&&(delete i[b],delete i[f]),-1!==j.items.indexOf(f)&&(d=j.getItem(b),e=a(j.render("item",c)),d.hasClass("active")&&e.addClass("active"),d.replaceWith(e)),j.isOpen&&j.refreshOptions(!1)}},removeOption:function(a){var b=this;a=y(a);var c=b.renderCache.item,d=b.renderCache.option;c&&delete c[a],d&&delete d[a],delete b.userOptions[a],delete b.options[a],b.lastQuery=null,b.trigger("option_remove",a),b.removeItem(a)},clearOptions:function(){var a=this;a.loadedSearches={},a.userOptions={},a.renderCache={},a.options=a.sifter.items={},a.lastQuery=null,a.trigger("option_clear"),a.clear()},getOption:function(a){return this.getElementWithValue(a,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(b,c){var d=this.$dropdown.find("[data-selectable]"),e=d.index(b)+c;return e>=0&&e<d.length?d.eq(e):a()},getElementWithValue:function(b,c){if(b=y(b))for(var d=0,e=c.length;e>d;d++)if(c[d].getAttribute("data-value")===b)return a(c[d]);return a()},getItem:function(a){return this.getElementWithValue(a,this.$control.children())},addItems:function(b){for(var c=a.isArray(b)?b:[b],d=0,e=c.length;e>d;d++)this.isPending=e-1>d,this.addItem(c[d])},addItem:function(b){F(this,["change"],function(){var c,d,e,f,g,h=this,i=h.settings.mode;return b=y(b),-1!==h.items.indexOf(b)?void("single"===i&&h.close()):void(h.options.hasOwnProperty(b)&&("single"===i&&h.clear(),"multi"===i&&h.isFull()||(c=a(h.render("item",h.options[b])),g=h.isFull(),h.items.splice(h.caretPos,0,b),h.insertAtCaret(c),(!h.isPending||!g&&h.isFull())&&h.refreshState(),h.isSetup&&(e=h.$dropdown_content.find("[data-selectable]"),h.isPending||(d=h.getOption(b),f=h.getAdjacentOption(d,1).attr("data-value"),h.refreshOptions(h.isFocused&&"single"!==i),f&&h.setActiveOption(h.getOption(f))),!e.length||h.isFull()?h.close():h.positionDropdown(),h.updatePlaceholder(),h.trigger("item_add",b,c),h.updateOriginalInput()))))})},removeItem:function(a){var b,c,d,e=this;b="object"==typeof a?a:e.getItem(a),a=y(b.attr("data-value")),c=e.items.indexOf(a),-1!==c&&(b.remove(),b.hasClass("active")&&(d=e.$activeItems.indexOf(b[0]),e.$activeItems.splice(d,1)),e.items.splice(c,1),e.lastQuery=null,!e.settings.persist&&e.userOptions.hasOwnProperty(a)&&e.removeOption(a),c<e.caretPos&&e.setCaret(e.caretPos-1),e.refreshState(),e.updatePlaceholder(),e.updateOriginalInput(),e.positionDropdown(),e.trigger("item_remove",a))},createItem:function(b){var c=this,d=a.trim(c.$control_input.val()||""),e=c.caretPos;if(!c.canCreate(d))return!1;c.lock(),"undefined"==typeof b&&(b=!0);var f="function"==typeof c.settings.create?this.settings.create:function(a){var b={};return b[c.settings.labelField]=a,b[c.settings.valueField]=a,b},g=D(function(a){if(c.unlock(),a&&"object"==typeof a){var d=y(a[c.settings.valueField]);d&&(c.setTextboxValue(""),c.addOption(a),c.setCaret(e),c.addItem(d),c.refreshOptions(b&&"single"!==c.settings.mode))}}),h=f.apply(this,[d,g]);return"undefined"!=typeof h&&g(h),!0},refreshItems:function(){if(this.lastQuery=null,this.isSetup)for(var a=0;a<this.items.length;a++)this.addItem(this.items);this.refreshState(),this.updateOriginalInput()},refreshState:function(){var a,b=this;b.isRequired&&(b.items.length&&(b.isInvalid=!1),b.$control_input.prop("required",a)),b.refreshClasses()},refreshClasses:function(){var b=this,c=b.isFull(),d=b.isLocked;b.$wrapper.toggleClass("rtl",b.rtl),b.$control.toggleClass("focus",b.isFocused).toggleClass("disabled",b.isDisabled).toggleClass("required",b.isRequired).toggleClass("invalid",b.isInvalid).toggleClass("locked",d).toggleClass("full",c).toggleClass("not-full",!c).toggleClass("input-active",b.isFocused&&!b.isInputHidden).toggleClass("dropdown-active",b.isOpen).toggleClass("has-options",!a.isEmptyObject(b.options)).toggleClass("has-items",b.items.length>0),b.$control_input.data("grow",!c&&!d)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(){var a,b,c,d=this;if(d.tagType===v){for(c=[],a=0,b=d.items.length;b>a;a++)c.push('<option value="'+z(d.items[a])+'" selected="selected"></option>');c.length||this.$input.attr("multiple")||c.push('<option value="" selected="selected"></option>'),d.$input.html(c.join(""))}else d.$input.val(d.getValue()),d.$input.attr("value",d.$input.val());d.isSetup&&d.trigger("change",d.$input.val())},updatePlaceholder:function(){if(this.settings.placeholder){var a=this.$control_input;this.items.length?a.removeAttr("placeholder"):a.attr("placeholder",this.settings.placeholder),a.triggerHandler("update",{force:!0})}},open:function(){var a=this;a.isLocked||a.isOpen||"multi"===a.settings.mode&&a.isFull()||(a.focus(),a.isOpen=!0,a.refreshState(),a.$dropdown.css({visibility:"hidden",display:"block"}),a.positionDropdown(),a.$dropdown.css({visibility:"visible"}),a.trigger("dropdown_open",a.$dropdown))},close:function(){var a=this,b=a.isOpen;"single"===a.settings.mode&&a.items.length&&a.hideInput(),a.isOpen=!1,a.$dropdown.hide(),a.setActiveOption(null),a.refreshState(),b&&a.trigger("dropdown_close",a.$dropdown)},positionDropdown:function(){var a=this.$control,b="body"===this.settings.dropdownParent?a.offset():a.position();b.top+=a.outerHeight(!0),this.$dropdown.css({width:a.outerWidth(),top:b.top,left:b.left})},clear:function(){var a=this;a.items.length&&(a.$control.children(":not(input)").remove(),a.items=[],a.lastQuery=null,a.setCaret(0),a.setActiveItem(null),a.updatePlaceholder(),a.updateOriginalInput(),a.refreshState(),a.showInput(),a.trigger("clear"))},insertAtCaret:function(b){var c=Math.min(this.caretPos,this.items.length);0===c?this.$control.prepend(b):a(this.$control[0].childNodes[c]).before(b),this.setCaret(c+1)},deleteSelection:function(b){var c,d,e,f,g,h,i,j,k,l=this;if(e=b&&b.keyCode===p?-1:1,f=H(l.$control_input[0]),l.$activeOption&&!l.settings.hideSelected&&(i=l.getAdjacentOption(l.$activeOption,-1).attr("data-value")),g=[],l.$activeItems.length){for(k=l.$control.children(".active:"+(e>0?"last":"first")),h=l.$control.children(":not(input)").index(k),e>0&&h++,c=0,d=l.$activeItems.length;d>c;c++)g.push(a(l.$activeItems[c]).attr("data-value"));b&&(b.preventDefault(),b.stopPropagation())}else(l.isFocused||"single"===l.settings.mode)&&l.items.length&&(0>e&&0===f.start&&0===f.length?g.push(l.items[l.caretPos-1]):e>0&&f.start===l.$control_input.val().length&&g.push(l.items[l.caretPos]));if(!g.length||"function"==typeof l.settings.onDelete&&l.settings.onDelete.apply(l,[g])===!1)return!1;for("undefined"!=typeof h&&l.setCaret(h);g.length;)l.removeItem(g.pop());return l.showInput(),l.positionDropdown(),l.refreshOptions(!0),i&&(j=l.getOption(i),j.length&&l.setActiveOption(j)),!0},advanceSelection:function(a,b){var c,d,e,f,g,h,i=this;0!==a&&(i.rtl&&(a*=-1),c=a>0?"last":"first",d=H(i.$control_input[0]),i.isFocused&&!i.isInputHidden?(f=i.$control_input.val().length,g=0>a?0===d.start&&0===d.length:d.start===f,g&&!f&&i.advanceCaret(a,b)):(h=i.$control.children(".active:"+c),h.length&&(e=i.$control.children(":not(input)").index(h),i.setActiveItem(null),i.setCaret(a>0?e+1:e))))},advanceCaret:function(a,b){var c,d,e=this;0!==a&&(c=a>0?"next":"prev",e.isShiftDown?(d=e.$control_input[c](),d.length&&(e.hideInput(),e.setActiveItem(d),b&&b.preventDefault())):e.setCaret(e.caretPos+a))},setCaret:function(b){var c=this;if(b="single"===c.settings.mode?c.items.length:Math.max(0,Math.min(c.items.length,b)),!c.isPending){var d,e,f,g;for(f=c.$control.children(":not(input)"),d=0,e=f.length;e>d;d++)g=a(f[d]).detach(),b>d?c.$control_input.before(g):c.$control.append(g)}c.caretPos=b},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var a=this;a.$input.prop("disabled",!0),a.isDisabled=!0,a.lock()},enable:function(){var a=this;a.$input.prop("disabled",!1),a.isDisabled=!1,a.unlock()},destroy:function(){var b=this,c=b.eventNS,d=b.revertSettings;b.trigger("destroy"),b.off(),b.$wrapper.remove(),b.$dropdown.remove(),b.$input.html("").append(d.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:d.tabindex}).show(),b.$control_input.removeData("grow"),b.$input.removeData("selectize"),a(window).off(c),a(document).off(c),a(document.body).off(c),delete b.$input[0].selectize},render:function(a,b){var c,d,e="",f=!1,g=this,h=/^[\t ]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return("option"===a||"item"===a)&&(c=y(b[g.settings.valueField]),f=!!c),f&&(x(g.renderCache[a])||(g.renderCache[a]={}),g.renderCache[a].hasOwnProperty(c))?g.renderCache[a][c]:(e=g.settings.render[a].apply(this,[b,z]),("option"===a||"option_create"===a)&&(e=e.replace(h,"<$1 data-selectable")),"optgroup"===a&&(d=b[g.settings.optgroupValueField]||"",e=e.replace(h,'<$1 data-group="'+A(z(d))+'"')),("option"===a||"item"===a)&&(e=e.replace(h,'<$1 data-value="'+A(z(c||""))+'"')),f&&(g.renderCache[a][c]=e),e)},clearCache:function(a){var b=this;"undefined"==typeof a?b.renderCache={}:delete b.renderCache[a]}}),L.count=0,L.defaults={plugins:[],delimiter:",",persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,scrollDuration:60,loadThrottle:300,dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",optgroupOrder:null,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,render:{}},a.fn.selectize=function(b){var c=a.fn.selectize.defaults,d=a.extend({},c,b),e=d.dataAttr,f=d.labelField,g=d.valueField,h=d.optgroupField,i=d.optgroupLabelField,j=d.optgroupValueField,k=function(b,c){var e,h,i,j,k=a.trim(b.val()||"");if(k.length){for(i=k.split(d.delimiter),e=0,h=i.length;h>e;e++)j={},j[f]=i[e],j[g]=i[e],c.options[i[e]]=j;c.items=i}},l=function(b,c){var d,k,l,m,n=0,o=c.options,p=function(a){var b=e&&a.attr(e);return"string"==typeof b&&b.length?JSON.parse(b):null},q=function(b,d){var e,i;if(b=a(b),e=b.attr("value")||"",e.length){if(o.hasOwnProperty(e))return void(d&&(o[e].optgroup?a.isArray(o[e].optgroup)?o[e].optgroup.push(d):o[e].optgroup=[o[e].optgroup,d]:o[e].optgroup=d));i=p(b)||{},i[f]=i[f]||b.text(),i[g]=i[g]||e,i[h]=i[h]||d,i.$order=++n,o[e]=i,b.is(":selected")&&c.items.push(e)}},r=function(b){var d,e,f,g,h;for(b=a(b),f=b.attr("label"),f&&(g=p(b)||{},g[i]=f,g[j]=f,c.optgroups[f]=g),h=a("option",b),d=0,e=h.length;e>d;d++)q(h[d],f)};for(c.maxItems=b.attr("multiple")?null:1,m=b.children(),d=0,k=m.length;k>d;d++)l=m[d].tagName.toLowerCase(),"optgroup"===l?r(m[d]):"option"===l&&q(m[d])};return this.each(function(){if(!this.selectize){var d,e=a(this),f=this.tagName.toLowerCase(),g={placeholder:e.children('option[value=""]').text()||e.attr("placeholder"),options:{},optgroups:{},items:[]};"select"===f?l(e,g):k(e,g),d=new L(e,a.extend(!0,{},c,g,b))}})},a.fn.selectize.defaults=L.defaults,L.define("drag_drop",function(){if(!a.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var b=this;b.lock=function(){var a=b.lock;return function(){var c=b.$control.data("sortable");return c&&c.disable(),a.apply(b,arguments)}}(),b.unlock=function(){var a=b.unlock;return function(){var c=b.$control.data("sortable");return c&&c.enable(),a.apply(b,arguments)}}(),b.setup=function(){var c=b.setup;return function(){c.apply(this,arguments);var d=b.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:b.isLocked,start:function(a,b){b.placeholder.css("width",b.helper.css("width")),d.css({overflow:"visible"})},stop:function(){d.css({overflow:"hidden"});var c=b.$activeItems?b.$activeItems.slice():null,e=[];d.children("[data-value]").each(function(){e.push(a(this).attr("data-value"))}),b.setValue(e),b.setActiveItem(c)}})}}()}}),L.define("dropdown_header",function(b){var c=this;b=a.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(a){return'<div class="'+a.headerClass+'"><div class="'+a.titleRowClass+'"><span class="'+a.labelClass+'">'+a.title+'</span><a href="javascript:void(0)" class="'+a.closeClass+'">&times;</a></div></div>'}},b),c.setup=function(){var d=c.setup;return function(){d.apply(c,arguments),c.$dropdown_header=a(b.html(b)),c.$dropdown.prepend(c.$dropdown_header)}}()}),L.define("optgroup_columns",function(b){var c=this;b=a.extend({equalizeWidth:!0,equalizeHeight:!0},b),this.getAdjacentOption=function(b,c){var d=b.closest("[data-group]").find("[data-selectable]"),e=d.index(b)+c;return e>=0&&e<d.length?d.eq(e):a()},this.onKeyDown=function(){var a=c.onKeyDown;return function(b){var d,e,f,g;return!this.isOpen||b.keyCode!==j&&b.keyCode!==m?a.apply(this,arguments):(c.ignoreHover=!0,g=this.$activeOption.closest("[data-group]"),d=g.find("[data-selectable]").index(this.$activeOption),g=b.keyCode===j?g.prev("[data-group]"):g.next("[data-group]"),f=g.find("[data-selectable]"),e=f.eq(Math.min(f.length-1,d)),void(e.length&&this.setActiveOption(e)))
}}();var d=function(){var a,b=d.width,c=document;return"undefined"==typeof b&&(a=c.createElement("div"),a.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',a=a.firstChild,c.body.appendChild(a),b=d.width=a.offsetWidth-a.clientWidth,c.body.removeChild(a)),b},e=function(){var e,f,g,h,i,j,k;if(k=a("[data-group]",c.$dropdown_content),f=k.length,f&&c.$dropdown_content.width()){if(b.equalizeHeight){for(g=0,e=0;f>e;e++)g=Math.max(g,k.eq(e).height());k.css({height:g})}b.equalizeWidth&&(j=c.$dropdown_content.innerWidth()-d(),h=Math.round(j/f),k.css({width:h}),f>1&&(i=j-h*(f-1),k.eq(f-1).css({width:i})))}};(b.equalizeHeight||b.equalizeWidth)&&(B.after(this,"positionDropdown",e),B.after(this,"refreshOptions",e))}),L.define("remove_button",function(b){if("single"!==this.settings.mode){b=a.extend({label:"&times;",title:"Remove",className:"remove",append:!0},b);var c=this,d='<a href="javascript:void(0)" class="'+b.className+'" tabindex="-1" title="'+z(b.title)+'">'+b.label+"</a>",e=function(a,b){var c=a.search(/(<\/[^>]+>\s*)$/);return a.substring(0,c)+b+a.substring(c)};this.setup=function(){var f=c.setup;return function(){if(b.append){var g=c.settings.render.item;c.settings.render.item=function(){return e(g.apply(this,arguments),d)}}f.apply(this,arguments),this.$control.on("click","."+b.className,function(b){if(b.preventDefault(),!c.isLocked){var d=a(b.currentTarget).parent();c.setActiveItem(d),c.deleteSelection()&&c.setCaret(c.items.length)}})}}()}}),L.define("restore_on_backspace",function(a){var b=this;a.text=a.text||function(a){return a[this.settings.labelField]},this.onKeyDown=function(){var c=b.onKeyDown;return function(b){var d,e;return b.keyCode===p&&""===this.$control_input.val()&&!this.$activeItems.length&&(d=this.caretPos-1,d>=0&&d<this.items.length)?(e=this.options[this.items[d]],this.deleteSelection(b)&&(this.setTextboxValue(a.text.apply(this,[e])),this.refreshOptions(!0)),void b.preventDefault()):c.apply(this,arguments)}}()}),L}),!function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery),function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.viewportUnitsBuggyfill=b()}(this,function(){"use strict";function a(a){q||!a&&!u||(q=!0,p=document.createElement("style"),p.id="patched-viewport",document.head.appendChild(p),j(function(){window.addEventListener("orientationchange",c,!0),c()}))}function b(){p.textContent=f()}function c(){q&&(d(),b())}function d(){return o=[],s.call(document.styleSheets,function(a){"patched-viewport"!==a.ownerNode.id&&a.cssRules&&(!a.media.mediaText||window.matchMedia(a.media.mediaText).matches)&&s.call(a.cssRules,e)}),o}function e(a){if(7===a.type){var b=a.cssText;return r.lastIndex=0,void(r.test(b)&&o.push([a,null,b]))}if(!a.style){if(!a.cssRules)return;return void s.call(a.cssRules,function(a){e(a)})}s.call(a.style,function(b){var c=a.style.getPropertyValue(b);r.lastIndex=0,r.test(c)&&o.push([a,b,c])})}function f(){n=i();var a,b,c=[],d=[];return o.forEach(function(e){var f=g.apply(null,e),h=f.selector.length?f.selector.join(" {\n")+" {\n":"",i=new Array(f.selector.length+1).join("\n}");return h&&h===a?(h&&!a&&(a=h,b=i),void d.push(f.content)):(d.length&&(c.push(a+d.join("\n")+b),d.length=0),void(h?(a=h,b=i,d.push(f.content)):(c.push(f.content),a=null,b=null)))}),d.length&&c.push(a+d.join("\n")+b),c.join("\n\n")}function g(a,b,c){var d=c.replace(r,h),e=[];b&&(e.push(a.selectorText),d=b+": "+d+";");for(var f=a.parentRule;f;)e.unshift("@media "+t.call(f.media,", ")),f=f.parentRule;return{selector:e,content:d}}function h(a,b,c){var d=n[c],e=parseFloat(b)/100;return e*d+"px"}function i(){var a=window.innerHeight,b=window.innerWidth;return{vh:a,vw:b,vmax:Math.max(b,a),vmin:Math.min(b,a)}}function j(a){var b=0,c=function(){b--,b||a()};s.call(document.styleSheets,function(a){a.href&&k(a.href)!==k(location.href)&&(b++,l(a.ownerNode,c))}),b||a()}function k(a){return a.slice(0,a.indexOf("/",a.indexOf("://")+3))}function l(a,b){m(a.href,function(){var c=document.createElement("style");c.media=a.media,c.setAttribute("data-href",a.href),c.textContent=this.responseText,a.parentNode.replaceChild(c,a),b()},b)}function m(a,b,c){var d=new XMLHttpRequest;if("withCredentials"in d)d.open("GET",a,!0);else{if("undefined"==typeof XDomainRequest)throw new Error("cross-domain XHR not supported");d=new XDomainRequest,d.open("GET",a)}return d.onload=b,d.onerror=c,d.send(),d}var n,o,p,q=!1,r=/([0-9.-]+)(vh|vw|vmin|vmax)/g,s=[].forEach,t=[].join,u=/(iPhone|iPod|iPad).+AppleWebKit/i.test(window.navigator.userAgent);return{version:"0.3.1",findProperties:d,getCss:f,init:a,refresh:c}});